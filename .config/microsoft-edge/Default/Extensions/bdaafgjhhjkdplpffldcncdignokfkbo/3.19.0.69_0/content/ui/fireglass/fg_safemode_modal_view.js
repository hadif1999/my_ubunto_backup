!function(e){"use strict";(e.FG=e.FG||{}).safeModeModalDlgView=function(e,t){let i=e.utils.isNil,s=e.utils.isntNil,n=e.utils.isString,d=e.extensionAdapter,l=e.logger,a=t.config,o={init:function(){this.dialogProps={};var e=document.getElementById("help"),e=(s(e)&&(e.addEventListener("contextmenu",function(e){e.isTrusted&&e.preventDefault()}),e.addEventListener("click",function(e){e.isTrusted&&o._sendMessage("help","click",null)})),document.getElementById("help_2")),e=(s(e)&&(e.addEventListener("contextmenu",function(e){e.isTrusted&&e.preventDefault()}),e.addEventListener("click",function(e){e.isTrusted&&o._sendMessage("help_2","click",null)})),document.getElementById("fg_leavefeedback_text")),e=(null!==e&&(e.addEventListener("contextmenu",function(e){e.isTrusted&&e.preventDefault()}),e.addEventListener("click",function(e){e.isTrusted&&o._sendMessage("leavefeedback","click",null)})),document.getElementById("footer_link")),e=(s(e)&&(e.addEventListener("contextmenu",function(e){e.isTrusted&&e.preventDefault()}),e.addEventListener("click",function(e){e.isTrusted&&(o._sendMessage("footer_link","click",null),e.preventDefault())})),document.getElementById("default_ok")),e=(s(e)&&e.addEventListener("click",function(e){e.isTrusted&&o._sendMessage("default_ok","click",null)}),document.getElementById("default_cancel")),e=(s(e)&&e.addEventListener("click",function(e){e.isTrusted&&o._sendMessage("default_cancel","click",null)}),document.getElementById("fg_check_01")),e=(null!==e&&e.addEventListener("change",function(e){e.isTrusted&&(e={value:this.checked},o._sendMessage("fg_check_01","click",e))}),document.getElementById("default_close"));s(e)&&e.addEventListener("click",function(e){e.isTrusted&&o._sendMessage("default_close","click",null)}),document.onkeyup=e=>{!e.isTrusted||"Esc"!==e.key&&"Escape"!==e.key||o._sendMessage("default_close","click",null)},o._sendMessage(null,"show",null)}},c=d.getExtensionURL("");return o.initDocumentData=function(e){if(!i(e))for(var t in e){var n=e[t];if(i(n)||i(n.value))l.debug("No data configuration for "+t);else{let e=document.getElementById(t);if(i(e))l.debug("Element "+t+"not found in document ");else switch(e.type){case"checkbox":case"radio":e.checked=!0===n.value;break;default:e.value=n.value}}}},o.setDefaultButton=function(){let e="default_ok",t=(a.safeModeDialog.dialogType.onlineBanking===this.dialogProps.dialogType&&(e="default_cancel"),document.getElementById(e));s(t)&&t.setAttribute("default_button",""),t.focus()},o.initDialog=function(e){a.safeModeDialog.dialogType.onlineBanking===e.dialogType?document.body.setAttribute("category","banking"):document.body.setAttribute("category","general"),a.safeModeDialog.dialogMode.interstitial===e.dialogMode?document.body.setAttribute("mode","interstitial"):document.body.setAttribute("mode","signin"),this.dialogProps=e,this.initDocumentData(e.dialogData),this.setDefaultButton()},o._sendMessage=function(e,t,n){let i={};s(n)&&(i.element=n),i.dialog={},i.dialog.type=this.dialogProps.dialogType,d.sendMessage({type:"fg_message_proxy",id:a.uiMessageProxy.EVENT_ID,realId:a.dialogRenderer.EVENT_ID,data:{id:e,type:t,evtData:i}})},o._msgEventProc=function(e){var t=e.data;if(!i(t)){e=t.origin;if(0!=n(e)&&e==c)switch(t.state){case a.safeModeDialog.displayState.show:o.initDialog(t.props);break;case a.safeModeDialog.displayState.hide:o._sendMessage(null,"close",null)}}},window.addEventListener("message",o._msgEventProc,!1),window.onload=function(){o.init(),d.sendMessage({type:"fg_get_strings",ui_type:"safemode_dialog"},function(e){for(var t=Object.keys(e),n=Object.values(e),i=0;i<t.length;i++){let e=document.getElementById(t[i]);s(e)&&(e.innerHTML=n[i])}})},o}(e.SymBfw,e.FG)}(this);