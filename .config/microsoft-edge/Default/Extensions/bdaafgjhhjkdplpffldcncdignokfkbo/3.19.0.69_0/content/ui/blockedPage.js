!function(e){"use strict";var i,t,o,c,l,p,a,g,m;(e.NSSS=e.NSSS||{}).blockPage=(i=e.SymBfw,t=e.NSSS,e.FG,o=i.utils.isNil,c=i.utils.isntNil,i.utils.isFunction,l=t.uiConstants.MESSAGES,p=t.uiConstants.BLOCKPAGE.parameterKeys,a=t.uiConstants.BLOCKPAGE.TYPE,g=t.constants,(m={parameters:{},strings:{},initializePage:function(){i.localizerProxy.getCurrentLanguageDirection(function(e){"rtl"===e&&$("body").attr("dir","rtl")}),m.sliceURI(top.document.location.search),m.getPageObject(m.parameters[p.BLOCK_PAGE_TYPE],function(e){m.isIPS="IPS"===m.parameters[p.BLOCK_PAGE_TYPE],m.strings=e.string,m.showSafeWebSearchbox=e.showSafeWebSearchbox,m.showNortonLinks=e.showNortonLinks,m.isFireGlassSupported=e.isFireGlassSupported,m.fullReportURL=m.parameters[p.REPORT_URL]+"&ulang="+m.parameters[p.ULANG],m.pageType=e.pageType,m.showFullReport=e.canShowFullReport,t.blockPage.updateUI()})},performSearch:function(){var e=$(".block-page-search-text").val();i.extensionAdapter.sendMessage({name:l.BLOCKEDPAGE_SEARCH,message:{searchText:e}})},getPageObject:function(e,t){i.extensionAdapter.sendMessage({name:l.BLOCKEDPAGE_INIT,message:{pageType:e}},t)},sliceURI:function(e){for(var t,a=e.slice(1).split("&"),r=0;r<a.length;r++)t=a[r].slice(0,a[r].indexOf("=")),m.parameters[t]=a[r].slice(a[r].indexOf("=")+1)},updateUI:function(){m.parameters[p.BLOCK_PAGE_TYPE]===a.SUSPECTEDBAD&&($(".block-page-header").attr("pageType",m.parameters[p.BLOCK_PAGE_TYPE]),$(".block-page-sitename").attr("pageType",m.parameters[p.BLOCK_PAGE_TYPE]),$(".block-page-text3").attr("pageType",m.parameters[p.BLOCK_PAGE_TYPE]),$(".block-page-norton-logo").attr("pageType",m.parameters[p.BLOCK_PAGE_TYPE])),$(".block-page-sitename").html(m.parameters[p.ORIGINAL_URL]),$(".block-page-text1").html(m.strings.blockedBy),$(".block-page-heading").html(m.strings.title),$(".block-page-text2").html(m.strings.line2),$(".description").html(m.strings.description1+" "+m.strings.description2),$(".text3_3").html(m.strings.visit_symc1),$(".symantec").html(m.strings.symantec),$(".text3_5").html(m.strings.visit_symc2),$(".continue-to-site").html(m.strings.linkToSite),$(".continue-to-site").click(t.blockPage.continueToSite),$(".view-report-text").html(m.strings.reportSite),$(".report-link").attr("href",m.fullReportURL),c(m.showFullReport)&&!1===m.showFullReport&&$(".block-page-view-report").hide(),c(m.isIPS)&&!0===m.isIPS&&$(".symantec").click(m.openIPSLearnMoreLink),!1===m.showSafeWebSearchbox&&$(".block-page-search").hide(),!1===m.showNortonLinks&&$(".block-page-text3-line2").hide(),$(".block-page-search-text").attr("placeholder",m.strings.searchBoxText),$(".block-page-search-icon").click(t.blockPage.performSearch),$(".block-page-search-text").keypress(function(e){13==e.which&&t.blockPage.performSearch()})},openIPSLearnMoreLink:e=>{e.preventDefault(),i.extensionAdapter.sendMessage({name:l.OPEN_IPS_LEARN_MORE_URL})},locationReplace:function(e){document.location.replace(e)}}).continueToSite=function(){var e=!0===m.isIPS?m.parameters[p.ORIGINAL_URL]:m.parameters[p.CONTINUE_TO_SITE_URL];let t=new URI(e);var a=URI.parseQuery(t._parts.query),a=o(a[g.URL_IDENTIFIER])?null:a[g.URL_IDENTIFIER],r=m.parameters[p.BLOCK_PAGE_TYPE]||m.pageType;function s(e){var t=e.message.url;c(t)&&""!==t&&"Unavailable"!==t&&i.extensionAdapter.sendMessage(e)}let n={name:l.OPEN_DO_NOT_BLOCK_PAGE,message:{url:e,blockPageType:r}};if(c(a))return!0===m.searched_link_clickPreventionInfo.bHasInfo?n.message.url=m.searched_link_clickPreventionInfo.url:n.message.url=t.removeSearch(g.URL_IDENTIFIER).toString(),void i.extensionAdapter.sendMessage({name:l.ADD_TO_CLICK_PREVENTION_SAFELIST,message:{clickPreventionUrlID:a}},()=>{s(n)});s(n)},m)}(executionContext),$(document).ready(NSSS.blockPage.initializePage);