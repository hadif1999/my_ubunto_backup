!function(e){"use strict";{var n=e.SymBfw,l=e.FG;let t=n.utils.isNil,i=n.utils.isntNil,s=n.utils.isString,o=n.extensionAdapter,d=l.config,a={_updateAttribute:function(n){if(!t(n.data)&&!1!==s(n.data.origin)){var e=o.getExtensionURL("");if(n.data.origin==e){if(i(n.data.sessionInfo)){let e=n.data.sessionInfo;a.sessionInfo={urlCategory:e.urlCategory,ssl:e.sslStatus,address:e.address},l.helpers.set_tab_id(e.tabid),e.hasOwnProperty("urlCategory")&&d.dockConfig.urlCategory.onlineBanking===e.urlCategory&&e.hasOwnProperty("sslStatus")&&d.dockConfig.sslStatus.secure===e.sslStatus?(a._loadText("banking_protection_enabled"),document.body.setAttribute("category","banking")):(a._loadText("isolation_mode_enabled"),document.body.setAttribute("category","general"))}else a.sessionInfo=null;if(i(n.data.prompt)&&!0===n.data.prompt){a.promptBankingProtection=!0,document.body.setAttribute("mode","signin"),a._loadText("banking_protection_disabled");let e=document.getElementById("fgdock_close");i(e)&&(e.style.display="none")}else a.promptBankingProtection=!1}}},_sendMessage:(e,n)=>{o.sendMessage({type:"fg_message_proxy",id:d.uiMessageProxy.EVENT_ID,realId:e,data:n})},_loadText:function(e){l.helpers.get_localized_strings(e,function(n){for(var t=Object.keys(n),s=0;s<t.length;s++){let e=document.getElementById(t[s]);i(e)&&(e.textContent=n[t[s]])}})}};window.addEventListener("message",a._updateAttribute,!1),window.onload=function(){let e=document.getElementById("fgdock"),n=(i(e)&&(e.addEventListener("mouseenter",function(e){l.helpers.isTrustedEvent(e)&&a._sendMessage(d.dockMouseEvent.EVENT_ID,{evt_type:d.dockMouseEvent.eventType.mouseEnter})}),e.addEventListener("mouseleave",function(e){l.helpers.isTrustedEvent(e)&&a._sendMessage(d.dockMouseEvent.EVENT_ID,{evt_type:d.dockMouseEvent.eventType.mouseLeave})})),document.getElementById("fgdock_close")),t=(i(n)&&(n.addEventListener("contextmenu",function(e){l.helpers.isTrustedEvent(e)&&e.preventDefault()}),n.addEventListener("click",function(e){l.helpers.isTrustedEvent(e)&&(i(a.sessionInfo)&&a.sessionInfo.urlCategory===d.dockConfig.urlCategory.onlineBanking&&a.sessionInfo.ssl==d.dockConfig.sslStatus.secure&&i(a.sessionInfo.address)?(a.removed_by_user=!0,e=new URL(a.sessionInfo.address),l.telemetry.pingActionLabelOB(l.telemetry.ACTION_TYPE.DOCK_X_BUTTON_CLICKED,e.hostname),l.helpers.set_skip_session(!0),l.helpers.launch_url_with_callback(a.sessionInfo.address,function(e){},{new_tab:!1}),a.sessionInfo=null):!0===a.promptBankingProtection?a._sendMessage(d.dockMouseEvent.EVENT_ID,{evt_type:d.dockMouseEvent.eventType.click,id:"fgdock_close"}):top.window.close())})),document.getElementById("fg_faq")),s=(i(t)&&t.addEventListener("click",function(e){if(l.helpers.isTrustedEvent(e)){l.telemetry.pingAction(l.telemetry.ACTION_TYPE.LEARN_MORE_CLICKED_DOCK);let e=l.config.helpid;i(a.sessionInfo)?l.config.dockConfig.urlCategory.onlineBanking===a.sessionInfo.urlCategory&&(e=l.config.helpid_online_banking):"signin"===document.body.getAttribute("mode")&&(e=l.config.helpid_online_banking),l.helpers.open_site_redirector(l.config.ssdcat,e)}}),document.getElementById("fg_leavefeedback_text")),o=(i(s)&&(s.addEventListener("contextmenu",function(e){l.helpers.isTrustedEvent(e)&&e.preventDefault()}),s.addEventListener("click",function(e){if(l.helpers.isTrustedEvent(e)){let e=l.config.leave_feedback_link;i(a.sessionInfo)?l.config.dockConfig.urlCategory.onlineBanking===a.sessionInfo.urlCategory&&(e=l.config.leave_feedback_link_OB):"signin"===document.body.getAttribute("mode")&&(e=l.config.leave_feedback_link_OB),l.helpers._appendParamAndLaunchFeedbackUrl(e)}})),document.getElementById("fgdock_signin"));i(o)&&o.addEventListener("click",function(e){l.helpers.isTrustedEvent(e)&&a._sendMessage(d.dockMouseEvent.EVENT_ID,{evt_type:d.dockMouseEvent.eventType.click,id:"fgdock_signin"})}),a._loadText("dock"),!0===a.promptBankingProtection?a._loadText("banking_protection_disabled"):a._loadText("banking_protection_enabled")}}}(this);