!function i(o,s,_){function a(t,e){if(!s[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(r)return r(t,!0);e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n=s[t]={exports:{}};o[t][0].call(n.exports,function(e){return a(o[t][1][e]||e)},n,n.exports,i,o,s,_)}return s[t].exports}for(var r="function"==typeof require&&require,e=0;e<_.length;e++)a(_[e]);return a}({1:[function(e,t,n){!function(){var e;!function(e){"use strict";(e.FG=e.FG||{}).config=((e={page_process_timeout:1e3,add_dock_timeout:200,add_ui_elements_timeout:250,remove_popup_timeout:2e3,iframe_post_timeout:100,add_dock_interval:125,add_dock_max_timeout:5e3,phishing_category_id:18,webmail_category_id:52,social_networking_id:55,financial_category_id:31,trading_category_id:32,uncategorized:90,default_risk_threshold_value:5,minimum_risk_threshold_value:1,response_success:100,response_failure:101,dock_start_minimized:!0,dock_show_always:!1,max_urls_per_request:30,beta:!1,url_markup_default_state:!0,max_banking_prompts_default:3,max_banking_prompts_perpetual:999999,max_rate_limit_isolation_requests_OB:100,max_rate_limit_isolation_api:1e4,max_rate_limit_reset_interval:36e5,settings_key:{}}).settings_key.root="c74e3142-5342-44b1-b7b3-a32d80a55ca6",e.settings_key.url_markup="0f7aae85-cb4c-4991-90b7-4c27b8e7f69c",e.settings_key.online_banking="45e41ff5-6c11-4e5e-b5fd-8715b1d1a190",e.settings_key.online_banking_session_override="023b1a5d-1753-4ce9-9cff-f0bf54252b4b",e.settings_key.sign_in_flow_origin="b9016546-d9a3-4850-a097-3e34508bad22",e.settings_key.scan_notification="796e1dda-4c45-4bb9-bf71-57d26c523923",e.settings_key.dock_timeout="f4fe49e3-90d2-4f93-97b9-c0d3de82364d",e.settings_key.use_modal="cade52d7-ae9f-44bd-b529-fd10d47ea0b1",e.settings_key.lg_sign_in_not_required_mode="643463ce-b557-429f-98ae-3577dec0b207",e.settings_key.feature_ui_configs_file_id="6bc2c7b7-8819-462d-acb5-9299bd908e26",e.settings_key.feature_ui_config_id="13e0849c-ef78-476d-b617-202654da8c6c",e.settings_key.max_banking_prompts="d8cc1e97-a6a2-4a7d-9479-fdd8e4684f68",e.settings_key.banking_prompts_count="e165face-77cf-43eb-bb7d-3265ccd27ebf",e.settings_key.banking_sites="0b9a806d-9954-4e57-85b3-96b00d54d548",e.settings_key.ratelimit_runtime_count="b0fcd033-4be1-4b67-b59f-ce17d2935a99",e.settings_key.ratelimit_max_tries="38088dd1-21cc-444a-ad0c-fb4ac17740a0",e.settings_key.ratelimit_runtime_count_OB="0464e166-cd8e-46cb-8237-10a3e491fa44",e.settings_key.ratelimit_max_tries_OB="96d96c1c-6493-44ae-bc79-936c803a6710",e.settings_key.ratelimit_reset_interval="7a3a2967-cb2c-453a-a61e-43764fbf5691",e.settings_key.dock_start_minimized="67733cb0-77de-41b7-9aa8-8e31a915758e",e.settings_key.dock_show_always="47258e7e-72e6-468e-809b-6f09dfb349a8",e.cache_key={},e.cache_key.root="9b9e3fe8-2b67-40fc-96c7-d7b3de0d7d8a",e.debug=!1,e.active_everywhere=!1,e.standalone=!1,e.staging=!1,e.sign_in_not_required_mode=!0,e.enable_online_banking=!1,e.only_whitelisted_banking_sites=!0,e.keyword_isolation_url="email-isolation.prod.fire.glass",e.keyword_isolation_url_norton_specific="isolate.norton.com",e.telemetry={},e.telemetry.TRACKING_ID="__FG_TRACKING_ID__",e.telemetry.SEND_PING="{04EFD197-5D63-43D6-A225-8E78B2514584}",e.telemetry.ping={},e.telemetry.ping.RatingsQuery={TOP_URL:"a",SCANNED_URLS:"b",BAD_URLS:"c",UNKNOWN_URLS:"d"},e.telemetry.ping.IsolationLaunch={TOP_URL:"a",ISOLATION_URL:"b",OPT_OUT:"c"},e.telemetry.ping.IsolationUsage={URL:"a",USE_TIME:"b",NAVIGATION_COMPLETE:"c",IDLE_TIME:"d",CLICK_COUNT:"e",KEY_COUNT:"f"},e.help_ids={SAFEMODE_01:10001,SAFEMODE_02:10002},e.notifications={},e.notifications.type={pageScanNotification:0},e.uiMessageProxy={},e.uiMessageProxy.EVENT_ID="{d3034228-f99f-459e-b971-6bd8e702e59b}",e.docControls={},e.docControls.EVENT_ID="{444eb5be-50bc-4d68-a133-d92d34de1ef6}",e.dialogRenderer={},e.dialogRenderer.EVENT_ID="{6400d87a-4919-47af-b243-b162194be77d}",e.dialogRendererProxy={},e.dialogRendererProxy.EVENT_ID="{87e8946f-b2eb-4776-9f09-5a3fe39c848e}",e.safeModeDialog={},e.safeModeDialog.EVENT_ID="{22bc9f72-b437-4745-812d-4ee3f3e41fc4}",e.dockMouseEvent={},e.dockMouseEvent.EVENT_ID="{50d7ef15-de29-4ea9-8268-99cd06288eb3}",e.dockMouseEvent.eventType={mouseEnter:0,mouseLeave:1,mouseOverFaq:2,click:3,close:4},e.dockPopupEvent={},e.dockPopupEvent.EVENT_ID="{4ebf0520-614e-4af2-b2c2-200ec3a63d18}",e.dockPopupEvent.eventType={show:0,hide:1,close:2},e.dockResourceEvent={},e.dockResourceEvent.EVENT_ID="{9a0c0b88-4dfe-4451-ba67-d73a636e1a92}",e.dockResourceEvent.eventType={unload:0},e.safeModeDialog.dialogType={threatIsolation:0,onlineBanking:1},e.safeModeDialog.dialogMode={signin:0,interstitial:1},e.safeModeDialog.displayState={hide:0,show:1},e.dockConfig={},e.dockConfig.sslStatus={insecure:0,secure:1},e.dockConfig.urlCategory={general:0,onlineBanking:1},e.dockConfig.trigger={onDemand:0,prompt:1},e.onlineBanking={Isolation_State:{On:0,Off:1,Prompt:2}},e.strings={},e.strings.dictionary="fg_strings",e.strings.security_popup={fg_security_header_text:"SUSPICIOUS LINK",fg_popup_description_text:"Norton now warns you of suspicious links in your email to protect you from malicious activity."},e.strings.dock={fg_leavefeedback_text:"Leave Feedback",fgdock_signin:"Try this feature"},e.strings.banking_protection_disabled={message_text:"Banking Protection Disabled"},e.strings.banking_protection_enabled={message_text:"Banking Protection Enabled"},e.strings.isolation_mode_enabled={message_text:"You're browsing safely in Isolation Mode"},e.strings.faq_popup={fg_faq_msg:"Provides additional security for online transactions and helps keep your financial information and other personal data away from hackers.",fg_faq_msg_signed_in:"Provides additional security for online transactions and helps keep your financial information and other personal data away from hackers. You can turn this feature off in",help:"Learn More",help_signed_in:"Settings"},e.strings.safemode_dialog={fg_desc_title:"If you visit this site...",fg_desc_isolation_summary:"Isolation Mode",fg_desc_isolation_text:"provides additional protection when visiting risky websites that may contain malware or browser exploits.",help:"Learn More",fg_signin_message:"Sign in to your NortonLifeLock account to enable Isolation Mode.",footer_link:"Continue Without Isolation Mode",fg_signin_btn_text:"Sign In",fg_continue_btn_text:"Continue",fg_cancel_btn_text:"Cancel",fg_leavefeedback_text:"Leave Feedback",fg_desc_title_banking:"Banking Protection",fg_desc_banking_protection_summary:"Isolation Mode",fg_desc_banking_protection_text:"provides additional security for online transactions and helps keep your financial information and other personal data away from hackers.",fg_signin_message_2:"Sign in to your NortonLifeLock account to enable Isolation Mode.",help_2:"Learn More",fg_settings_this_website:"Remember for this website",fg_settings_all_websites:"Remember for all banking websites"},e.strings.page_scan_notification={title:"",description:"Weâ€™ll highlight suspicious links in Webmail, Facebook, Twitter and other accounts.",learn_more:"Learn More",ok_button:"OK"},e.default_country="US",e.site_redirector_url="http://sitedirector.norton.com/932743328?ssdcat=SSDCAT_VALUE&env=prod&origin=nsss&displang=iso3:ISO3_LAN_CODE&displocale=iso3:ISO3_COUNTRY_CODE",e.ISO2_2_ISO3_lang={AB:"ABK",AA:"AAR",AF:"AFR",AK:"AKA",SQ:"SQI",AM:"AMH",AR:"ARA",AN:"ARG",HY:"HYE",AS:"ASM",AV:"AVA",AE:"AVE",AY:"AYM",AZ:"AZE",BM:"BAM",BA:"BAK",EU:"EUS",BE:"BEL",BN:"BEN",BH:"BIH",BI:"BIS",BS:"BOS",BR:"BRE",BG:"BUL",MY:"MYA",CA:"CAT",CH:"CHA",CE:"CHE",NY:"NYA",ZH:"ZHO",CV:"CHV",KW:"COR",CO:"COS",CR:"CRE",HR:"HRV",CS:"CES",DA:"DAN",DV:"DIV",NL:"NLD",DZ:"DZO",EN:"ENG",EO:"EPO",ET:"EST",EE:"EWE",FO:"FAO",FJ:"FIJ",FI:"FIN",FR:"FRA",FF:"FUL",GL:"GLG",KA:"KAT",DE:"DEU",EL:"ELL",GN:"GRN",GU:"GUJ",HT:"HAT",HA:"HAU",HE:"HEB",HZ:"HER",HI:"HIN",HO:"HMO",HU:"HUN",IA:"INA",ID:"IND",IE:"ILE",GA:"GLE",IG:"IBO",IK:"IPK",IO:"IDO",IS:"ISL",IT:"ITA",IU:"IKU",JA:"JPN",JV:"JAV",KL:"KAL",KN:"KAN",KR:"KAU",KS:"KAS",KK:"KAZ",KM:"KHM",KI:"KIK",RW:"KIN",KY:"KIR",KV:"KOM",KG:"KON",KO:"KOR",KU:"KUR",KJ:"KUA",LA:"LAT",LB:"LTZ",LG:"LUG",LI:"LIM",LN:"LIN",LO:"LAO",LT:"LIT",LU:"LUB",LV:"LAV",GV:"GLV",MK:"MKD",MG:"MLG",MS:"MSA",ML:"MAL",MT:"MLT",MI:"MRI",MR:"MAR",MH:"MAH",MN:"MON",NA:"NAU",NV:"NAV",ND:"NDE",NE:"NEP",NG:"NDO",NB:"NOB",NN:"NNO",NO:"NOR",II:"III",NR:"NBL",OC:"OCI",OJ:"OJI",CU:"CHU",OM:"ORM",OR:"ORI",OS:"OSS",PA:"PAN",PI:"PLI",FA:"FAS",PL:"POL",PS:"PUS",PT:"POR",QU:"QUE",RM:"ROH",RN:"RUN",RO:"RON",RU:"RUS",SA:"SAN",SC:"SRD",SD:"SND",SE:"SME",SM:"SMO",SG:"SAG",SR:"SRP",GD:"GLA",SN:"SNA",SI:"SIN",SK:"SLK",SL:"SLV",SO:"SOM",ST:"SOT",ES:"SPA",SU:"SUN",SW:"SWA",SS:"SSW",SV:"SWE",TA:"TAM",TE:"TEL",TG:"TGK",TH:"THA",TI:"TIR",BO:"BOD",TK:"TUK",TL:"TGL",TN:"TSN",TO:"TON",TR:"TUR",TS:"TSO",TT:"TAT",TW:"TWI",TY:"TAH",UG:"UIG",UK:"UKR",UR:"URD",UZ:"UZB",VE:"VEN",VI:"VIE",VO:"VOL",WA:"WLN",CY:"CYM",WO:"WOL",FY:"FRY",XH:"XHO",YI:"YID",YO:"YOR",ZA:"ZHA",ZU:"ZUL"},e.ISO2_2_ISO3_locale={AX:"ALA",AF:"AFG",AL:"ALB",DZ:"DZA",AS:"ASM",AD:"AND",AO:"AGO",AI:"AIA",AQ:"ATA",AG:"ATG",AR:"ARG",AM:"ARM",AW:"ABW",AU:"AUS",AT:"AUT",AZ:"AZE",BS:"BHS",BH:"BHR",BD:"BGD",BB:"BRB",BY:"BLR",BE:"BEL",BZ:"BLZ",BJ:"BEN",BM:"BMU",BT:"BTN",BO:"BOL",BA:"BIH",BW:"BWA",BV:"BVT",BR:"BRA",IO:"IOT",BN:"BRN",BG:"BGR",BF:"BFA",BI:"BDI",KH:"KHM",CM:"CMR",CA:"CAN",CV:"CPV",KY:"CYM",CF:"CAF",TD:"TCD",CL:"CHL",CN:"CHN",CX:"CXR",CC:"CCK",CO:"COL",KM:"COM",CD:"COD",CG:"COG",CK:"COK",CR:"CRI",CI:"CIV",HR:"HRV",CU:"CUB",CY:"CYP",CZ:"CZE",DK:"DNK",DJ:"DJI",DM:"DMA",DO:"DOM",EC:"ECU",EG:"EGY",SV:"SLV",GQ:"GNQ",ER:"ERI",EE:"EST",ET:"ETH",FK:"FLK",FO:"FRO",FJ:"FJI",FI:"FIN",FR:"FRA",GF:"GUF",PF:"PYF",TF:"ATF",GA:"GAB",GM:"GMB",GE:"GEO",DE:"DEU",GH:"GHA",GI:"GIB",GR:"GRC",GL:"GRL",GD:"GRD",GP:"GLP",GU:"GUM",GT:"GTM",GN:"GIN",GW:"GNB",GY:"GUY",HT:"HTI",HM:"HMD",HN:"HND",HK:"HKG",HU:"HUN",IS:"ISL",IN:"IND",ID:"IDN",IR:"IRN",IQ:"IRQ",IE:"IRL",IL:"ISR",IT:"ITA",JM:"JAM",JP:"JPN",JO:"JOR",KZ:"KAZ",KE:"KEN",KI:"KIR",KP:"PRK",KR:"KOR",KW:"KWT",KG:"KGZ",LA:"LAO",LV:"LVA",LB:"LBN",LS:"LSO",LR:"LBR",LY:"LBY",LI:"LIE",LT:"LTU",LU:"LUX",MO:"MAC",MK:"MKD",MG:"MDG",MW:"MWI",MY:"MYS",MV:"MDV",ML:"MLI",MT:"MLT",MH:"MHL",MQ:"MTQ",MR:"MRT",MU:"MUS",YT:"MYT",MX:"MEX",FM:"FSM",MD:"MDA",MC:"MCO",MN:"MNG",MS:"MSR",MA:"MAR",MZ:"MOZ",MM:"MMR",NA:"NAM",NR:"NRU",NP:"NPL",NL:"NLD",AN:"ANT",NC:"NCL",NZ:"NZL",NI:"NIC",NE:"NER",NG:"NGA",NU:"NIU",NF:"NFK",MP:"MNP",NO:"NOR",OM:"OMN",PK:"PAK",PW:"PLW",PS:"PSE",PA:"PAN",PG:"PNG",PY:"PRY",PE:"PER",PH:"PHL",PN:"PCN",PL:"POL",PT:"PRT",PR:"PRI",QA:"QAT",RE:"REU",RO:"ROU",RU:"RUS",RW:"RWA",SH:"SHN",KN:"KNA",LC:"LCA",PM:"SPM",VC:"VCT",WS:"WSM",SM:"SMR",ST:"STP",SA:"SAU",SN:"SEN",CS:"SCG",SC:"SYC",SL:"SLE",SG:"SGP",SK:"SVK",SI:"SVN",SB:"SLB",SO:"SOM",ZA:"ZAF",GS:"SGS",ES:"ESP",LK:"LKA",SD:"SDN",SR:"SUR",SJ:"SJM",SZ:"SWZ",SE:"SWE",CH:"CHE",SY:"SYR",TW:"TWN",TJ:"TJK",TZ:"TZA",TH:"THA",TL:"TLS",TG:"TGO",TK:"TKL",TO:"TON",TT:"TTO",TN:"TUN",TR:"TUR",TM:"TKM",TC:"TCA",TV:"TUV",UG:"UGA",UA:"UKR",AE:"ARE",GB:"GBR",US:"USA",UM:"UMI",UY:"URY",UZ:"UZB",VU:"VUT",VA:"VAT",VE:"VEN",VN:"VNM",VG:"VGB",VI:"VIR",WF:"WLF",EH:"ESH",YE:"YEM",ZM:"ZMB",ZW:"ZWE"},e.ssdcat="310",e.helpid="&helpid=webisolation",e.helpid_url_markup="&helpid=suspiciouslink",e.helpid_online_banking="&helpid=onlinebanking",e.leave_feedback_link="https://nebula-cdn.kampyle.com/direct/form.html?region=prodUsOregon&websiteId=458056&formId=28851&source=webisolation",e.leave_feedback_link_OB="https://nebula-cdn.kampyle.com/direct/form.html?region=prodUsOregon&websiteId=458056&formId=28851&source=onlinebanking",e.feature_type={invalid:0,link_guard:1,block_page:2,online_banking:3},e.kill_location="https://branding.norton.com/upgrade/WEBISOLATION/KFG22.txt",e.kill_location_LG="https://branding.norton.com/upgrade/WEBISOLATION/KLG22.txt",e.kill_location_BP="https://branding.norton.com/upgrade/WEBISOLATION/KBP22.txt",e.kill_location_OB="https://branding.norton.com/upgrade/WEBISOLATION/KOB22.txt",e.feature_ui_configs_location="https://branding.norton.com/upgrade/WEBISOLATION/feature_ui_configs.json",e.config_json_timeout=1e3,e.config_json_interval=288e5,e.alarm={load_ui_configs_alarm:"load_ui_configs_alarm",ob_rate_limit_alarm:"ob_rate_limit_alarm",refresh_token:"refresh_token",refresh_kill_check_alarm:"refresh_kill_check_alarm",refresh_token_initial:"refresh_token_initial",refresh_kill_check_alarm_initial:"refresh_kill_check_alarm_initial",initialize_rate_limit_reset_alarm:"initialize_rate_limit_reset_alarm"},Object.freeze(e))}(this),function(e){"use strict";var t,i,r,c,l;(e.FG=e.FG||{}).telemetry=(t=e.SymBfw,e=e.FG,i=t.utils.isNil,r=t.telemetryConstants,t.logger,c=e.config,l={TELEMETRY_CATEGORY:{FIREGLASS:"Fireglass",ONLINE_BANKING:"OnlineBanking"},ACTION_TYPE:{RATINGS_QUERY:"RatingsQuery",RATINGS_QUERY_BAD:"RatingsQueryBad",RATINGS_QUERY_BAD_PRESIGNIN:"RatingsQueryBadPresignin",RATINGS_QUERY_SCANNED:"RatingsQueryScanned",ISOLATION_LAUNCH:"IsolationLaunch",TAB_ACTIVITY:"TabActivity",GENERIC:"Generic",INTERSTITIAL_DIALOG_DISPLAYED:"IDDisplayed",INTERSTITIAL_DIALOG_DISPLAYED_SIGNIN:"IDDisplayedSignin",INTERSTITIAL_DIALOG_DISPLAYED_CONTINUE:"IDDisplayedContinue",INTERSTITIAL_DIALOG_DISPLAYED_CONTINUE_NO_ISOLATION:"IDDisplayedContinueNoIsolation",INTERSTITIAL_DIALOG_DISPLAYED_CLOSED:"IDDisplayedClosed",INTERSTITIAL_DIALOG_DISPLAYED_LEARN_MORE_CLICKED:"IDDisplayedLearnMoreClicked",INTERSTITIAL_DIALOG_DISPLAYED_FROM_BLOCKPAGE:"IDBPDisplayed",INTERSTITIAL_DIALOG_DISPLAYED_FROM_BLOCKPAGE_SIGNIN:"IDBPDisplayedSignin",INTERSTITIAL_DIALOG_DISPLAYED_FROM_BLOCKPAGE_CONTINUE:"IDBPDisplayedContinue",INTERSTITIAL_DIALOG_DISPLAYED_FROM_BLOCKPAGE_NO_ISOLATION:"IDBPDisplayedContinueNoIsolation",INTERSTITIAL_DIALOG_DISPLAYED_FROM_BLOCKPAGE_CLOSED:"IDBPDisplayedClosed",INTERSTITIAL_DIALOG_DISPLAYED_FROM_BLOCKPAGE_LEARN_MORE_CLICKED:"IDBPDisplayedLearnMoreClicked",OBTAIN_URL_RATINGS:"ObtainURLRatings",OBTAIN_URL_RATING:"ObtainURLRating",OBTAIN_URL_RATING_CACHE_HIT:"ObtainURLRatingCacheHit",PAGE_SCANNED:"PageScanned",TRY_FEATURE_DOCK_SHOWN:"TryThisFeatureDockShown",TRY_FEATURE_DOCK:"TryThisFeature",SIGN_IN_FLOW_DISPLAYED:"SigninFlowDisplayed",SIGN_IN_FLOW_COMPLETED:"SigninFlowCompleted",LEARN_MORE_CLICKED_DOCK:"LearnMoreDock",SECURITY_POPUP_DISPLAYED:"SecurityPopupDisplayed",BAD_LINK_CLICKED:"BadLinkClicked",BAD_LINK_CLICKED_PRESIGNIN:"BadLinkClickedPresignin",INTERSTITIAL_DIALOG_DISPLAYED_REMEMBER_SITE_SPECIFIC:"IDRememberSiteSpecific",INTERSTITIAL_DIALOG_DISPLAYED_REMEMBER_GLOBAL:"IDRememberGlobal",AUTO_ISOLATE:"AutoIsolate",MARKUP_NOTIFICATION_SHOWN:"MarkupNotificationShown",ISOLATION_SESSION_DURATION:"IsolationSessionDuration",USER_VISITED_BANKING_SITE:"UserVisitedBankingSite",USER_VISITED_WEBMAIL_SITE:"UserVisitedWebmailSite",USER_VISITED_SOCIAL_MEDIA_SITE:"UserVisitedSocialMediaSite",FEATURE_TURNED_OFF:"FeatureTurnedOff",FEATURE_DISABLED:"FeatureDisabled",DOCK_X_BUTTON_CLICKED:"DockXButtonClicked"},pingActionEx:function(e,t){try{var n={};n[r.parameters.CATEGORY]=e,n[r.parameters.ACTION]=t,l.send(n)}catch(e){}},pingActionValueEx:function(e,t,n){try{var i={};i[r.parameters.CATEGORY]=e,i[r.parameters.ACTION]=t,i.ev=n,l.send(i)}catch(e){}},pingActionLabelEx:function(e,t,n){try{var i={};i[r.parameters.CATEGORY]=e,i[r.parameters.ACTION]=t,i[r.parameters.LABEL]=n,l.send(i)}catch(e){}},pingAction:function(e){try{l.pingActionEx(l.TELEMETRY_CATEGORY.FIREGLASS,e)}catch(e){}},pingActionValue:function(e,t){try{l.pingActionValueEx(l.TELEMETRY_CATEGORY.FIREGLASS,e,t)}catch(e){}},pingActionLabel:function(e,t){try{l.pingActionLabelEx(l.TELEMETRY_CATEGORY.FIREGLASS,e,t)}catch(e){}},pingActionOB:function(e){try{l.pingActionEx(l.TELEMETRY_CATEGORY.ONLINE_BANKING,e)}catch(e){}},pingActionValueOB:function(e,t){try{l.pingActionValueEx(l.TELEMETRY_CATEGORY.ONLINE_BANKING,e,t)}catch(e){}},pingActionLabelOB:function(e,t){try{l.pingActionLabelEx(l.TELEMETRY_CATEGORY.ONLINE_BANKING,e,t)}catch(e){}},pingRatingsQuery:function(e){var t=e.origin,n=e.scanned,i=e.bad,e=e.unknown,o=c.telemetry.ping.RatingsQuery,s={};s[r.parameters.CATEGORY]=l.TELEMETRY_CATEGORY.FIREGLASS,s[r.parameters.ACTION]=l.ACTION_TYPE.RATINGS_QUERY,s[o.TOP_URL]=t,s[o.SCANNED_URLS]=n,s[o.BAD_URLS]=i,s[o.UNKNOWN_URLS]=e,l.pingActionValue(l.ACTION_TYPE.RATINGS_QUERY_BAD,i),l.pingActionValue(l.ACTION_TYPE.RATINGS_QUERY_SCANNED,n),l.send(s)},pingIsolationLaunch:function(e){var t=e.origin,n=e.url,e=e.optOut||!1,i=c.telemetry.ping.IsolationLaunch,o={};o[r.parameters.CATEGORY]=l.TELEMETRY_CATEGORY.FIREGLASS,o[r.parameters.ACTION]=l.ACTION_TYPE.ISOLATION_LAUNCH,o[i.TOP_URL]=t,o[i.ISOLATION_URL]=n,o[i.OPT_OUT]=e,l.send(o)},pingTabActivity:function(e){var t=e.url,n=e.useTime,i=e.navigationComplete,o=e.clickCount,s=e.keyCount,e=e.idleTime,_=c.telemetry.ping.IsolationUsage,a={};a[r.parameters.CATEGORY]=l.TELEMETRY_CATEGORY.FIREGLASS,a[r.parameters.ACTION]=l.ACTION_TYPE.TAB_ACTIVITY,a[_.URL]=t,a[_.USE_TIME]=n,a[_.NAVIGATION_COMPLETE]=i,a[_.CLICK_COUNT]=o,a[_.KEY_COUNT]=s,a[_.IDLE_TIME]=e,l.send(a)},sendGenericPing:function(e){e[r.parameters.CATEGORY]=l.TELEMETRY_CATEGORY.FIREGLASS,e[r.parameters.ACTION]=l.ACTION_TYPE.GENERIC,l.send(e)},send:function(e){var t,n=this._getBfwTelemetry();for(t in e[r.parameters.HIT_TYPE]=r.HIT_TYPE.EVENT,e)i(e[t])&&delete e[t];n.send(e)},_getBfwTelemetry:function(){return t.telemetry||t.telemetryProxy}})}(this),function(e){"use strict";function n(t){r.helpers.get_cache(function(e){i(e)&&(r.parser.update_urls_scanned(e.urls_scanned),r.parser.update_urls_rewritten(e.urls_rewritten,!0)),r.helpers.is_logged_in(function(e){r.helpers.split_array_to_chunks(r.parser.get_urls(t,!e),r.config.max_urls_per_request).forEach(function(e){r.helpers.get_ratings(e,function(e){i(e)&&(r.parser.update_urls_rewritten(e),(e=Object.keys(e).length)&&(r.telemetry.pingActionValue(r.telemetry.ACTION_TYPE.RATINGS_QUERY_BAD,e),r.helpers.showOneTimeScanNotification()))})})})})}var t,r,i,o;(e.FG=e.FG||{}).content=(t=e.SymBfw,r=e.FG,i=t.utils.isntNil,t.logger,(o={}).page_process_timer_dom=null,o.page_process_timer_click=null,o.active=!1,o.init_page=function(t){try{o.active||(o.active=!0,r.helpers.inject_ui_elements(),r.dom_observer.start(document.body,function(){o.page_process_timer_dom=r.helpers.reset_timer(o.page_process_timer_dom,r.config.page_process_timeout,function(){n(t)})}),document.addEventListener("click",function(e){r.helpers.isTrustedEvent(e)&&(o.page_process_timer_click=r.helpers.reset_timer(o.page_process_timer_click,r.config.page_process_timeout,function(){n(t)}))}))}catch(e){}},o.uninit_page=function(){o.active&&(o.active=!1,r.dom_observer.stop(),r.helpers.clear_timer(r.config.page_process_timer))},o.init_page_online_banking=function(_){try{var a;!o.active_banking&&t.utils.isTopLevelWindow()&&(a={new_tab:!(o.active_banking=!0),isolate:!0,risk_only:!1,defer:!0},r.helpers.get_skip_session(!1,function(e,t){t||r.helpers.get_settings_online_banking(!1,function(e,s){r.helpers.is_logged_in(function(o){var e=!1,t=!1;if(s&&o?t=!0:e=!0,e&&r.helpers.get_use_modal_setting(!1,function(e,i){r.helpers.can_prompt_onlinebanking(_,function(n){r.helpers.get_dock_show_always(!1,function(e,t){(n=!(i||!(s&&!o||t))||n)&&(t=i?r.helpers.show_online_banking_isolation_dialog:r.helpers.show_online_banking_dock,r.telemetry.pingActionOB(r.telemetry.ACTION_TYPE.TRY_FEATURE_DOCK_SHOWN),t(_,function(e){e&&(o?(r.helpers.set_settings_online_banking(!0),r.helpers.update_online_banking_nag_counts()):r.helpers.set_settings_sigin_flow_origin(r.config.feature_type.online_banking),r.telemetry.pingActionOB(r.telemetry.ACTION_TYPE.TRY_FEATURE_DOCK),r.helpers.launch_url_with_callback(_,function(e){},a))},{rememberSite:!1}))})})}),t)return r.helpers.check_rate_limit_onlinebanking(function(e){e&&r.helpers.launch_url_with_callback(_,function(e){},a)}),void r.telemetry.pingActionOB(r.telemetry.ACTION_TYPE.AUTO_ISOLATE)})})}))}catch(e){}},o.uninit_page_online_banking=function(){o.active_banking&&(o.active_banking=!1)},window.addEventListener("beforeunload",function(e){o.uninit_page()}),t.extensionAdapter.addMessageListener(function(e,t,n){if(i(e.type)&&r.message_handler_content.hasOwnProperty(e.type))return r.message_handler_content[e.type](e,t,n)}),o)}(this),function(e){"use strict";var n,i;(e.FG=e.FG||{}).dom_observer=(e=e.SymBfw,n=e.utils.isNil,i={config:{attributes:!1,childList:!0,characterData:!1,subtree:!0},start:function(e,t){try{if(n(e))return;i.observer=new MutationObserver(function(e){t()}),i.observer.observe(e,i.config)}catch(e){}},stop:function(){try{i.observer.disconnect()}catch(e){}}})}(this),function(e){"use strict";var a,_,r,n,c,l,d,g,u;(e.FG=e.FG||{}).parser=(a=e.SymBfw,_=e.FG,n=["href","codebase","cite","background","action","longdesc","src","profile","usemap","classid","data","formaction","icon","manifest","poster"],c=["download"],l=/^.*\.(JPG|JPEG|MP4|GIF|PNG|CSS|JS|XML|ICO|JSON|SVG|PDF|JPG:THUMB|PNG:THUMB)$/i,d=/^.*\.(JPG\?|JPEG\?|MP4\?|GIF\?|PNG\?|CSS\?|JS\?|XML\?|ICO\?|JSON\?|SVG\?|PDF\?|JPG:THUMB\?|PNG:THUMB\?)/i,g=/^.*(FBCDN.NET|TWIMG.COM|GOOGLEUSERCONTENT.COM|GOOGLE.COM|MESSENGER.COM|GSTATIC.COM|YOUTUBE.COM|BLOGGER.COM|FACEBOOK.COM|MSN.COM|YAHOO.COM|TWITTER.COM)$/i,u=/^.*(T.CO)$/i,(r={}).tld="",r.wrs_enabled=!1,r.get_domain=function(e){try{if(!a.utils.isString(e))return null;for(var t=e.toLowerCase(),n=URI.parse(e),t=(t=a.utils.isntNil(n.hostname)?n.hostname.toLowerCase():t).replace(/^www\./gi,"");0<t.length;){var i=t.indexOf(".");if(i<0||i>=t.length-4)break;t=t.substr(i+1)}return t}catch(e){}return null},r.validate_url=function(e){try{if(a.utils.isNil(URI))return!1;var t=URI.parse(e);if(a.utils.isNil(t.protocol))return!1;if("HTTP"!==t.protocol.toUpperCase()&&"HTTPS"!==t.protocol.toUpperCase())return!1;var n=e.match(l);if(a.utils.isntNil(n))return!1;var i=e.match(d);if(a.utils.isntNil(i))return!1;var o=r.get_domain(e);if(a.utils.isntNil(o)){if(a.utils.isntNil(r.tld)&&o===r.tld)return!1;var s=o.match(g);if(a.utils.isntNil(s))return!1;if(r.wrs_enabled){var _=o.match(u);if(a.utils.isntNil(_))return!1}}}catch(e){return!1}return!0},r.get_urls=function(e,t){var _={};r.tld=r.get_domain(e),r.wrs_enabled=t;try{n.forEach(function(e){var t=document.querySelectorAll("["+e+"]:not([fg_scanned])");if(a.utils.isntNil(t)&&t.length)for(var n=0;n<t.length;n++){for(var i,o=!1,s=0;s<c.length;s++)if(t[n].hasAttribute(c[s])){o=!0;break}o||(i=t[n].getAttribute(e),r.validate_url(i)&&(_[i]=!0,t[n].setAttribute("fg_scanned","1")))}})}catch(e){}return Object.keys(_)},r.update_urls_scanned=function(o){try{n.forEach(function(e){var t=document.querySelectorAll("["+e+"]:not([fg_scanned])");if(a.utils.isntNil(t)&&t.length)for(var n=0;n<t.length;n++){var i=t[n].getAttribute(e);a.utils.isntNil(i)&&o.hasOwnProperty(i)&&t[n].setAttribute("fg_scanned","1")}})}catch(e){}},r.update_urls_rewritten=function(s,e){s===Object(s)&&n.forEach(function(e){var t=document.querySelectorAll("["+e+"]:not([fg_rewritten])");if(a.utils.isntNil(t)&&t.length)for(var n=0;n<t.length;n++){var i=t[n],o=i.getAttribute(e);a.utils.isntNil(o)&&s.hasOwnProperty(o)&&(i.setAttribute("fg_rewritten","1"),i.addEventListener("click",function(e){_.helpers.isTrustedEvent(e)&&_.telemetry.pingAction(_.telemetry.ACTION_TYPE.BAD_LINK_CLICKED)}),i.addEventListener("mouseenter",function(e){_.helpers.isTrustedEvent(e)&&_.helpers.show_security_popup(!0,e.clientX,e.clientY)}),i.addEventListener("mouseleave",function(e){_.helpers.isTrustedEvent(e)&&_.helpers.show_security_popup(!1,0,0)}))}})},r)}(this),function(e){"use strict";var t,a,c,l,n,o,r,i,d,g,u,_,f,I,p,m,s,E,T;(e.FG=e.FG||{}).helpers=(t=e.SymBfw,a=e.FG,c=t.utils.isntNil,l=t.utils.isNil,n=t.utils.isString,o=t.utils.isFunction,r=t.extensionAdapter,i=t.logger,d=a.config,g="fgdock_iframe",u="fgdoccontrols_iframe",_="fgdock_iframe_top",s=function(e,t){return t.dialog.type===a.config.safeModeDialog.dialogType.threatIsolation?(a.helpers.launch_help_link(a.config.helpid),a.telemetry.pingAction(a.telemetry.ACTION_TYPE.INTERSTITIAL_DIALOG_DISPLAYED_LEARN_MORE_CLICKED)):(a.helpers.launch_help_link(a.config.helpid_online_banking),a.telemetry.pingActionOB(a.telemetry.ACTION_TYPE.INTERSTITIAL_DIALOG_DISPLAYED_LEARN_MORE_CLICKED)),1},E=function(e,t){return t.dialog.type===a.config.safeModeDialog.dialogType.threatIsolation?a.helpers._appendParamAndLaunchFeedbackUrl(a.config.leave_feedback_link):a.helpers._appendParamAndLaunchFeedbackUrl(a.config.leave_feedback_link_OB),1},T=function(e,t){return t.dialog.type===a.config.safeModeDialog.dialogType.threatIsolation?a.telemetry.pingAction(a.telemetry.ACTION_TYPE.INTERSTITIAL_DIALOG_DISPLAYED_CLOSED):a.telemetry.pingActionOB(a.telemetry.ACTION_TYPE.INTERSTITIAL_DIALOG_DISPLAYED_CLOSED),0},(m={add_dock_timer:null,add_ui_elements_timer:null,dom_popup_security_warning:null,dom_fg_dock:null,dom_fg_doc_controls:null,check_dock_timer:null,dom_fg_bezel_top:null,dom_fg_bezel_left:null,dom_fg_bezel_right:null,dom_fg_bezel_bottom:null,dock_loaded:!(p="fgdock_iframe_bottom"),dockcontrol_loaded:!(I="fgdock_iframe_right"),page_scan_notification_displayed:!(f="fgdock_iframe_left"),tab_id:0,set_tab_id:function(e){m.tab_id=e},split_array_to_chunks:function(e,t){for(var n=[],i=0,o=e.length;i<o;)n.push(e.slice(i,i+=t));return n},set_cache:function(e,t){r.sendMessage({type:"fg_set_cache",data:{urls_scanned:e,urls_rewritten:t}},function(e){})},get_cache:function(t){r.sendMessage({type:"fg_get_cache"},function(e){t(e)})},is_feature_killed:function(t,e){r.sendMessage({type:"fg_is_feature_killed",feature_type:e},function(e){t(e)})},get_settings:function(e,t,n){r.sendMessage({type:"fg_get_settings",settings_key:e,settings_defv:t},function(e){c(n)&&n(e.success,e.value)})},set_settings:function(e,t,n){r.sendMessage({type:"fg_set_settings",settings_key:e,settings_value:t},function(e){o(n)&&n(e.success)})},set_settings_url_markup:function(e){m.set_settings(a.config.settings_key.url_markup,e)},get_settings_url_markup:function(e,t){m.get_settings(a.config.settings_key.url_markup,e,t)},set_settings_online_banking:function(e){m.set_settings(a.config.settings_key.online_banking,e)},get_settings_online_banking:function(e,t){m.get_settings(a.config.settings_key.online_banking,e,t)},set_settings_sigin_flow_origin:function(e){m.set_settings(a.config.settings_key.sign_in_flow_origin,e)},get_skip_session_settings_key:function(){return String(a.config.settings_key.online_banking_session_override+"_"+m.tab_id)},set_skip_session:function(e){m.set_settings(m.get_skip_session_settings_key(),e)},get_skip_session:function(e,t){m.get_settings(m.get_skip_session_settings_key(),e,t)},set_dock_timeout:function(e){m.set_settings(a.config.settings_key.dock_timeout,e)},get_dock_timeout:function(e,t){m.get_settings(a.config.settings_key.dock_timeout,e,t)},get_use_modal_setting:function(e,t){m.get_settings(a.config.settings_key.use_modal,e,t)},get_dock_start_minmized:function(e,t){m.get_settings(a.config.settings_key.dock_start_minimized,e,t)},get_dock_show_always:function(e,t){m.get_settings(a.config.settings_key.dock_show_always,e,t)},update_online_banking_nag_counts:function(){r.sendMessage({type:"fg_update_online_banking_nag_counts"},function(e){})},check_rate_limit_onlinebanking:function(t){r.sendMessage({type:"fg_check_rate_limit_onlinebanking"},function(e){t(e)})},get_ratings:function(e,t){r.sendMessage({type:"fg_get_ratings",data:{urls_scanned:e}},function(e){t(e)})},get_rating:function(e,t){r.sendMessage({type:"fg_get_rating",data:{urls_scanned:e}},function(e){t(e)})},get_localized_strings:function(e,t){r.sendMessage({type:"fg_get_strings",ui_type:e},function(e){t(e)})},launch_url:function(e){m.launch_url_with_callback(e,function(e){},{isolate:1<arguments.length&&void 0!==arguments[1]&&arguments[1],defer:2<arguments.length&&void 0!==arguments[2]&&arguments[2]})},launch_url_with_callback:function(e,t,n){var i=n.new_tab,o=n.isolate,s=n.defer,n=n.risk_only;r.sendMessage({type:"fg_launch_url",url:e,new_tab:void 0===i||i,isolate:void 0!==o&&o,defer:void 0!==s&&s,risk_only:void 0!==n&&n},function(e){t(e)})},open_site_redirector:function(e,t){r.sendMessage({type:"fg_open_site_redir",ssdcat:e,ssdhelpid:t},function(e){})},is_logged_in:function(t){r.sendMessage({type:"fg_is_loggedin"},function(e){t(e)})},log_out:function(e){r.sendMessage({type:"fg_signout_na"},function(e){})},launch_help_link:function(e){m.open_site_redirector(a.config.ssdcat,e)},clear_timer:function(e){e&&window.clearTimeout(e)},reset_timer:function(e,t,n){var i=null;try{m.clear_timer(e),i=window.setTimeout(function(){n()},t)}catch(e){}return i},post_message_to_iframe:function(t,n){try{c(t)&&c(n)&&setTimeout(function(){var e=r.getExtensionURL("");n.origin=e,t.contentWindow.postMessage(n,e)},a.config.iframe_post_timeout)}catch(e){}},inject_iframe:function(e,t,n){var i;c(e)&&c(t)&&((i=document.createElement("iframe")).id=e,i.frameBorder="0",i.src=t,i.style.display="none",o(n)&&(i.onload=function(){n()}),document.body.appendChild(i))},set_text:function(e,t,n){c(t)&&c(n)&&c(e)&&(e=e.getElementById(t),c(e)&&(e.innerHTML=n))},inject_dock:function(e){try{if(t.utils.isTopLevelWindow()){if(c(m.dom_fg_dock)&&document.body.contains(m.dom_fg_dock))return;t.utils.isNil(m.check_dock_timer)&&(m.check_dock_timer=window.setInterval(function(){m.inject_dock(e)},1e3)),m.add_dock_timer=m.reset_timer(m.add_dock_timer,a.config.add_dock_timeout,function(){e!==d.dockConfig.trigger.prompt&&m.inject_bezel(),m.inject_banner(e)})}}catch(e){}},beforeunloadHandler:function(e){var t=Math.round((window.performance.now()-m.startTime)/1e3);a.telemetry.pingActionValueOB(a.telemetry.ACTION_TYPE.ISOLATION_SESSION_DURATION,t)},startIsolationTabMonitor:function(){0!=t.utils.isTopLevelWindow()&&(m.startTime=window.performance.now(),window.addEventListener("beforeunload",m.beforeunloadHandler))},inject_bezel:function(){try{var o=0,s=window.setInterval(function(){o>a.config.add_dock_max_timeout&&(window.clearInterval(s),s=0);var e=m.get_session_storage();if(!l(e)&&e.urlCategory===a.config.dockConfig.urlCategory.onlineBanking&&e.sslStatus===a.config.dockConfig.sslStatus.secure){o+=a.config.add_dock_interval;var e=document.getElementById(_),t=document.getElementById(f),n=document.getElementById(I),i=document.getElementById(p);if(l(i)||l(t)||l(n)||l(e))return l(i)&&m.inject_iframe(p,r.getExtensionURL("content/ui/fireglass/fg_bezel.html")),l(e)&&m.inject_iframe(_,r.getExtensionURL("content/ui/fireglass/fg_bezel.html")),l(t)&&m.inject_iframe(f,r.getExtensionURL("content/ui/fireglass/fg_bezel.html")),void(l(n)&&m.inject_iframe(I,r.getExtensionURL("content/ui/fireglass/fg_bezel.html")));m.dom_fg_bezel_top=e,m.dom_fg_bezel_left=t,m.dom_fg_bezel_right=n,m.dom_fg_bezel_bottom=i,m.show_bezel(!0),s&&window.clearInterval(s)}},a.config.add_dock_interval)}catch(e){}},inject_banner:function(s){try{var e=0,_=window.setInterval(function(){e>a.config.add_dock_max_timeout&&(window.clearInterval(_),_=0),e+=a.config.add_dock_interval,a.helpers.get_dock_start_minmized(d.dock_start_minimized,function(e,t){var n,i,o=null,t=t?"collapsed":"expanded";if(s===d.dockConfig.trigger.prompt||(o=m.get_session_storage(),!l(o)))return n=document.getElementById(g),i=document.getElementById(u),l(n)||l(i)?(l(n)&&(m.dock_loaded=!1,m.inject_iframe(g,r.getExtensionURL("content/ui/fireglass/fg_dock.html"),function(){m.dock_loaded=!0})),c(o)&&o.urlCategory===a.config.dockConfig.urlCategory.onlineBanking&&m.startIsolationTabMonitor(),void(l(i)&&(m.dockcontrol_loaded=!1,m.inject_iframe(u,r.getExtensionURL("content/ui/fireglass/fg_doc_controls.html"),function(){m.dockcontrol_loaded=!0})))):void(!1!==m.dock_loaded&&!1!==m.dockcontrol_loaded&&(m.dom_fg_dock=n,m.dom_fg_doc_controls=i,m.post_message_to_iframe(m.dom_fg_dock,{sessionInfo:o,prompt:s===d.dockConfig.trigger.prompt}),m.post_message_to_iframe(m.dom_fg_doc_controls,{session:o,state:t,msg_type:"fg_doc_init",ctrl_type:"dock_showhide"}),s===d.dockConfig.trigger.prompt&&n.setAttribute("mode","signin"),i.setAttribute("ctrl","dock_showhide"),i.setAttribute("state",t),n.setAttribute("state",t),i.setAttribute("class",t),n.setAttribute("class",t),m.show_dock(!0),_&&window.clearInterval(_)))})},a.config.add_dock_interval)}catch(e){}},get_session_storage:function(){try{var e,t;return c(sessionStorage)&&c(sessionStorage.getItem("fgMetaData"))?(e=JSON.parse(sessionStorage.getItem("fgMetaData")),t={},c(e)&&(c(e.UrlCategories)&&0<e.UrlCategories.length&&(e.UrlCategories[0].id==a.config.financial_category_id||e.UrlCategories[0].id==a.config.trading_category_id?t.urlCategory=a.config.dockConfig.urlCategory.onlineBanking:t.urlCategory=a.config.dockConfig.urlCategory.general),c(e.SslStatus)&&(JSON.parse(e.SslStatus).IsSecureConnection?t.sslStatus=a.config.dockConfig.sslStatus.secure:t.sslStatus=a.config.dockConfig.sslStatus.insecure),c(e.address)&&(t.address=e.address),t.tabid=m.tab_id),0<Object.keys(t).length?t:null):null}catch(e){}},inject_ui_elements:function(){try{m.add_ui_elements_timer=m.reset_timer(m.add_ui_elements_timer,a.config.add_ui_elements_timeout,function(){m.inject_security_popup()})}catch(e){}},doc_control_update_elements_state:function(e){for(var t in e){var n=document.getElementById(t);if(!l(n)){var i=e[t].attributes;if(!l(i)){for(var o in i)n.setAttribute(o,i[o]);t=e[t].styles;if(!l(t)){var s=t.add;if(c(s))for(var _ in s)n.classList.add(s[_]);var a=t.remove;if(c(a))for(var r in a)n.classList.remove(a[r])}}}}},doc_control_message_proc:function(e,t,n){if(!(l(e)||l(e.id)||l(e.data))){var i=e.data;switch(e.id){case d.docControls.EVENT_ID:if(l(i.elements))break;m.doc_control_update_elements_state(i.elements);break;case d.dockMouseEvent.EVENT_ID:if(l(i.evt_type))break;if(i.evt_type===d.dockMouseEvent.eventType.mouseEnter||i.evt_type===d.dockMouseEvent.eventType.mouseLeave)m.post_message_to_iframe(m.dom_fg_doc_controls,{msg_type:"fg_dock_mouse_evt",evt_type:i.evt_type});else if(i.evt_type===d.dockMouseEvent.eventType.click){if(l(i.id))break;m._invokeDockEventHandler(i.id)}break;case d.dockResourceEvent.EVENT_ID:if(l(i.evt_type))break;m._onDockResourceEvt(i.evt_type)}}},listen_to_doc_control_message:function(){!1!==t.utils.isTopLevelWindow()&&r.addMessageListener(m.doc_control_message_proc)},inject_security_popup:function(){try{var e=document.getElementById("fg_security_popup_iframe");l(e)&&(m.inject_iframe("fg_security_popup_iframe",r.getExtensionURL("content/ui/fireglass/fg_popup.html")),m.dom_popup_security_warning=document.getElementById("fg_security_popup_iframe"))}catch(e){}},is_extension_url:function(e){return 0!=n(e)&&e.startsWith(r.getExtensionURL(""))}})._registerDockEvtHandlers=function(e){this._dockEventHandlers=e},m._clearDockEvtHandlers=function(){this._dockEventHandlers=null},m._invokeDockEventHandler=function(e){if(!l(this._dockEventHandlers)&&this._dockEventHandlers.hasOwnProperty(e)){var t=this._dockEventHandlers[e];if(o(t)){var n=0;try{n=t(e)}catch(e){}l(n)}}},m._removeDockElements=function(){m._clearDockEvtHandlers();var e=document.getElementById(g),e=(c(e)&&(document.body.removeChild(e),m.dom_fg_dock=null,m.dock_loaded=!1),document.getElementById(u));c(e)&&(document.body.removeChild(e),m.dom_fg_doc_controls=null,m.dockcontrol_loaded=!1)},m._onDockResourceEvt=function(e){l(e)||e===d.dockResourceEvent.eventType.unload&&m.inject_dock()},m.show_online_banking_dock=function(t,n){var e=null;try{e=URI.parse(t).hostname}catch(e){}l(e)?n(!1):(m._registerDockEvtHandlers({fgdock_signin:function(e){return m.is_logged_in(function(e){}),n(!0),0},fgdock_close:function(e){return n(!1),m.is_logged_in(function(e){e?a.helpers.launch_url_with_callback(t,function(e){},{new_tab:!1,isolate:!1}):a.helpers._removeDockElements()}),0}}),m.inject_dock(d.dockConfig.trigger.prompt))},m.show_online_banking_isolation_dialog=function(e,n){var t,i=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).rememberSite,o=void 0!==i&&i,i=null;try{i=URI.parse(e).hostname}catch(e){}l(i)?n(!1):(a.telemetry.pingActionOB(a.telemetry.ACTION_TYPE.INTERSTITIAL_DIALOG_DISPLAYED),i={help_2:s,leavefeedback:E,footer_link:i=function(e,t){switch(n(!1),e){case"default_close":case"default_cancel":return T(0,t);case"footer_link":a.telemetry.pingActionOB(a.telemetry.ACTION_TYPE.INTERSTITIAL_DIALOG_DISPLAYED_CONTINUE_NO_ISOLATION)}return 0},default_ok:function(e,t){return m.is_logged_in(function(e){!0===e?a.telemetry.pingActionOB(a.telemetry.ACTION_TYPE.INTERSTITIAL_DIALOG_DISPLAYED_CONTINUE):a.telemetry.pingActionOB(a.telemetry.ACTION_TYPE.INTERSTITIAL_DIALOG_DISPLAYED_SIGNIN)}),n(!0),0},default_cancel:i,default_close:i,fg_check_01:function(e,t){return!0===t.element.value&&a.telemetry.pingActionOB(a.telemetry.ACTION_TYPE.INTERSTITIAL_DIALOG_DISPLAYED_REMEMBER_SITE_SPECIFIC),o=!0===t.element.value,1}},(t={}).dialogType=d.safeModeDialog.dialogType.onlineBanking,t.dialogData={fg_check_01:{value:o}},m._show_safemode_dialog_internal(e,t,i,function(e){0==e&&n(!1)}))},m.show_safe_mode_modal=function(e,n,t){var i,o;a.telemetry.pingAction(a.telemetry.ACTION_TYPE.INTERSTITIAL_DIALOG_DISPLAYED),e?(i=new URL(location.href),e={help:s,leavefeedback:E,footer_link:function(e,t){m.launch_url(n,!1),a.telemetry.pingAction(a.telemetry.ACTION_TYPE.INTERSTITIAL_DIALOG_DISPLAYED_CONTINUE_NO_ISOLATION),a.telemetry.pingIsolationLaunch({origin:i.hostname,url:n,optOut:!0})},default_ok:function(e,t){m.launch_url(n,!0),a.telemetry.pingAction(a.telemetry.ACTION_TYPE.INTERSTITIAL_DIALOG_DISPLAYED_CONTINUE)},default_cancel:T,default_close:T},(o={}).dialogType=d.safeModeDialog.dialogType.threatIsolation,m._show_safemode_dialog_internal(n,o,e,t)):a.safeModeDialog.close()},m.nss_safe_mode_prompt=function(n,i){var e,t,o;a.telemetry.pingAction(a.telemetry.ACTION_TYPE.INTERSTITIAL_DIALOG_DISPLAYED_FROM_BLOCKPAGE),0!=m.is_extension_url(window.location.href)&&(t={help:function(e,t){return a.telemetry.pingAction(a.telemetry.ACTION_TYPE.INTERSTITIAL_DIALOG_DISPLAYED_FROM_BLOCKPAGE_LEARN_MORE_CLICKED),m.launch_help_link(a.config.helpid),1},leavefeedback:E,footer_link:function(e,t){return a.telemetry.pingAction(a.telemetry.ACTION_TYPE.INTERSTITIAL_DIALOG_DISPLAYED_FROM_BLOCKPAGE_NO_ISOLATION),i(n)},default_ok:function(e,t){a.telemetry.pingAction(a.telemetry.ACTION_TYPE.INTERSTITIAL_DIALOG_DISPLAYED_FROM_BLOCKPAGE_CONTINUE),m.launch_url(n,!0)},default_cancel:e=function(e,t){a.telemetry.pingAction(a.telemetry.ACTION_TYPE.INTERSTITIAL_DIALOG_DISPLAYED_FROM_BLOCKPAGE_CLOSED)},default_close:e},(o={}).dialogType=d.safeModeDialog.dialogType.threatIsolation,m.is_feature_killed(function(e){if(!0===e)return a.telemetry.pingAction(a.telemetry.ACTION_TYPE.FEATURE_DISABLED),void i(n);m._show_safemode_dialog_internal(n,o,t,function(e){0==e&&i(n)})},a.config.feature_type.block_page))},m._show_safemode_dialog_internal=function(e,t,n,i){m.is_logged_in(function(e){t.dialogMode=e?d.safeModeDialog.dialogMode.interstitial:d.safeModeDialog.dialogMode.signin,a.safeModeDialog.displayModalDialog(t,n,i)})},m.show_security_popup=function(e,t,n){m.dom_popup_security_warning.style.top=n+"px",m.dom_popup_security_warning.style.left=t+"px",m.dom_popup_security_warning.style.display=e?"block":"none"},m.show_dock=function(e){e=e?"block":"none";m.dom_fg_dock.style.display=e,m.dom_fg_doc_controls.style.display=e},m.show_bezel=function(e){e=e?"block":"none";c(m.dom_fg_bezel_top)&&(m.dom_fg_bezel_top.style.display=e,m.dom_fg_bezel_left.style.display=e,m.dom_fg_bezel_right.style.display=e,m.dom_fg_bezel_bottom.style.display=e)},m.sendMessageToProxy=function(e,t){r.sendMessage({type:"fg_message_proxy",id:d.uiMessageProxy.EVENT_ID,realId:e,data:t})},m.sendMessageToProxyWithResponse=function(e,t,n){r.sendMessage({type:"fg_message_proxy",id:d.uiMessageProxy.EVENT_ID,realId:e,responseId:t,data:n})},m.showOneTimeScanNotification=function(){m.page_scan_notification_displayed||(m.page_scan_notification_displayed=!0,r.sendMessage({type:"fg_show_notification",notification_type:a.config.notifications.type.pageScanNotification,notification_args:{}}))},m.can_prompt_onlinebanking=function(e,t){r.sendMessage({type:"fg_can_prompt_onlinebanking",domain:e},function(e){c(t)&&t(e)})},m._getFeedbackURLparameters=function(){return new Promise(function(t,e){r.sendMessage({type:"fg_get_feedback_url_param"},function(e){t(e)})})},m._appendParamAndLaunchFeedbackUrl=function(t){l(t)?i.error("Feedback url cannot be null"):a.helpers._getFeedbackURLparameters().then(function(e){c(e)&&(t=t+"&"+e),a.helpers.launch_url(t)},function(e){i.error(e),a.helpers.launch_url(t)})},m.isTrustedEvent=function(e){if(l(e))throw new Error("event should not be null");return e.isTrusted},m.listen_to_doc_control_message(),m)}(this),function(e){"use strict";var i;(e.FG=e.FG||{}).message_handler_content=(e.SymBfw,i=e.FG,(e={}).telemetry_timer=window.setTimeout(function(){},3e3),e.fg_update_dock=function(e,t,n){i.helpers.set_tab_id(e.tabid),i.helpers.inject_dock(),t()},e.fg_activate_scan=function(e,t,n){if(i.helpers.set_tab_id(e.tabid),e.enable)switch(e.category){case i.config.webmail_category_id:case i.config.social_networking_id:i.content.init_page(e.url)}else i.content.uninit_page();t()},e)}(this),((e=this).FG=e.FG||{}).safeModeDialog=function(e,t){var _=e.utils.isNil,n=e.utils.isntNil,a=e.utils.isFunction,i=(e.logger,e.extensionAdapter),r=t.config,c=0,l=1,d=2,o=3,g=4,s={_iframe:null,_curState:2,_initPromise:{}},u=(s._initPromise.resolveProxy=function(e,t){this._resolve=e,this._reject=t},s._initPromise.resolve=function(e){this._resolve(e)},s._initPromise.reject=function(e){this._reject(e)},s._initPromise.getPromise=function(){return this._promise},s._initPromise.setup=function(){var n=this;this._promise=new Promise(function(e,t){n.resolveProxy(e,t)})},s._initPromise.setup(),s.getId=function(){return"fg_safemode_modal_iframe"},s.getViewName=function(){return"fg_safemode_modal.html"},s._prepareFrameContainer=function(){if(this._iframe)return!0;var e=this,t=i.getExtensionURL("/content/ui/fireglass/"+e.getViewName());e._iframe=document.createElement("iframe"),e._iframe.src=t,e._iframe.id=this.getId(),e._iframe.frameBorder="0",e._iframe.style.display="none",e._iframe.style.position="fixed",e._iframe.style.top="0px",e._iframe.style.left="0px",e._iframe.style.right="0px",e._iframe.style.bottom="0px",e._iframe.style.height="100%",e._iframe.style.width="100%",e._iframe.style["z-index"]="99999",e._iframe.onload=function(){e._initPromise.resolve(!0)},document.body.appendChild(e._iframe)},s.isActive=function(){return 2!=this._curState},s._detachFrame=function(){_(this._iframe)||(document.body.removeChild(this._iframe),this._iframe=null,this._initPromise.setup())},s._closeDialog=function(){return!(_(this._iframe)||(this._curState=2,this._detachFrame(),this._sendMessageToRendererProxy({type:l}),this._proxyId=null))},s._showDialog=function(e){return!_(this._iframe)&&(this._sendMessageToView({state:r.safeModeDialog.displayState.show,props:e}),this._iframe.style.display="block",this._curState=1,!0)},s._sendMessageToRendererProxy=function(e){n(this._proxyId)&&_(e.proxyId)&&(e.proxyId=this._proxyId),t.helpers.sendMessageToProxy(r.dialogRendererProxy.EVENT_ID,e)},s._sendMessageToView=function(e){try{var t=i.getExtensionURL("");e.origin=t,this._iframe.contentWindow.postMessage(e,t)}catch(e){}},s._handleProxyMessage=function(n){var i=this;switch(n.type){case c:this._initPromise.getPromise().then(function(e){var t=!1;0==i.isActive()&&(t=!0,i._proxyId=n.proxyId,i._showDialog(n.dlgType)),i._sendMessageToRendererProxy({proxyId:n.proxyId,type:c,success:t})},function(e){i._sendMessageToRendererProxy({proxyId:n.proxyId,type:c,success:!1})});break;case l:this._initPromise.getPromise().then(function(e){i._closeDialog()});break;case o:this.init()}},s._handleViewMessage=function(t){switch(t.type){case"change":case"click":var e=function(){var e=-1;switch(t.type){case"click":e=d;break;case"change":e=g;break;case"open":e=c;break;case"close":e=l;break;case"init":e=o;break;default:e=-1}return e}();this._sendMessageToRendererProxy({type:e,evtData:t});break;case"show":this._initPromise.resolve(!0)}},s._messageProc=function(e,t,n){var i;_(e)||_(e.id)||e.id!=r.dialogRenderer.EVENT_ID||(e=e.data,i=s,e.proxyId?i._handleProxyMessage(e,t):i._handleViewMessage(e,t))},s.listenToMessage=function(){var t;0==e.utils.isTopLevelWindow()||n(this._isListening)||(t=this,document.addEventListener("keyup",function(e){"Esc"!=e.key&&"Escape"!=e.key||t._initPromise.getPromise().then(function(e){t._closeDialog()})}),this._isListening=!0,i.addMessageListener(s._messageProc))},s.init=function(){0==e.utils.isTopLevelWindow()||n(this._iframe)||this._prepareFrameContainer()},s.listenToMessage(),t.modalDialogRenderer=s,{_eventHandlers:null,_curState:2,_callback:null,_id:null,_clear:function(){this._eventHandlers=null,this._callback=null},_sendMessageToRenderer:function(e){e.proxyId=this._id,t.helpers.sendMessageToProxyWithResponse(r.dialogRenderer.EVENT_ID,r.dialogRendererProxy.EVENT_ID,e)},isActive:function(){return 2!=this._curState},showDialog:function(e,t,n){this.isActive()?a(n)&&n(!1):(this._curState=0,this._eventHandlers=t,this._callback=n,this._sendMessageToRenderer({type:c,dlgType:e}))},closeDialog:function(e){this.isActive()?(this._callback=e,this._sendMessageToRenderer({type:l})):a(e)&&e(!1)},_invokeEventHandler:function(e,t){if(!_(this._eventHandlers)&&this._eventHandlers.hasOwnProperty(e)){var n=this._eventHandlers[e];if(a(n)){var i=0;try{i=n(e,t)}catch(e){}!_(i)&&i||this.closeDialog()}}},_messageProc:function(e,t,n){if(!_(e)&&!_(e.id)&&e.id==r.dialogRendererProxy.EVENT_ID){var i=e.data,o=u;if(i.proxyId==o._id)switch(i.type){case c:var s=o._callback;o._callback=null,i.success?o._curState=1:(o._curState=2,o._clear()),a(s)&&s(i.success);break;case g:case d:s=i.evtData;o._invokeEventHandler(s.id,s.evtData);break;case l:a(o._callback)&&o._callback(i.success),o._curState=2,o._clear()}}},init:function(){_(this._id)&&(this._id=e.utils.createNewGuid(),i.addMessageListener(this._messageProc)),this._sendMessageToRenderer({type:o})}}),f={};return f._renderer=u,f.displayModalDialog=function(e,t,n){this.init(),this._renderer.showDialog(e,t,n)},f.close=function(){this._renderer.closeDialog()},f.init=function(){this._renderer.init()},f}(e.SymBfw,e.FG)}.apply(window)},{}]},{},[1]);