!function(e){"use strict";(e.SymWax=e.SymWax||{}).constants=function(){var e={requestType:{},header:{},contentType:{},IN_PAGE_POPUP:"symc-in-page-popup",DEFAULT_XHR_TIMEOUT:6e4};e.requestType.GET_METHOD="GET",e.contentType.JSON="application/json",e.header.CONTENT_TYPE="Content-Type",e.DEFAULT_PARSINGPREFERENCES="DefaultParsingPreferences",e.DOMAIN_RULES="DomainRules",e.URL_RULES="UrlRules",e.COUNTRIES="Countries",e.COUNTRY_DATA="CountryData",e.DATA="data",e.DATA_TYPE="datatype",e.COUNTRY_ATTRIBUTE="CountryAttribute",e.DOMAIN="Domain",e.LANGUAGES="Languages",e.DOMAIN_MATCH="/",e.FIELD_TYPE="fieldType",e.RULES="rules",e.FORM_SUBMIT_TIMEOUT=100,e.EVENT_OBJECT_SUBMIT_TIMEOUT=100,e.PATTERN="pattern",e.REGEX="regEx",e.MAX_STRING_LENGTH_FOR_REGEX=200,e.NORMALIZE_URL="normalizeUrl",e.ORIGINAL_URL="org",e.NORMALIZED_URL="nor",e.PROXIMITY_THRESHOLD_X=70,e.PROXIMITY_THRESHOLD_Y=50,e.rules={PRE_PARSE:"preparse",POST_PARSE:"postparse",SCRIPTS:"scripts",ON_FILL:"onfill",FETCH_CREDENTIALS:"fetchcredentials",ON_FIELD_FOUND:"onfieldfound",AFTER_FILL:"afterfill",BEFORE_FILL:"beforefill",OPERATION:"Operation",PROPERTY:"Property",DOM_METHOD:"DomMethod",EXECUTION_CONTEXT:"ExecutionContext",DELAY:"Delay",EVENT_NAME:"EventName",SET_TIMEOUT:"setTimeout",SET_INTERVAL:"setInterval",RETRY_ITERATION:"RetryIteration",operation:{CALL_JAVA_SCRIPT:"calljavascript",FILL_EX:"fillex",FIELD_MAPPING:"FieldMapping",GROUP_MAPPING:"GroupMapping",UPDATE_ATTRIBUTE:"updateAttribute",FETCH_DATA:"fetchData",SPLIT_FILL:"splitFill",CLICK:"Click",CUSTOM_FILL:"CustomFill",ADD_EVENT_LISTENER:"addEventListener"},property:{NAME:"name",ATTRIBUTES:"attributes",FIELD_TYPE:"FieldType",INPUT_TYPE:"InputType",LOGIN_TYPE:"LoginType",GROUP_TYPE:"GroupType"},domMethod:{GET_ELEMENT_BY_ID:"getElementById",GET_ELEMENT_BY_NAME:"getElementsByName",QUERY_SELECTOR_ALL:"querySelectorAll",QUERY_SELECTOR:"querySelector"},SUBMIT_EVENTS:"SubmitEvents"},e.PREFERENCES="preferences",e.URL_BASED_DATA="urlBasedData",e.GLOBAL_DATA="globalData",e.messages={GET_URL_DATA:"F1F837B8-DC04-478A-C9EB-45F87DD3B88F",TRIGGER_AJAX_PARSE_RETRY:"BEE46703-475E-411B-C6CD-6331AC68CB18",TRIGGER_AJAX_PARSE_RETRY_RESPONSE:"30220307-AB5C-45DA-F586-37894089452E",TRIGGER_FORCED_WAX_ANALYSIS:"577408EC-2807-49D8-B479-E91120B89183",CHECK_ANALYSIS_REQUIRED:"11A574D4-6B97-45D1-BFFE-F23A3036C829",TOP_FRAME_UNLOAD_EVENT:"282955FF-C442-4AD4-A28F-1FA4F6183400",SEND_WAX_TELEMETRY_TO_BG:"319e4246-a421-4a7b-bfa7-faaa7681e45b",SEND_WAX_TELEMETRY_TO_BFW:"0e72ba18-d35c-43e5-a025-91afb1132866",DOES_FORM_EXIST:"4479A99F-4C87-4568-A855-2B133E24A442"},e.NO_THRESHOLD_CHECK_VALUE=-1,e.htmlTagName={A:"A",BODY:"BODY",BUTTON:"BUTTON",DIV:"DIV",FIELDSET:"FIELDSET",HEAD:"HEAD",IFRAME:"IFRAME",IMG:"IMG",FORM:"FORM",INPUT:"INPUT",LABEL:"LABEL",META:"META",NOSCRIPT:"NOSCRIPT",OPTION:"OPTION",P:"P",SCRIPT:"SCRIPT",SELECT:"SELECT",SPAN:"SPAN",TABLE:"TABLE",TD:"TD",TEXTAREA:"TEXTAREA",TH:"TH",THEAD:"THEAD",TITLE:"TITLE",TR:"TR",B:"B",I:"I",U:"U",LI:"LI",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",FONT:"FONT",STRONG:"STRONG",EM:"EM"},e.htmlElementAttributes={ACTION:"action",ALT:"alt",CLASS:"class",CHECKED:"checked",FOR:"for",FORM:"form",FORMACTION:"formaction",ID:"id",NAME:"name",PLACEHOLDER:"placeholder",READONLY:"readonly",SRC:"src",TYPE:"type",TITLE:"title",VALUE:"value"},e.inputType={UNKNOWN:"Unknown",TEXT:"Text",TEXTAREA:"Textarea",PASSWORD:"Password",SUBMIT:"Submit",IMAGE:"Image",BUTTON:"Button",CHECKBOX:"Checkbox",RADIO:"Radio",RESET:"Reset",FILE:"File",HIDDEN:"Hidden",SELECT:"Select",EVENT_OBJECT:"EventObject",TELEPHONE:"tel",NUMBER:"number",CUSTOM_FILL:"CustomFill"},e.patternTokens={DAY:"dd",MONTH:"mmm",YEAR:"yyyy",PREFIX:"p",SUFFIX:"s",FIRST_NAME:"fn",MIDDLE_NAME:"mn",LAST_NAME:"ln",CARD_NUMBER:"cc",UNKNOWN:"x",IGNORE:"xx"},e.fieldType={ALL:"All",UNKNOWN:"Unknown",LOGIN_NAME:"LoginName",PASSWORD:"Password",PASSWORD_PLACEHOLDER:"PasswordPlaceHolder",VERIFY_PASSWORD:"VerifyPassword",PASSWORD_HINT:"PasswordHint",LOGIN_BUTTON:"LoginButton",SIGNUP_BUTTON:"SignUpButton",CONTINUE_BUTTON:"ContinueButton",SIGNON_DESTINATION:"SignonDestination",EMAIL:"Email",VERIFY_EMAIL:"VerifyEmail",ALTERNATE_EMAIL:"AlternateEmail",FULL_NAME:"FullName",FIRST_NAME:"FirstName",LAST_NAME:"LastName",MIDDLE_NAME:"MiddleName",PREFIX:"Prefix",SUFFIX:"Suffix",FULL_NAME_PHONETIC:"FullNamePhonetic",FIRST_NAME_PHONETIC:"FirstNamePhonetic",LAST_NAME_PHONETIC:"LastNamePhonetic",MIDDLE_NAME_PHONETIC:"MiddleNamePhonetic",FULL_NAME_ROMAN:"FullNameRoman",FIRST_NAME_ROMAN:"FirstNameRoman",LAST_NAME_ROMAN:"LastNameRoman",MIDDLE_NAME_ROMAN:"MiddleNameRoman",SSN:"SSN",ADDRESS:"Address",ADDRESS_LINE2:"AddressLine2",ADDRESS_LINE3:"AddressLine3",ADDRESS_PHONETIC:"AddressPhonetic",ADDRESS_LINE2_PHONETIC:"AddressLine2Phonetic",ADDRESS_LINE3_PHONETIC:"AddressLine3Phonetic",CITY:"City",CITY_PHONETIC:"CityPhonetic",ZIP_CODE:"ZipCode",STATE:"State",REGION:"Region",HOUSE_NUMBER:"HouseNumber",HOUSE_NAME:"HouseName",VILLAGE:"Village",SUB_AREA:"SubArea",BLOCK_NUMBER:"BlockNumber",DISTRICT:"District",APARTMENT_NUMBER:"ApartmentNumber",APARTMENT_FLOOR:"ApartmentFloor",SUITE_NUMBER:"SuiteNumber",BIRTH_DATE:"BirthDate",BIRTH_DAY:"BirthDay",BIRTH_MONTH:"BirthMonth",BIRTH_YEAR:"BirthYear",DATE:"Date",DAY:"Day",MONTH:"Month",YEAR:"Year",ACCOUNT_NUMBER:"AccountNumber",PIN:"Pin",ROUTING_NUMBER:"RoutingNumber",PHONE_NUMBER_COUNTRY_CODE:"PhoneNumberCountryCode",PHONE_NUMBER_AREA_CODE:"PhoneNumberAreaCode",PHONE_NUMBER_EXTENSION:"PhoneNumberExtension",PHONE_NUMBER:"PhoneNumber",PHONE_NUMBER_WORK:"PhoneNumberWork",PHONE_NUMBER_WORK_FAX:"PhoneNumberWorkFax",PHONE_NUMBER_HOME:"PhoneNumberHome",PHONE_NUMBER_FAX:"PhoneNumberFax",PHONE_NUMBER_CELL:"PhoneNumberCell",SECURITY_QUESTION:"SecurityQuestion",ANSWER:"Answer",GENDER:"Gender",CREDIT_CARD_HOLDER_NAME:"CreditCardHolderName",CREDIT_CARD_HOLDER_FIRST_NAME:"CreditCardHolderFirstName",CREDIT_CARD_HOLDER_LAST_NAME:"CreditCardHolderLastName",CREDIT_CARD_TYPE:"CreditCardType",CREDIT_CARD_NUMBER:"CreditCardNumber",CREDIT_CARD_EXPIRATION_DATE:"CreditCardExpirationDate",CREDIT_CARD_EXPIRATION_MONTH:"CreditCardExpirationMonth",CREDIT_CARD_EXPIRATION_YEAR:"CreditCardExpirationYear",CREDIT_CARD_SECURITY_CODE:"CreditCardSecurityCode",CREDIT_CARD_START_DATE:"CreditCardStartDate",CREDIT_CARD_START_MONTH:"CreditCardStartMonth",CREDIT_CARD_START_YEAR:"CreditCardStartYear",CREDIT_CARD_ISSUE_NUMBER:"CreditCardIssueNumber",ADD_CARD_DETAILS:"AddCard",COMPANY:"Company",DEPARTMENT:"Department",WORK_ID:"WorkId",WORK_JOB_TITLE:"WorkJobTitle",WORK_EMAIL:"WorkEmail",WORK_ADDRESS:"WorkAddress",WORK_CITY:"WorkCity",WORK_ZIP_CODE:"WorkZipCode",WORK_STATE:"WorkState",WORK_REGION:"WorkRegion",WORK_WEBSITE:"WorkWebSite",SEARCH:"Search",LANGUAGE:"Language",OPEN_ID:"OpenID",VERIFICATION_CODE:"VerificationCode",WEBSITE:"WebSite",MOTHERS_MAIDEN_NAME:"MothersMaidenName",TIMEZONE:"TimeZone",DOMAIN:"Domain",AJAX_ACTION:"AjaxAction",BUTTON_ACTION:"ButtonAction",SKIP_FIELD:"SkipField",CHANGE_PASSWORD_BUTTON:"ChangePasswordButton",SUBSCRIBE:"Subscribe",PASSPORT_NUMBER:"PassportNumber",DRIVER_LICENSE:"DriversLicense",SEARCH_ANNOTATION:"SearchAnnotation",APPLY:"Apply",UPDATE:"Update",COMMENT:"Comment",BANK_NAME:"BankName",BANK_ACCOUNT_HOLDER_NAME:"BankAccountHolderName",MAILING_ADDRESS:"MailingAddress",NEW_PASSWORD:"NewPassword",IGNORE_FIELD:"IgnoreField",GENDER_MALE:"GenderMale",GENDER_FEMALE:"GenderFemale",SEARCH_BUTTON:"SearchButton",MUTLI_SPAN_USERNAME:"MultiSpanUsername",SUBSCRIBE_BUTTON:"SubscribeButton",APPLY_BUTTON:"ApplyButton",UPDATE_BUTTON:"UpdateButton",OTP:"OTP"},e.matchProperties={INVALID:"Invalid",NAME:"Name",VALUE:"Value",CLASS:"Class",ATTACHED_TEXT:"AttachedText",ALTERNATIVE_TEXT:"Alt",ID:"ID",IMAGE_SRC:"Src",TITLE:"Title",INNER_TEXT:"InnerText",HREF:"HREF",CONTENT:"Content",FIRST_LIST_ITEM:"FirstListItem",PLACE_HOLDER:"Placeholder",TYPE:"Type"},e.eventType={ON_CLICK:"onclick",ON_SUBMIT:"onsubmit",ON_MOUSE_DOWN:"onmousedown",ON_MOUSE_UP:"onmouseup",FORM_ACTION:"formaction",COMMAND:"command",HREF:"href",ROLE:"role",CHANGE:"change",INPUT:"input",HTML_EVENTS:"HTMLEvents",EVENTS:"Events",CLICK:"click",KEYDOWN:"keydown",MOUSEDOWN:"mousedown",KEYUP:"keyup",SUBMIT:"submit",MOUSE_OVER:"mouseover",ONFOCUS:"focus"},e.groupType={UNKNOWN:"Unknown",LOGIN:"Login",MULTI_PAGE_LOGIN:"MultiPageLogin",PARTIAL_LOGIN:"PartialLogin",PARTIAL_CARDS_PAGE:"PartialCardsPage",CARDS_PAGE:"CardsPage",PERSONAL_INFO_PAGE:"PersonalInfoPage",CHANGE_PASSWORD_PAGE:"ChangePasswordPage",REGISTRATION_PAGE:"RegistrationPage",PARTIAL_REGISTRATION_PAGE:"PartialRegistrationPage",PARTIAL_CHANGE_PASSWORD_PAGE:"PartialChangePasswordPage",LIMITED_CHANGE_PASSWORD_PAGE:"LimitedChangePasswordPage",ADDRESS_PAGE:"AddressPage",INTERACTION_PAGE:"InteractionPage"},e.groupTypeRank=[e.groupType.INTERACTION_PAGE,e.groupType.REGISTRATION_PAGE,e.groupType.ADDRESS_PAGE,e.groupType.LOGIN,e.groupType.PARTIAL_LOGIN,e.groupType.MULTI_PAGE_LOGIN,e.groupType.CARDS_PAGE,e.groupType.PARTIAL_CARDS_PAGE,e.groupType.PERSONAL_INFO_PAGE,e.groupType.CHANGE_PASSWORD_PAGE,e.groupType.PARTIAL_REGISTRATION_PAGE,e.groupType.PARTIAL_CHANGE_PASSWORD_PAGE,e.groupType.LIMITED_CHANGE_PASSWORD_PAGE],e.anyFieldTypes={ANY_LOGIN_FIELD:"AnyLoginField",ANY_LOGIN_FIELD_EX:"AnyLoginFieldEx",ANY_LOGIN_BUTTON:"AnyLoginButton",ANY_CHANGE_PASSWORD_BUTTON:"AnyChangePasswordButton",ANY_LOGIN_PASSWORD_FIELD:"AnyLoginPasswordField",ANY_CHANGE_PASSWORD_FIELD:"AnyChangePasswordField"},e.loginType={USERNAME:"Username",PASSWORD:"Password",LOGIN_BUTTON:"LoginButton"},e.anyInputTypes={ANY_INPUT_BUTTON_TYPE:"AnyInputButtonType"},e.groupCategorization={MAPPING_FIELDS:"MappingFields",INPUT_FIELDS:"InputFields",GROUP_TYPE:"GroupType",FIELD_TYPE:"FieldType",INPUT_TYPE:"InputType",LOGIN_TYPE:"LoginType",PARTIAL:"Partial",LOGIN_CATEGORIZATIONS:"LoginCategorizations",PAGE_CATEGORIZATIONS:"PageCategorizations"},e.telemetry={CATEGORY:"wax",VALIDATION_TIMEOUT:300,ANALYSIS_THRESHOLD:2500,TRACKING_ID:"UA-80690213-3"},e.telemetry.config={ENABLE_TELEMETRY:"false",ENABLE_DETECTION_FAILURE_TELEMETRY:"false",ENABLE_ADDRESS_DETECTION_TELEMETRY:"false"},e.telemetry.type={FILL_FAILURE:"fillfailure",FIELD_CHANGED:"fieldchanged",FILL_SUCCESS:"fillsuccess",DETECTION_FAILURE:"detectionfailure",REG_ADDRESS_DETECTION:"regaddressdetection"},e.telemetry.parameters={TAG_NAME:"cd4",INPUT_TYPE:"cd5",ID:"cd6",NAME:"cd7",PLACE_HOLDER:"cd8",CLASS_NAME:"cd9",FIELD_INNER_TEXT:"cd10",FORM_ID:"cd11",FORM_NAME:"cd12",URL:"cd13",FORM_TYPES:"cd14"},e.parsePreferences={PARSE_CRITERIAS:"ParseCriterias",REGEX_ENABLED_FIELDS:"RegexEnabledFields"},e.fieldsCombinationMapping={[e.groupType.REGISTRATION_PAGE]:[[e.fieldType.EMAIL,e.fieldType.FIRST_NAME],[e.fieldType.FIRST_NAME,e.fieldType.LAST_NAME],[e.fieldType.EMAIL,e.fieldType.FULL_NAME],[e.fieldType.EMAIL,e.fieldType.VERIFY_EMAIL],[e.fieldType.EMAIL,e.fieldType.LOGIN_NAME],[e.fieldType.FULL_NAME,e.fieldType.LOGIN_NAME]],[e.groupType.ADDRESS_PAGE]:[[e.fieldType.ADDRESS,e.fieldType.ZIP_CODE],[e.fieldType.ADDRESS_LINE2,e.fieldType.ZIP_CODE],[e.fieldType.CITY,e.fieldType.ZIP_CODE],[e.fieldType.STATE,e.fieldType.ZIP_CODE],[e.fieldType.REGION,e.fieldType.ZIP_CODE]]},e.parseCriterias={EVENT_OBECTS:"EventObjects",IGNORE_FIELD_SETS:"IgnoreFieldSets",VERIFY_ATTRIBUTE_BY_ATTACHED_TEXT:"VerifyAttributeByAttachedText",ENABLE_SORTING:"EnableSorting",CHECK_IF_OUT_OF_BOUNDS:"CheckIfOutOfBounds",USE_PATTERN_MATCHING:"UsePatternMatching",IGNORE_HIDDEN_INPUTS:"IgnoreHiddenInputs",ALLOW_PAGE_PORT_VIEW:"AllowPagePortView",ENABLE_AJAX_SUPPORT:"EnableAjaxSupport",USE_GLOBAL_LOOKUP_CACHE:"UseGlobalLookupCache",LOGIN_EVENT_REPLAY:"LoginEventReplay",USE_GROUP_PATTERN_MATCHING:"UseGroupPatternMatching",LOGIN_THREAD_CALLBACK_REPLAY:"LoginThreadCallbackReplay",ATTACHED_TEXT_LENGTH:"AttachedTextLength",ATTACHED_TEXT_PIXEL_SIZE:"AttachedTextPixelSize",USE_REG_EX_ON_EVENT_OBJECTS:"UseRegExOnEventObjects",USE_REG_EX_ON_IMAGES:"UseRegExOnImages",IGNORE_IMAGES:"IgnoreImages",DETERMINISTIC_EVENT_REPLAY:"DeterministicEventReplay",DONT_VALIDATE_FIELD_TYPE:"DontValidateFieldType",DONT_CATEGORIZE_AS_MULTIPLE_PAGE_LOGIN:"DontCategorizeAsMultiPageLogin",VERIFY_DOCUMENT_WIDTH_AND_HEIGHT:"VerifyDocumentWidthAndHeight",INPUTS_ONLY:"InputsOnly",IGNORE_FORMS:"IgnoreForms",ADD_SHADOW_DOM_FIELDS:"AddShadowDomFields",DONT_PERFORM_GROUP_CATEGORIZE:"DontPerformGroupCategorize",DONT_PERFORM_FIELD_MAPPING:"DontPerformFieldMapping",CHROME_DONT_USE_JAVA_SCRIPT:"ChromeDontUseJavaScript",DONT_PARSE:"DontParse",CARDS_EVENT_REPLAY:"CardsEventReplay",IGNORE_FRAMEWORK_SUBMIT:"IgnoreFrameworkSubmit",SKIP_DOCS_WITH_FEW_ELEMENTS:"SkipDocsWithFewElements",ENABLE_FORM_EXIST_VALIDATION:"EnableFormExistValidation",DONT_USE_CUSTOM_SUBMIT_HOOK:"DontUseCustomSubmitHook",DONT_USE_PASSWORD_FIELD_CORRECTION:"DontUsePasswordFieldCorrection"},e.keyCode={ENTER:13},e.performanceReporter={COMPONENT:{WAX:"wax"},TYPE:{DO_PARSE:"doParse",INIT:"init",FIELD_MAPPING_PROCESS_PAGE:"fieldMappingProcessPage",FIELD_GROUP_MAPPING_PROCESS_PAGE:"fieldGroupMappingProcessPage",GROUP_CATEGORIZATION_PROCESS_PAGE:"groupCategorizationProcessPage",PROCESS_GROUP_CATEGORIZATION_RESULTS:"processGroupCategorizationResults",INIT_WITH_THRESHOLD:"waxInitWithThreshold"}},e.formDataPublicKey="##FORMDATA_PUBLICKEY##";const t={CDN_FORMDATA_BASE_URL:"##CDN_SERVER##/idsafe/waxFormdata/v1/"};return t.CDN_L10N_JSON_URL=t.CDN_FORMDATA_BASE_URL+"l10n/",t.L10N_US_CODE="us",t.MASKED_PASSWORD_CHAR=8226,e.cloudFormData=t,e.textPosition={Invalid:0,Center:1,Left:2,FarLeft:4,Top:8,Bottom:32,Right:64,FarRight:128,CenterTop:9,LeftTop:10,FarLeftTop:12,RightTop:72,FarRightTop:136,LeftCenter:3,FarLeftCenter:5,RightCenter:65,FarRightCenter:129,CenterBottom:33,LeftBottom:34,FarLeftBottom:36,RightBottom:96,FarRightBottom:160},e.elementType={Unknown:0,Label:1,TableCell:2,Header:3,Table:4,TableBody:5,TableRow:6,Input:7,TextArea:8,Button:9,Image:10,Select:11,Link:12,Container:13,SelectOption:14,Generic:15,Form:16,Comments:17,FieldSet:18},e.languageQueryParameterKeys=["lang",".lang","hl"],e.fieldTypeToPIIIdentifiers={[e.fieldType.SSN]:27,[e.fieldType.CREDIT_CARD_HOLDER_NAME]:71,[e.fieldType.CREDIT_CARD_HOLDER_FIRST_NAME]:72,[e.fieldType.CREDIT_CARD_HOLDER_LAST_NAME]:73,[e.fieldType.CREDIT_CARD_TYPE]:74,[e.fieldType.CREDIT_CARD_NUMBER]:75,[e.fieldType.CREDIT_CARD_EXPIRATION_DATE]:76,[e.fieldType.CREDIT_CARD_EXPIRATION_MONTH]:77,[e.fieldType.CREDIT_CARD_EXPIRATION_YEAR]:78,[e.fieldType.CREDIT_CARD_SECURITY_CODE]:79,[e.fieldType.CREDIT_CARD_START_DATE]:80,[e.fieldType.CREDIT_CARD_START_MONTH]:81,[e.fieldType.CREDIT_CARD_START_YEAR]:82,[e.fieldType.CREDIT_CARD_ISSUE_NUMBER]:83,[e.fieldType.LOGIN_NAME]:1,[e.fieldType.PASSWORD]:2,[e.fieldType.PASSWORD_PLACEHOLDER]:3,[e.fieldType.VERIFY_PASSWORD]:4,[e.fieldType.PASSWORD_HINT]:5,[e.fieldType.LOGIN_BUTTON]:6,[e.fieldType.SIGNUP_BUTTON]:7,[e.fieldType.CONTINUE_BUTTON]:8,[e.fieldType.SIGNON_DESTINATION]:9,[e.fieldType.EMAIL]:10,[e.fieldType.VERIFY_EMAIL]:11,[e.fieldType.ALTERNATE_EMAIL]:12,[e.fieldType.FULL_NAME]:13,[e.fieldType.FIRST_NAME]:14,[e.fieldType.LAST_NAME]:15,[e.fieldType.MIDDLE_NAME]:16,[e.fieldType.PREFIX]:17,[e.fieldType.SUFFIX]:18,[e.fieldType.FULL_NAME_PHONETIC]:19,[e.fieldType.FIRST_NAME_PHONETIC]:20,[e.fieldType.LAST_NAME_PHONETIC]:21,[e.fieldType.MIDDLE_NAME_PHONETIC]:22,[e.fieldType.FULL_NAME_ROMAN]:23,[e.fieldType.FIRST_NAME_ROMAN]:24,[e.fieldType.LAST_NAME_ROMAN]:25,[e.fieldType.MIDDLE_NAME_ROMAN]:26,[e.fieldType.ADDRESS]:28,[e.fieldType.ADDRESS_LINE2]:29,[e.fieldType.ADDRESS_LINE3]:30,[e.fieldType.ADDRESS_PHONETIC]:31,[e.fieldType.ADDRESS_LINE2_PHONETIC]:32,[e.fieldType.ADDRESS_LINE3_PHONETIC]:33,[e.fieldType.CITY]:34,[e.fieldType.CITY_PHONETIC]:35,[e.fieldType.ZIP_CODE]:36,[e.fieldType.STATE]:37,[e.fieldType.REGION]:38,[e.fieldType.HOUSE_NUMBER]:39,[e.fieldType.HOUSE_NAME]:40,[e.fieldType.VILLAGE]:41,[e.fieldType.SUB_AREA]:42,[e.fieldType.BLOCK_NUMBER]:43,[e.fieldType.DISTRICT]:44,[e.fieldType.APARTMENT_NUMBER]:45,[e.fieldType.APARTMENT_FLOOR]:46,[e.fieldType.SUITE_NUMBER]:47,[e.fieldType.BIRTH_DATE]:48,[e.fieldType.BIRTH_DAY]:49,[e.fieldType.BIRTH_MONTH]:50,[e.fieldType.BIRTH_YEAR]:51,[e.fieldType.DATE]:52,[e.fieldType.DAY]:53,[e.fieldType.MONTH]:54,[e.fieldType.YEAR]:55,[e.fieldType.ACCOUNT_NUMBER]:56,[e.fieldType.PIN]:57,[e.fieldType.ROUTING_NUMBER]:58,[e.fieldType.PHONE_NUMBER_COUNTRY_CODE]:59,[e.fieldType.PHONE_NUMBER_AREA_CODE]:60,[e.fieldType.PHONE_NUMBER_EXTENSION]:61,[e.fieldType.PHONE_NUMBER]:62,[e.fieldType.PHONE_NUMBER_WORK]:63,[e.fieldType.PHONE_NUMBER_WORK_FAX]:64,[e.fieldType.PHONE_NUMBER_HOME]:65,[e.fieldType.PHONE_NUMBER_FAX]:66,[e.fieldType.PHONE_NUMBER_CELL]:67,[e.fieldType.SECURITY_QUESTION]:68,[e.fieldType.ANSWER]:69,[e.fieldType.GENDER]:70,[e.fieldType.COMPANY]:84,[e.fieldType.DEPARTMENT]:85,[e.fieldType.WORK_ID]:86,[e.fieldType.WORK_JOB_TITLE]:87,[e.fieldType.WORK_EMAIL]:88,[e.fieldType.WORK_ADDRESS]:89,[e.fieldType.WORK_CITY]:90,[e.fieldType.WORK_ZIP_CODE]:91,[e.fieldType.WORK_STATE]:92,[e.fieldType.WORK_REGION]:93,[e.fieldType.WORK_WEBSITE]:94,[e.fieldType.SEARCH]:95,[e.fieldType.LANGUAGE]:96,[e.fieldType.OPEN_ID]:97,[e.fieldType.VERIFICATION_CODE]:98,[e.fieldType.WEBSITE]:99,[e.fieldType.MOTHERS_MAIDEN_NAME]:100,[e.fieldType.TIMEZONE]:101,[e.fieldType.DOMAIN]:102,[e.fieldType.AJAX_ACTION]:103,[e.fieldType.SKIP_FIELD]:104,[e.fieldType.IGNORE_FIELD]:124,[e.fieldType.GENDER_MALE]:155,[e.fieldType.GENDER_FEMALE]:156,[e.fieldType.SEARCH_BUTTON]:157,[e.fieldType.MUTLI_SPAN_USERNAME]:158},e.fieldFilter={},e.fieldFilter.type={ALL:"ALL",CATEGORIZED_INPUT_FIELDS:"CATEGORIZED_INPUT_FIELDS",CATEGORIZED_INPUT_AND_NONINPUT_FIELDS:"CATEGORIZED_INPUT_AND_NONINPUT_FIELDS"},e.tabStatus={COMPLETE:"complete",LOADING:"loading"},e.formEvents={FORMS_FOUND:"4AF4F7BD-9AB6-4308-9C68-420FAAE6177C",FORM_SUBMIT:"F5B47B7B-C96E-48F1-AC71-C71F31435965",ALL_FORM_ELEMENTS_REMOVED:"415DA29C-3871-45AF-8321-D08B644B0809"},e.DATA_NLOCK_REF_GUID="data-nlok-ref-guid",e.WAX_JSON_DOWNLOAD="wax-json-download",e.WAX_JSON_DOWNLOAD_RETRY="wax-json-download-retry",e.WAX_RULES_DOWNLOAD_INTERVAL=864e5,e.WAX_RULES_RETRY_INTERVAL=18e5,e.WAX_STORAGE_CONTAINER="10a259c2-f812-4c39-9516-2a513734e1d5",e.MILLISECONDS_MINUTES_CONVERSION=6e4,e.WAX_STORAGE={WAX_STORAGE_CONTAINER:"10a259c2-f812-4c39-9516-2a513734e1d5",WAX_RULES_DOWNLOAD_TIMESTAMP:"wax_rules_download_timestamp",PARSE_PREFERENCE_JSON:"parse_preference_json",RULES_JSON:"rules_json",DOMAINS_DATA:"domains_data",GLOBAL_JSON:"global_json",URL_BASED_DATA:"url_based_data"},e}(e.SymWax)}(window),function(e){"use strict";function t(e){if(i(e))throw new Error("jsonParsePreference object cannot be null");this._languages=e.Languages,this._overwriteRule=e.OverwriteRule,this._matchFullURLPath=e.MatchFullURLPath,this._parseCriterias=e.ParseCriterias,this._parseCriteriasEx=e.ParseCriteriasEx,this._eventTypes=e.EventTypes,this._matchingProperties=e.MatchingProperties,this._initialParseDelay=e.InitialParseDelay,this._parseRetryInfo=e.ParseRetryInfo,this._ajaxParseRetryInfo=e.AjaxParseRetryInfo,this._signonDestinations=e.SignonDestinations,this._stringPixelSize=e.StringPixelSize,this._regexEnabledFields=e.RegexEnabledFields,this._browsers=e.Browsers,this._groupSeperatorWidth=e.GroupSeperatorWidth,this._mutationObserverTargetElement=e.MutationObserverTarget,this._customEventsAfterFill=e.CustomEventsAfterFill,this._shadowDomTargetElements=e.ShadowDomTargets}var r,i;e.SymWax.ParsePreference=(r=e.SymBfw,e.SymWax,i=r.utils.isNil,r.utils.isntNil,r.utils.isArray,t.prototype.isOverwriteRuleAvailable=function(){return this._overwriteRule},t.prototype.isMatchFullURLPathPresent=function(){return this._matchFullURLPath},t.prototype.getMutationObserverTargetElement=function(){return this._mutationObserverTargetElement},t.prototype.getShadowDomTargetElements=function(){return this._shadowDomTargetElements},t.prototype.getParseCriterias=function(){return this._parseCriterias},t.prototype.getParseCriteriasEx=function(){return this._parseCriteriasEx},t.prototype.getEventTypes=function(){return this._eventTypes},t.prototype.getLanguages=function(){return this._languages},t.prototype.getMatchingProperties=function(){return this._matchingProperties},t.prototype.getInitialParseDelay=function(){return this._initialParseDelay},t.prototype.getParseRetryInfo=function(){return this._parseRetryInfo},t.prototype.getAjaxParseRetryInfo=function(){return this._ajaxParseRetryInfo},t.prototype.getSignonDestinations=function(){return this._signonDestinations},t.prototype.getStringPixelSize=function(){return this._stringPixelSize},t.prototype.getBrowsers=function(){return this._browsers},t.prototype.getRegexEnabledFields=function(){return this._regexEnabledFields},t.prototype.getGroupSeperatorWidth=function(){return this._groupSeperatorWidth},t.prototype.getCustomEventsAfterFill=function(){return this._customEventsAfterFill},t.prototype.serialize=function(){return{OverwriteRule:this.isOverwriteRuleAvailable(),MatchingProperties:this.getMatchingProperties(),ParseCriterias:this.getParseCriterias(),EventTypes:this.getEventTypes(),SignonDestinations:this.getSignonDestinations(),ParseCriteriasEx:this.getParseCriteriasEx(),InitialParseDelay:this.getInitialParseDelay(),ParseRetryInfo:this.getParseRetryInfo(),Languages:this.getLanguages(),MatchFullURLPath:this.isMatchFullURLPathPresent(),AjaxParseRetryInfo:this.getAjaxParseRetryInfo(),StringPixelSize:this.getStringPixelSize(),Browsers:this.getBrowsers(),RegexEnabledFields:this.getRegexEnabledFields(),GroupSeperatorWidth:this.getGroupSeperatorWidth(),MutationObserverTarget:this.getMutationObserverTargetElement(),CustomEventsAfterFill:this.getCustomEventsAfterFill(),ShadowDomTargets:this.getShadowDomTargetElements()}},t)}(window),function(e){"use strict";e.SymWax.utils=function(p,s){var o=Number.MAX_VALUE,a=Number.MAX_VALUE,d=p.utils.isNil,E=p.utils.isntNil,l=p.utils.isArray,u=p.utils.isString,T=s.constants,n=T.inputType,_=T.eventType,t=T.matchProperties,f=p.logger,c=s.constants.parseCriterias,m={};const r=[T.fieldType.CREDIT_CARD_HOLDER_NAME,T.fieldType.CREDIT_CARD_HOLDER_FIRST_NAME,T.fieldType.CREDIT_CARD_HOLDER_LAST_NAME,T.fieldType.CREDIT_CARD_NUMBER,T.fieldType.CREDIT_CARD_EXPIRATION_DATE,T.fieldType.CREDIT_CARD_EXPIRATION_MONTH,T.fieldType.CREDIT_CARD_EXPIRATION_YEAR],i=[T.fieldType.LOGIN_NAME,T.fieldType.EMAIL,T.fieldType.FULL_NAME,T.fieldType.FULL_NAME_ROMAN,T.fieldType.FULL_NAME_PHONETIC,T.fieldType.SSN,T.fieldType.PIN,T.fieldType.OPEN_ID,T.fieldType.PHONE_NUMBER,T.fieldType.PHONE_NUMBER_HOME,T.fieldType.PHONE_NUMBER_CELL,T.fieldType.MOTHERS_MAIDEN_NAME,T.fieldType.ACCOUNT_NUMBER,T.fieldType.ROUTING_NUMBER,T.fieldType.WORK_ID],h=[T.fieldType.SSN,T.fieldType.ACCOUNT_NUMBER],y=[T.fieldType.OTP];return m.hasEventHandler=function(e,t){if(!l(e))throw new Error("eventTypes must be an array");if(d(t))throw new Error("element cannot be nil");if(-1!==e.indexOf(_.ON_CLICK)&&E(t.getAttribute(_.ON_CLICK)))return!0;if(-1!==e.indexOf(_.ON_SUBMIT)&&E(t.getAttribute(_.ON_SUBMIT)))return!0;if(-1!==e.indexOf(_.ON_MOUSE_DOWN)&&E(t.getAttribute(_.ON_MOUSE_DOWN)))return!0;if(-1!==e.indexOf(_.ON_MOUSE_UP)&&E(t.getAttribute(_.ON_MOUSE_UP)))return!0;var r;if(-1!==e.indexOf(_.HREF)&&(r=t.getAttribute(_.HREF),E(r))){if(0===(r=r.toLowerCase()).indexOf("javascript"))return!0;if(0===r.indexOf("#"))return!0}return!(-1===e.indexOf(_.COMMAND)||!E(t.getAttribute(_.COMMAND)))||(!(-1===e.indexOf(_.FORM_ACTION)||!E(t.getAttribute(_.FORM_ACTION)))||!(-1===e.indexOf(_.ROLE)||(r=t.getAttribute(_.ROLE),!E(r)||0!==(r=r.toLowerCase()).indexOf("button"))))},m.getInputType=function(e){if(d(e))throw new Error("element cannot be nil");var t=e.type,r=n.UNKNOWN;switch(t){case"text":case"email":case"search":r=n.TEXT;break;case"textarea":r=n.TEXTAREA;break;case"password":r=n.PASSWORD;break;case"submit":r=n.SUBMIT;break;case"image":r=n.IMAGE;break;case"button":r=n.BUTTON;break;case"checkbox":r=n.CHECKBOX;break;case"radio":r=n.RADIO;break;case"reset":r=n.RESET;break;case"file":r=n.FILE;break;case"hidden":r=n.HIDDEN;break;case"select":case"select-one":r=n.SELECT;break;case"tel":r=n.TELEPHONE;break;case"number":r=n.NUMBER;break;default:var i=[_.ON_CLICK,_.ON_SUBMIT,_.ON_MOUSE_DOWN,_.ON_MOUSE_UP,_.FORM_ACTION,_.COMMAND,_.HREF,_.ROLE];m.hasEventHandler(i,e)&&(r=n.EVENT_OBJECT)}return r},m.getTrimmedString=function(e){if(!u(e))throw new Error("text must be a string");e=e.toLowerCase();try{var t=new RegExp(["\\s","-","\\.","\\*","_","\\$","\\%","\\&",":","\\/",";",",","\\[","\\]","\\■","\\™","\\»","\\→","\\▼","\\>","\\#","\\+","\\!","\\?","\\（","\\）","\\※","\\＊"].join("|"),"g");e=e.replace(t,"")}catch(e){return null}return e},m.stripBegin=function(e,t){if(!u(e))throw new Error("text must be a string");if(u(t))return e.startsWith(t)?e.substring(t.length,e.length):e;throw new Error("prefix must be a string")},m.stripEnd=function(e,t){if(!u(e))throw new Error("text must be a string");if(u(t))return e.endsWith(t)?e.substring(0,e.length-t.length):e;throw new Error("suffix must be a string")},m.getMatchPropertiesByInputType=function(e){if(!u(e))throw new Error("inputType must be a string");switch(e){case n.UNKNOWN:return[t.NAME,t.ID,t.INNER_TEXT];case n.EVENT_OBJECT:return[t.INNER_TEXT,t.TITLE,t.ALTERNATIVE_TEXT,t.VALUE,t.NAME,t.ID,t.IMAGE_SRC,t.CLASS];case n.SUBMIT:case n.BUTTON:case n.IMAGE:return[t.INNER_TEXT,t.ALTERNATIVE_TEXT,t.TITLE,t.VALUE,t.NAME,t.ID,t.IMAGE_SRC,t.CLASS,t.ATTACHED_TEXT];default:return[t.PLACE_HOLDER,t.ALTERNATIVE_TEXT,t.INNER_TEXT,t.NAME,t.TITLE,t.ID,t.ATTACHED_TEXT,t.VALUE,t.IMAGE_SRC,t.CLASS]}},m.isElementInsideRectangle=function(e,t){e=e.getBoundingClientRect();return!(e.height>t.height||e.width>t.width)&&!(e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)},m.isHtmlString=function(e){return 0===(e=e.trim()).indexOf("<")&&e.lastIndexOf(">")===e.length-1},m.isFormData=function(e){return e instanceof s.FormData},m.isAnyLoginField=function(e){if(u(e))return-1!==i.indexOf(e);throw new Error("fieldType must be a string")},m.isAnyCardField=function(e){if(u(e))return-1!==r.indexOf(e);throw new Error("fieldType must be a string")},m.isAnyPersonalInfoField=function(e){if(u(e))return-1!==h.indexOf(e);throw new Error("fieldType must be a string")},m.isAnyInteractionField=function(e){if(u(e))return-1!==y.indexOf(e);throw new Error("fieldType must be a string")},m.isAnyLoginFieldEx=function(e){if(u(e))return m.isAnyLoginField(e)||e===T.fieldType.UNKNOWN;throw new Error("fieldType must be a string")},m.isAnyLoginButtonField=function(e){if(u(e))return-1!==[T.fieldType.LOGIN_BUTTON,T.fieldType.CONTINUE_BUTTON,T.fieldType.OPEN_ID].indexOf(e);throw new Error("fieldType must be a string")},m.isAnyChangePasswordButtonField=function(e){if(u(e))return-1!==[T.fieldType.CHANGE_PASSWORD_BUTTON,T.fieldType.APPLY_BUTTON,T.fieldType.UPDATE_BUTTON].indexOf(e);throw new Error("fieldType must be a string")},m.isAnyLoginPasswordField=function(e){if(u(e))return-1!==[T.fieldType.PASSWORD,T.fieldType.PASSWORD_PLACEHOLDER].indexOf(e);throw new Error("fieldType must be a string")},m.isAnyChangePasswordField=function(e){if(u(e))return-1!==[T.fieldType.VERIFY_PASSWORD,T.fieldType.NEW_PASSWORD].indexOf(e);throw new Error("fieldType must be a string")},m.isAnyInputButtonType=function(e){if(u(e))return-1!==[T.inputType.SUBMIT,T.inputType.IMAGE,T.inputType.BUTTON,T.inputType.AJAX_ACTION].indexOf(e);throw new Error("inputType must be a string")},m.isAnyChangePasswordFormType=function(e){if(d(e))return!1;if(u(e))return-1!==[T.groupType.CHANGE_PASSWORD_PAGE,T.groupType.LIMITED_CHANGE_PASSWORD_PAGE,T.groupType.PARTIAL_CHANGE_PASSWORD_PAGE].indexOf(e);throw new Error("formType must be a string")},m.isOfFormType=function(e,t){if(!u(e))throw new Error("formType has to be of type string");const r=T.fieldsCombinationMapping[e];if(!l(r)||0===r.length)return!1;if(!(t instanceof s.WaxDom))throw new Error("waxDom must be of type WaxDom");const i=T.inputType.UNKNOWN;let n=t.getFieldMapping(),o=n.filter(e=>e instanceof s.WaxInputField||e instanceof s.WaxSelectField).filter(e=>e.getInputType()!==i&&e.getFieldType()!==i),a=Array.from(new Set(o.map(e=>e.getFieldType())));return!(e===T.groupType.REGISTRATION_PAGE&&!a.some(e=>e.toLowerCase().includes(T.fieldType.PASSWORD.toLowerCase())))&&r.some(e=>{return a.length===Array.from(new Set(a.concat(e))).length})},m.isRegExPatternMatched=function(e,t){if(!u(e)||!u(t))throw new Error("The input values cannot be nil");var r=!1;try{var i=new RegExp("^"+t+"$"),r=E(e.match(i))}catch(e){return f.error(e),!1}return r},m.isFieldTypeMatched=function(e,t){if(!u(e)||!u(t))throw new Error("The input values cannot be nil");if(e===t)return!0;switch(t){case T.anyFieldTypes.ANY_LOGIN_FIELD:return m.isAnyLoginField(e);case T.anyFieldTypes.ANY_LOGIN_FIELD_EX:return m.isAnyLoginFieldEx(e);case T.anyFieldTypes.ANY_LOGIN_BUTTON:return m.isAnyLoginButtonField(e);case T.anyFieldTypes.ANY_CHANGE_PASSWORD_BUTTON:return m.isAnyChangePasswordButtonField(e);case T.anyFieldTypes.ANY_CHANGE_PASSWORD_FIELD:return m.isAnyChangePasswordField(e);case T.anyFieldTypes.ANY_LOGIN_PASSWORD_FIELD:return m.isAnyLoginPasswordField(e)}return m.isRegExPatternMatched(e,t)},m.isInputTypeMatched=function(e,t){if(u(e)&&u(t))return e===t||(t===T.anyInputTypes.ANY_INPUT_BUTTON_TYPE?m.isAnyInputButtonType(e):m.isRegExPatternMatched(e,t));throw new Error("The input values cannot be nil")},m.isWaxField=function(e){return e instanceof s.WaxField},m.isInputElement=function(e){if(d(e)||!u(e.tagName))return!1;e=e.tagName.toUpperCase();return e===T.htmlTagName.INPUT||e===T.htmlTagName.TEXTAREA||e===T.htmlTagName.SELECT},m.isInputTextElement=function(e){return e===T.inputType.TEXT||e===T.inputType.PASSWORD||e===T.inputType.TEXTAREA},m.isInputButtonElement=function(e){return e===T.inputType.SUBMIT||e===T.inputType.BUTTON||e==T.inputType.IMAGE},m.focusElement=function(e,t){var r,i;d(e)||(r=window.scrollX,i=window.scrollY,e.focus(),!0!==t&&window.scrollTo(r,i))},m.clickElement=function(e){d(e)||(m.focusElement(e,!0),e.click())},m.blurElement=function(e){d(e)||e.blur()},m.isWaxDom=function(e){return e instanceof s.WaxDom},m.triggerCreateEvent=function(e,t,r){d(e)||d(t)||d(r)?f.warn("Function parameters cannot be Nil"):p.utils.isFunction(document.createEvent)?((t=document.createEvent(t)).initEvent(r,!0,!0),e.dispatchEvent(t)):f.error("document.createEvent is not a function")},m.triggerNewCustomEvent=function(e,t){d(e)||d(t)?f.warn("Function parameters cannot be Nil"):(t=new Event(t),e.dispatchEvent(t))},m.isWaxForm=function(e){return e instanceof s.WaxForm},m.isWaxLoginForm=function(e){return e instanceof s.WaxLoginForm},m.isWaxChangePasswordForm=function(e){return e instanceof s.WaxChangePasswordForm},m.isWaxForm=function(e){return e instanceof s.WaxForm},m.isWaxCardForm=function(e){return e instanceof s.WaxCardForm},m.isButtonField=function(e){if(!m.isWaxField(e))throw new Error("The argument should be a wax field");e=e.getFieldType();if(d(e))return!1;switch(e){case T.fieldType.LOGIN_BUTTON:case T.fieldType.SIGNUP_BUTTON:case T.fieldType.CONTINUE_BUTTON:case T.fieldType.CHANGE_PASSWORD_BUTTON:case T.fieldType.SEARCH_BUTTON:case T.fieldType.SUBSCRIBE_BUTTON:case T.fieldType.APPLY_BUTTON:case T.fieldType.UPDATE_BUTTON:case T.anyFieldTypes.ANY_LOGIN_BUTTON:return!0}return!1},m.isElementVisibleOnViewPort=function(e){if(d(e))throw new Error("Element cannot be Nil");for(var t=e.getClientRects(),r=0,i=t.length;r<i;r++){var n,o=t[r];for(n of[{x:o.left,y:o.top},{x:o.right,y:o.top},{x:o.left,y:o.bottom},{x:o.right,y:o.bottom},{x:(o.left+o.right)/2,y:(o.top+o.bottom)/2}]){let t=document.elementFromPoint(n.x,n.y);if(!d(t)){if(t.id===T.IN_PAGE_POPUP){let e=t;var a=e.style.pointerEvents;e.style.pointerEvents="none",t=document.elementFromPoint(n.x,n.y),e.style.pointerEvents=a}if(t===e)return!0}}}return!1},m.isParentOffsetVisible=function(e){if(d(e))throw new Error("Element cannot be Nil");var t=e.tagName.toLowerCase(),t="body"!==t&&t!==T.htmlElementAttributes.FORM;if(t&&(e.offsetWidth<3||e.offsetHeight<3))return!1;if(t&&e.offsetLeft-e.offsetWidth>screen.width)return!1;if(t&&e.offsetWidth+e.offsetLeft<3)return!1;if(t&&e.offsetTop+e.offsetHeight<3)return!1;t=e.offsetParent;return!t||m.isParentOffsetVisible(t)},m.isElementVisible=function(e,t){let r=s.formDataLoaderCS.getFormData(),i=r.getParsePreference(),n=i.getParseCriterias();var o=-1<n.indexOf(c.ALLOW_PAGE_PORT_VIEW);if(d(e))throw new Error("Element cannot be Nil");if(e.nodeType!==Node.ELEMENT_NODE)return!1;var a=window.getComputedStyle(e);if(!a)return!1;if("none"===a.display||"hidden"===a.visibility)return!1;if(a.opacity&&"radio"!==e.type){if(t&&"1"!==a.opacity)return!1;if("0"===a.opacity)return!1}return 0!==e.offsetWidth&&0!==e.offsetHeight&&(o||(!!m.isElementVisibleOnViewPort(e)||!!m.isParentOffsetVisible(e)))},m.isElementReadOnly=function(e){return!(!E(e)||!e.readOnly)},m.isValidElement=function(e,t){var r=-1<s.formDataLoaderCS.getFormData().getParsePreference().getParseCriterias().indexOf(c.IGNORE_HIDDEN_INPUTS);if(d(e)||d(t))return!1;if(!0==r&&!1===m.isElementVisible(e))return!1;var i=t.right-t.left,t=t.bottom-t.top;if(0==i&&0==t)return!r;if(i<0||o<i||t<0||a<t)return!1;r=!0;try{var n=e.getAttribute("type");E(n)&&"hidden"==n&&(r=!1)}catch(e){}return r},m.createFieldStylingElement=function(e,t,r,i){if(d(r))throw new Error("fieldStyling cannot be nil");if(d(r.DIV_ID))throw new Error("fieldStyling DIV_ID cannot be nil");if(d(r.Z_INDEX))throw new Error("fieldStyling Z_INDEX cannot be nil");if(d(r.IMG_PATH))throw new Error("fieldStyling IMG_PATH cannot be nil");if(d(r.IMG_ID))throw new Error("fieldStyling IMG_ID cannot be nil");var n,o,a,s,l,u;m.isValidElement(e,e.getBoundingClientRect())&&(t=m._getFieldStylingPosition(e,t,r),l=r.DIV_ID,n=t.height,o=t.width,u=t.top,t=t.left,a=r.Z_INDEX,(s=document.createElement("div")).setAttribute("id",l),s.setAttribute("style","height:"+n+"px;"+"max-width:"+o+"px;"+"vertical-align:top; position:absolute; top:"+u+"px;"+"left:"+t+"px;"+"cursor:pointer;"+"resize: both;"+"z-index:"+a+";"),s.addEventListener("click",function(e){e.stopPropagation(),i()}),s.addEventListener("mousedown",function(e){e.stopPropagation()}),s.addEventListener("mouseup",function(e){e.stopPropagation()}),l=p.extensionAdapter.getExtensionURL(r.IMG_PATH),E(l)&&((u=document.createElement("img")).setAttribute("id",r.IMG_ID),u.setAttribute("src",l),u.setAttribute("style","height:"+n+"px; max-width:"+o+"px;"),s.appendChild(u),e.insertAdjacentElement("afterend",s)))},m._getFieldStylingPosition=function(e,t,r){let o=e=>/^body|html$/i.test(e),a=function(e,t){return window.getComputedStyle(e).getPropertyValue(t)},s=function(e){let t=e.offsetParent||document.body;for(;t&&!o(t.tagName)&&"static"==a(t,"position");)t=t.offsetParent;return t};var i=function(e){let t=s(e);var r=o(t.tagName)?{top:-window.scrollY,left:0}:t.getBoundingClientRect(),i=e.getBoundingClientRect(),n=i.top-a(e,"marginTop")||0,i=i.left-a(e,"marginLeft")||0;return{top:n-(r.top+a(t,"borderTopWidth")||0),left:i-(r.left+a(t,"borderLeftWidth")||0)}}(e),n=i.top,i=i.left,e=e.getBoundingClientRect(),l=e.height*r.DIV_HEIGHT_RATIO/r.DIV_HEIGHT_REC,n=n+(e.height-l)/2,t=t?i+e.width*r.DIV_LEFT_RTL/r.DIV_WIDTH_REC:i+e.width*r.DIV_LEFT_LTR/r.DIV_WIDTH_REC-l;return{left:t,top:n,height:l,width:l}},m.isEventObject=function(e){if(!m.isWaxField(e))throw new Error("The argument must be a wax field");var t=e.getInputType();if(d(t))return!1;if(t===T.inputType.EVENT_OBJECT)return!0;e=e.getFieldType();const r=[T.fieldType.AJAX_ACTION,T.fieldType.CREDIT_CARD_TYPE,T.fieldType.BUTTON_ACTION,T.fieldType.CONTINUE_BUTTON];return-1!=r.indexOf(e)||!(t!==T.inputType.UNKNOWN||!m.isAnyLoginButtonField(e))},m.isPtnInRect=function(e,t,r){if(d(e)||d(t)||d(r))throw new Error("The arguments should not be null");return e>=r.left&&e<=r.right&&t>=r.top&&t<=r.bottom},m.Rect=function(e,t,r,i){if(d(e)||d(t)||d(r)||d(i))throw new Error("The arguments should not be null");this.left=e,this.top=t,this.right=r,this.bottom=i},m.Rect.prototype.getLeft=function(){return this.left},m.Rect.prototype.getTop=function(){return this.top},m.Rect.prototype.getRight=function(){return this.right},m.Rect.prototype.getBottom=function(){return this.bottom},m.Rect.prototype.getRect=function(){return this.left+","+this.top+","+this.right+","+this.bottom},m.getFillableElement=function(e,t){var r,i,n;if(!d(e)&&!d(t))return r=((i=t.getBoundingClientRect()).left+i.right)/2,i=(i.top+i.bottom)/2,n=e.elementFromPoint(r,i),m.focusElement(n),e=e.elementFromPoint(r,i),n===t&&n!==e&&m.isInputElement(e)?e:t},m.getHtmlElementSiblings=function(t,r){if(!d(t)){let e=[];for(t=t.parentNode.firstChild;r&&!r(t)||m.isHtmlElement(t)&&e.push(t),t=t.nextElementSibling;);return e}},m.isHtmlElement=function(e){return!d(e)&&e.nodeType===Node.ELEMENT_NODE},m.getWindowInnerHeight=function(){return window.innerHeight},m.getElementClientHeight=function(){return document.documentElement.clientHeight},m.getDocumentLanguages=function(){var n=Array.prototype.map,o=e=>E(e)&&""!==e;function a(e){return e.reduce((e,t)=>[].concat(e,t)).filter(e=>E(e))}function s(t){let r=t.split("-");if(1==r.length)return r;{let e=r.map(e=>e.trim()).map(e=>e.toLowerCase());return e.unshift(t),e}}return m.getDocumentLanguages=function(){var i=document.documentElement.getAttribute("xml:lang")||document.documentElement.lang;if(""!==i){let e=i.split(",");return 1==e.length?s(i):a(e.map(e=>e.trim()).map(s))}{i=document.querySelectorAll("meta[http-equiv='content-language']");if(0<i.length){let e=n.call(i,e=>e.getAttribute("content")).filter(o);if(0<e.length)return a(e.map(s))}i=document.querySelectorAll("meta[name='language']");if(0<i.length){let e=n.call(i,e=>e.getAttribute("content")).filter(o);if(0<e.length)return a(e.map(s))}i=document.querySelectorAll("meta[lang]");if(0<i.length){let e=n.call(i,e=>e.getAttribute("lang")).filter(o);if(0<e.length)return a(e.map(s))}let t=[],r=new URLSearchParams(m.getWindowLocationSearch()),e=T.languageQueryParameterKeys;return e.forEach(function(e){r.has(e)&&t.push(r.get(e))}),0<t.length?a(t.map(s)):[]}},m.getDocumentLanguages()},m.getDocumentClientHeight=function(){return document.body.clientHeight},m.getWindowLocationSearch=function(){return window.location.search},m.getWindowInnerWidth=function(){return window.innerWidth},m.getElementClientWidth=function(){return document.documentElement.clientWidth},m.getDocumentClientWidth=function(){return document.body.clientWidth},m.getWindowHeight=function(){return m.getWindowInnerHeight()||m.getElementClientHeight()||m.getDocumentClientHeight()},m.getWindowWidth=function(){return m.getWindowInnerWidth()||m.getElementClientWidth()||m.getDocumentClientWidth()},m.getTrimmedPropertyValue=function(t){if(!u(t))throw new Error("text must be a string");t=t.toLowerCase();var e=["$",":",".","|"];let r=0;for(;E(e[r]);){var i=t.lastIndexOf(e[r]);-1!=i&&(t=t.substr(i+1)),r++}if(E(t)){var n=["textbox","textfield","txt","tbx","tb","ddl","dd","tx","cbo","fld","drop","billing","billto","bill","shipping","shipto","ship","customer","cust"];let e=0;for(;E(n[e]);)t=t.replace(n[e],""),e++}return t},m}(e.SymBfw,e.SymWax)}(window),function(e){"use strict";e.SymWax.formDataFactory=function(e,r){var t=e.utils.isNil;const i=e.utils.isEmptyObject;var o=e.utils.isntNil,a=e.utils.isArray;const n=r.constants;function s(){this._parsePreference={},this._rule={},this._global={},this._urlBasedData={},this._l10n={countries:[],attributes:[]}}var l={};return s.prototype.getParsePreference=function(){return this._parsePreference},s.prototype.getRule=function(){return this._rule},s.prototype.getGlobal=function(){return this._global},s.prototype.getUrlBasedData=function(){return this._urlBasedData},s.prototype.getL10nCountries=function(){return this._l10n.countries},s.prototype.getValidL10nCountries=function(){var e=this.getL10nCountries();return this._getValidFormData(e)},s.prototype.getL10nAttributes=function(){return this._l10n.attributes},s.prototype.getValidL10nAttributes=function(){var e=this.getL10nAttributes();return this._getValidFormData(e)},s.prototype._getValidFormData=function(e){return e.filter(e=>!i(e[n.DATA])&&!i(e[n.FIELD_TYPE]))},s.prototype.serialize=function(){return{parsePreference:this.getParsePreference().serialize(),rule:this.getRule(),global:this.getGlobal(),urlBasedData:this.getUrlBasedData(),l10n:{countries:this.getL10nCountries(),attributes:this.getL10nAttributes()}}},s.prototype.setParsePreference=function(e){if(t(e))throw new Error("parsePreference cannot be nil");this._parsePreference=new r.ParsePreference(e)},s.prototype.setRule=function(e){if(t(e))throw new Error("rule cannot be nil");this._rule=e},s.prototype.setGlobal=function(e){if(t(e))throw new Error("global cannot be nil");this._global=e},s.prototype.setUrlBasedData=function(e){if(t(e))throw new Error("urlBasedData cannot be nil");this._urlBasedData=e},s.prototype.setL10nCountries=function(e){if(!a(e))throw new Error("countries must be an array");this._l10n.countries=e},s.prototype.setL10nAttributes=function(e){if(!a(e))throw new Error("attributes must be an array");this._l10n.attributes=e},s.prototype.appendL10nCountries=function(e){if(!a(e))throw new Error("countries must be an array");this._l10n.countries=this._l10n.countries.concat(e)},s.prototype.appendL10nAttributes=function(e){if(!a(e))throw new Error("attributes must be an array");this._l10n.attributes=this._l10n.attributes.concat(e)},s.prototype.prependL10nCountries=function(e){if(!a(e))throw new Error("countries must be an array");this._l10n.countries=e.concat(this._l10n.countries)},s.prototype.prependL10nAttributes=function(e){if(!a(e))throw new Error("attributes must be an array");this._l10n.attributes=e.concat(this._l10n.attributes)},l.filterRegexInCountryData=function(e,t){const o=r.constants,a=t||[];return 0<a.length?a.includes(o.fieldType.ALL)?e:e.map(r=>{const t=r[o.FIELD_TYPE];let i=[],n=(a.forEach(e=>{e=t.indexOf(e);-1<e&&i.push(e)}),r[o.REGEX]);return 0<i.length?Object.keys(n).forEach(e=>{var t=n[e];i.includes(t)||delete r[o.REGEX][e]}):r[o.REGEX]={},r}):(e.map(e=>(e[o.REGEX]={},e)),e)},l.create=function(t){var r=new s;if(o(t)&&(o(t.parsePreference)&&r.setParsePreference(t.parsePreference),o(t.rule)&&r.setRule(t.rule),o(t.global)&&r.setGlobal(t.global),o(t.urlBasedData)&&r.setUrlBasedData(t.urlBasedData),o(t.l10n))){if(a(t.l10n.countries)){const n=r.getParsePreference();var i=n.getRegexEnabledFields()||[];let e=t.l10n.countries;0<i.length&&(e=l.filterRegexInCountryData(t.l10n.countries,i)),r.setL10nCountries(e)}a(t.l10n.attributes)&&r.setL10nAttributes(t.l10n.attributes)}return r},r.FormData=s,l}(e.SymBfw,e.SymWax)}(window),function(e){"use strict";var t,n,r,o,a,s,l,u;e.SymWax.formDataLoaderCS=(t=e.SymBfw,n=e.SymWax,r=t.utils.isNil,o=t.utils.isntNil,a=n.utils.getDocumentLanguages,s=t.extensionAdapter,l=n.constants.messages,u={_formDataLoaderClient:null,registerFormDataLoaderClient:function(e){if(!(e instanceof n.IFormSubmissionClient))throw new Error("formDataClient has to be of type IFormSubmissionClient");u._formDataLoaderClient=e},loadFormData:async function(){if(o(u.formDataPromise))return u.formDataPromise;let e={senderURL:document.URL},i=(e=o(u._formDataLoaderClient)?await u._formDataLoaderClient.processSubmissionPayload(e):e).senderURL;return u.formDataPromise=new Promise(function(t,e){var r=a(),r={id:l.GET_URL_DATA,payload:{url:i,lang:r}};s.sendMessage(r,function(e){u._formData=n.formDataFactory.create(e),t("form data loaded successfuly")})}),u.formDataPromise},getFormData:function(){if(r(u._formData))throw new Error("Form data is not loaded. Load the Form Data then call getFormData");return u._formData}})}(window),function(e){"use strict";var n,i,o,a,s,l;e.SymWax.telemetryWrapper=(n=e.SymBfw,e=e.SymWax,i=n.utils.isString,o=n.telemetryConstants,a=e.constants,s=n.logger,l={sendWaxFillFailure:function(e){i(e)?l._send(a.telemetry.CATEGORY,a.telemetry.type.FILL_FAILURE,e):s.error("sendWaxFillFailure: siteName must be a string")},sendWaxFieldChanged:function(e){i(e)?l._send(a.telemetry.CATEGORY,a.telemetry.type.FIELD_CHANGED,e):s.error("sendWaxFieldChanged: siteName must be a string")},sendWaxFormFill:function(e,t){var r;i(e)?(r=a.telemetry.CATEGORY,e=a.telemetry.type.FILL_SUCCESS+"-"+e,l._send(r,e,t+"")):s.error("sendWaxFieldChanged: siteName must be a string")},_send:function(e,t,r){var i={};i[o.parameters.HIT_TYPE]=o.HIT_TYPE.EVENT,i[o.parameters.CATEGORY]=e,i[o.parameters.ACTION]=t,i[o.parameters.LABEL]=r,n.telemetryProxy.send(i)}})}(window),function(e){"use strict";e.SymWax.detectionTelemetryWrapper=function(e,t){e.utils.isString,t=t.constants;const n=e.logger,r=t.messages,o=e.utils.isNil,a=e.utils.isArray,i=e.extensionAdapter,s=e.utils.urlWithoutQueryParameters,l=t.telemetry.parameters;let u={prepareAndSend:function(t,r,i){if(o(t))n.error("prepareAndSend: parameter should be valid");else if(o(i))n.error("prepareAndSend: eventtype parameter should be valid");else{let e={[l.TAG_NAME]:t.tagName,[l.INPUT_TYPE]:t.type,[l.ID]:t.id,[l.NAME]:t.name,[l.PLACE_HOLDER]:t.placeholder,[l.CLASS_NAME]:t.className,[l.FIELD_INNER_TEXT]:t.innerText};t.form&&(e[l.FORM_ID]=t.form.id,e[l.FORM_NAME]=t.form.name),e[l.URL]=s(document.location.href),a(r)&&0<r.length&&(e[l.FORM_TYPES]=r.join(",")),u._sendWaxDetectionTelemetry(e,i)}},_sendWaxDetectionTelemetry:function(e,t){e={id:r.SEND_WAX_TELEMETRY_TO_BG,payload:{customDimensions:e,eventType:t}};i.sendMessage(e)}};return u}(e.SymBfw,e.SymWax)}(window),function(e){"use strict";{var t=e.SymBfw;e=e.SymWax;const{isNil:r,isntNil:i,isArray:n}=t["utils"],o=e.constants,a=e.detectionTelemetryWrapper;class s{constructor(){this.formTypes=null}registerInputField(e){throw new Error("Should be implemented by derived object")}doesDomRequireObserver(e){throw new Error("Should be implemented by derived object")}boundInputElementFocusEvent(e){throw new Error("Should be implemented by derived object")}}e.DetectionFailureTelemetryObserver=class extends s{constructor(){super(),this.boundInputElementFocusEvent=this.boundInputElementFocusEvent.bind(this)}doesDomRequireObserver(e){return r(e.getFormType())&&0<e._inputFields.length&&i(a)}registerInputField(e){e.removeEventListener(o.eventType.ONFOCUS,this.boundInputElementFocusEvent,{once:!0}),e.addEventListener(o.eventType.ONFOCUS,this.boundInputElementFocusEvent,{once:!0})}boundInputElementFocusEvent(e){e.isTrusted&&(a.prepareAndSend(e.currentTarget,this.formTypes,o.telemetry.type.DETECTION_FAILURE),e.currentTarget.removeEventListener(o.eventType.ONFOCUS,this.boundInputElementFocusEvent,{once:!0}))}},e.FormTypeDetectionTelemetryObserver=class extends s{constructor(){super(),this.boundInputElementFocusEvent=this.boundInputElementFocusEvent.bind(this)}_isValidRegistrationForm(e){return!(n(e)&&e.length<=0)&&e.some(e=>e.includes(o.groupType.REGISTRATION_PAGE)||e.includes(o.groupType.ADDRESS_PAGE))}doesDomRequireObserver(e){return!!(this._isValidRegistrationForm(e.getFormTypes())&&0<e._inputFields.length&&i(a))&&(this.formTypes=e.getFormTypes(),!0)}registerInputField(e){e.removeEventListener(o.eventType.ONFOCUS,this.boundInputElementFocusEvent,{once:!0}),e.addEventListener(o.eventType.ONFOCUS,this.boundInputElementFocusEvent,{once:!0})}boundInputElementFocusEvent(e){e.isTrusted&&(a.prepareAndSend(e.currentTarget,this.formTypes,o.telemetry.type.REG_ADDRESS_DETECTION),e.currentTarget.removeEventListener(o.eventType.ONFOCUS,this.boundInputElementFocusEvent,{once:!0}))}}}}(window),function(e){"use strict";e.SymWax.waxTelemetryListener=function(e,t){let r=t.DetectionFailureTelemetryObserver,i=t.FormTypeDetectionTelemetryObserver;const{isNil:n,isntNil:o}=e["utils"],a=t.constants;return new class{constructor(){this._observers=[],this.initTelemetryConfig()}initTelemetryConfig(){"true"===a.telemetry.config.ENABLE_TELEMETRY&&("true"===a.telemetry.config.ENABLE_DETECTION_FAILURE_TELEMETRY&&this._observers.push(new r),"true"===a.telemetry.config.ENABLE_ADDRESS_DETECTION_TELEMETRY&&this._observers.push(new i))}_isValidInputField(e){if(n(e))return!1;var t=e.tagName.toUpperCase();return t!==a.htmlTagName.BUTTON&&t!==a.htmlTagName.IMG&&(!o(e.type)||e.type.toUpperCase()!==a.htmlTagName.BUTTON)}registerInputFieldObservers(e){let r=[];for(const t in this._observers)this._observers[t].doesDomRequireObserver(e)&&r.push(this._observers[t]);r.length<=0||e._inputFields.forEach(e=>{if(this._isValidInputField(e))for(const t in r)r[t].registerInputField(e)})}}}(e.SymBfw,e.SymWax)}(window),function(e){"use strict";function t(){this._fieldType=null,this._loginFieldType=null,this._inputType=null,this._groupType=null,this._element=null,this._preGroupFieldType=null,this._submitEvents=null}var r,i,n,o,a,s;(e.SymWax=e.SymWax||{}).WaxField=(r=e.SymBfw,e=e.SymWax,i=e.constants,n=r.utils.isNil,o=r.utils.isFunction,r.utils.isString,a=e.utils,s=a.isInputElement,e.formDataLoaderCS,t.prototype.getFieldType=function(){return this._fieldType},t.prototype.getPreGroupFieldType=function(){return this._preGroupFieldType},t.prototype.getLoginFieldType=function(){return this._loginFieldType},t.prototype.getInputType=function(){return this._inputType},t.prototype.getGroupType=function(){return this._groupType},t.prototype.getElement=function(){return this._element},t.prototype.getSubmitEvents=function(){return this._submitEvents},t.prototype.setFieldType=function(e){if(n(e))throw new Error("fieldType cannot be nil");this._fieldType=e},t.prototype.setPreGroupFieldType=function(e){if(n(e))throw new Error("preGroupFieldType cannot be nil");this._preGroupFieldType=e},t.prototype.setLoginFieldType=function(e){if(n(e))throw new Error("loginFieldType cannot be nil");this._loginFieldType=e},t.prototype.setInputType=function(e){if(n(e))throw new Error("inputType cannot be nil");this._inputType=e},t.prototype.setGroupType=function(e){if(n(e))throw new Error("groupType cannot be nil");this._groupType=e},t.prototype.setElement=function(e){if(n(e))throw new Error("element cannot be nil");this._element=e},t.prototype.setSubmitEvents=function(e){if(n(e)||!Array.isArray(e))throw new Error("events cannot be nil and must be an array");this._submitEvents=e},t.prototype.fill=function(){throw new Error("Should be implemented by derived class")},t.prototype.findFillableElement=function(){return s(this._element)?a.getFillableElement(document,this._element):null},t.prototype.triggerChangeEvent=function(e,t,r){a.triggerCreateEvent(e,i.eventType.HTML_EVENTS,i.eventType.CHANGE),o(r)&&r({elementFilled:e,isElementChanged:e!==this._element,filledValue:t})},t)}(window),function(e){"use strict";function t(e){if(i(e))throw new Error("ruleJSON cannot be null to create a Rule object");this._ruleJSON=e}var r,i,n,o;e.SymWax.Rule=(r=e.SymBfw,e=e.SymWax,i=(r=r.utils).isNil,n=r.isString,o=e.constants,t.prototype._getRule=function(e){return!i(this._ruleJSON)&&n(e)&&this._ruleJSON.hasOwnProperty(e)?this._ruleJSON[e]:null},t.prototype.getPreParseRule=function(){return this._getRule(o.rules.PRE_PARSE)},t.prototype.getPostParseRule=function(){return this._getRule(o.rules.POST_PARSE)},t.prototype.getRuleScripts=function(){return this._getRule(o.rules.SCRIPTS)},t.prototype.getFetchCredentialsRule=function(){return this._getRule(o.rules.FETCH_CREDENTIALS)},t.prototype.getOnFieldFoundRule=function(){return this._getRule(o.rules.ON_FIELD_FOUND)},t.prototype.getOnFillRule=function(){return this._getRule(o.rules.ON_FILL)},t.prototype.getBeforeFillRule=function(){return this._getRule(o.rules.BEFORE_FILL)},t.prototype.getAfterFillRule=function(){return this._getRule(o.rules.AFTER_FILL)},t)}(window),function(e){"use strict";var t,_,l,i,n,f,u,o,a,c;e.SymWax.rulesEngine=(t=e.SymBfw,_=e.SymWax,e=t.utils,l=e.isNil,i=e.isFunction,n=e.isEmptyObject,f=t.utils.isntNil,u=_.constants,o=t.logger,a=_.utils,(c={credentials:{},variableContainer:{},_getRuleOperation:function(e){return l(e)||!e.hasOwnProperty(u.rules.OPERATION)?null:e[u.rules.OPERATION]},_getRuleProperty:function(e){return l(e)||!e.hasOwnProperty(u.rules.PROPERTY)?null:e[u.rules.PROPERTY]},_getRulePropertyAttributes:function(e){return!l(e)&&e.hasOwnProperty(u.rules.PROPERTY)&&e[u.rules.PROPERTY].hasOwnProperty(u.rules.property.ATTRIBUTES)?e[u.rules.PROPERTY][u.rules.property.ATTRIBUTES]:null},_getRuleFieldTypeProperty:function(e){return!l(e)&&e.hasOwnProperty(u.rules.PROPERTY)&&e[u.rules.PROPERTY].hasOwnProperty(u.rules.property.FIELD_TYPE)?e[u.rules.PROPERTY][u.rules.property.FIELD_TYPE]:null},_getRuleInputTypeProperty:function(e){return!l(e)&&e.hasOwnProperty(u.rules.PROPERTY)&&e[u.rules.PROPERTY].hasOwnProperty(u.rules.property.INPUT_TYPE)?e[u.rules.PROPERTY][u.rules.property.INPUT_TYPE]:null},_getRuleSubmitEventsProperty:function(e){return!l(e)&&e.hasOwnProperty(u.rules.PROPERTY)&&e[u.rules.PROPERTY].hasOwnProperty(u.rules.SUBMIT_EVENTS)?e[u.rules.PROPERTY][u.rules.SUBMIT_EVENTS]:null},_getRuleGroupTypeProperty:function(e){return!l(e)&&e.hasOwnProperty(u.rules.PROPERTY)&&e[u.rules.PROPERTY].hasOwnProperty(u.rules.property.GROUP_TYPE)?e[u.rules.PROPERTY][u.rules.property.GROUP_TYPE]:null},_getRuleLoginTypeProperty:function(e){return!l(e)&&e.hasOwnProperty(u.rules.PROPERTY)&&e[u.rules.PROPERTY].hasOwnProperty(u.rules.property.LOGIN_TYPE)?e[u.rules.PROPERTY][u.rules.property.LOGIN_TYPE]:null},_executeCallJavaScriptOperation:function(e,t){var r=c._getRuleProperty(e);if(!r.hasOwnProperty(u.rules.property.NAME))throw new Error("calljavascript type of operation expects a property object that has name of function to be called");{if(i(window[r[u.rules.property.NAME]]))return t=window[r[u.rules.property.NAME]](t),"waxFetchData"===r[u.rules.property.NAME]&&(c.credentials=t),t;o.error("could not find function to call for calljavascript type of operation. Rule : "+JSON.stringify(e))}},_executeClickOperation:function(e){var t=c._getRuleProperty(e),r=null;if(t.hasOwnProperty(u.htmlElementAttributes.ID))return r=document.getElementById(t[u.htmlElementAttributes.ID]),l(r)?void o.error("could not find element for click operation. Rule : "+JSON.stringify(e)):void a.clickElement(r);t.hasOwnProperty(u.htmlElementAttributes.NAME)&&(t=document.getElementsByName(t[u.htmlElementAttributes.NAME]),l(t)?o.error("could not find element for click operation. Rule : "+JSON.stringify(e)):(r=t[0],l(r)?o.error("could not find element for click operation. Rule : "+JSON.stringify(e)):a.clickElement(r)))},_doesObjContainAttribute:function(e,t){if(l(e)||n(t))return!1;for(var r in t)if(t.hasOwnProperty(r)&&e[r]!==t[r])return!1;return!0},_executeGroupMappingOperation:function(e,t){for(var r=0;r<t.length;r++)if(u.rules.operation.GROUP_MAPPING===c._getRuleOperation(t[r])){var i=c._getRulePropertyAttributes(t[r]);if(c._doesObjContainAttribute(e._htmlForm,i))return e.setFormType(c._getRuleGroupTypeProperty(t[r])),!0}return!1},_executeFieldMappingOperation:function(e,t){for(var r=0;r<t.length;r++)if(u.rules.operation.FIELD_MAPPING===c._getRuleOperation(t[r])){var i,n=c._getRulePropertyAttributes(t[r]);if(c._doesObjContainAttribute(e,n))return n=_.fieldMapping.createWaxFieldObject(e),i=c._getRuleFieldTypeProperty(t[r]),l(i)?o.error("could not set fieldType/inputType for rule : "+t[r]):(n.setFieldType(i),n.setPreGroupFieldType(i)),i=c._getRuleInputTypeProperty(t[r]),l(i)?n.setInputType(_.utils.getInputType(e)):n.setInputType(i),i=c._getRuleSubmitEventsProperty(t[r]),f(i)&&n.setSubmitEvents(i),i=c._getRuleLoginTypeProperty(t[r]),f(i)&&n.setLoginFieldType(i),n.setElement(e),n}return null},_executeFillExOperation:function(e,t){return l(e)||l(t)?(o.debug("Fill Ex operation parameter is null"),!1):(a.clickElement(t),a.focusElement(t),t.value=e,!0)},_executePostParseRule:function(e,t){for(var r=e.length,i=0;i<t.length;i++){var n,o=t[i],a=(c._executeGroupMappingOperation(o,e)&&r--,[]);if(0===r)break;for(var s=o.getInputFields(),l=0;l<s.length;l++){var u=s[l];if(0===r)break;var p=u.getBoundingClientRect();_.utils.isValidElement(u,p)&&(n=c._executeFieldMappingOperation(u,e),f(n)&&(r--,a.push(n)))}for(var d=o.getNonInputFields(),E=0;E<d.length;E++){var T=d[E];if(0===r)break;n=c._executeFieldMappingOperation(T,e),f(n)&&(r--,a.push(n))}o.setFieldMapping(a)}return t},applyPreParseRule:function(e){if(l(e))throw new Error("applyPreParseRule needs a rule object");e=e.getPreParseRule();if(!l(e)){let i,n,o;let a,s;e.forEach(function(e){var t,r;i=c._getRuleOperation(e),n=c._getExecutionContext(e),f(n)?(o=c._getExecutionContextDelay(e),n===u.rules.SET_TIMEOUT?setTimeout(()=>{c.operationsMap[i](e)},o):(a=c._getRetryIteration(e),s=setInterval(()=>{c.operationsMap[i](e),a--<=0&&(clearInterval(s),s=0)},o))):u.rules.operation.FILL_EX===c._getRuleOperation(e)?(t=(r=c._getElementFromRule(e)).element,r=r.attributesObj,f(t)&&c._executeFillExOperation(r.value,t)):c.operationsMap[i](e)})}},applyPostParseRule:function(e,t){if(l(e)||l(t))throw new Error("applyPostParseRule did not get the right attributes");e=e.getPostParseRule();if(!l(e))return c._executePostParseRule(e,t)},applyFetchCredentialsRule:function(e){if(l(e))throw new Error("applyFetchCredentialsRule needs a rule object");var t=e.getFetchCredentialsRule();if(!l(t)){for(var r,i=0;i<t.length;i++)r=c._getRuleOperation(t[i]),c.operationsMap[r](t[i]);e=Object.assign({},this.credentials);return this.credentials={},e}},applyOnFieldFoundRule:function(e){if(l(e))throw new Error("applyOnFieldFoundRule needs a rule object");var t=e.getOnFieldFoundRule();if(!l(t))for(var r=0;r<t.length;r++)u.rules.operation.CALL_JAVA_SCRIPT===c._getRuleOperation(t[r])&&c._executeCallJavaScriptOperation(t[r])},applyOnFillRule:function(e,t,r){if(l(e))throw new Error("applyOnFillRule did not get the right attributes");var i=e.getOnFillRule();if(!l(i)){var n=r.getFieldType();let e=!1;for(var o,a,s=0;s<i.length;s++)c._getRuleProperty(i[s]).name==n&&(o=(a=c._getElementFromRule(i[s])).element,a=a.attributesObj,l(o)||(f(a)&&f(a.variableName)&&(c.variableContainer[a.variableName]=t),u.rules.operation.FILL_EX===c._getRuleOperation(i[s])?e=c._executeFillExOperation(t,o):u.rules.operation.SPLIT_FILL===c._getRuleOperation(i[s])&&f(a)&&(e=c._executeSplitFillOperation(t,o,a.index,a.seperator))));return e}},applyBeforeFillRule:function(e){if(l(e))throw new Error("applyBeforeFillRule needs a rule object");var t=e.getBeforeFillRule();if(!l(t))for(var r=0;r<t.length;r++)u.rules.operation.CLICK===c._getRuleOperation(t[r])&&c._executeClickOperation(t[r])},applyAfterFillRule:function(e){if(l(e))throw new Error("applyAfterFillRule needs a rule object");var t=e.getAfterFillRule();if(!l(t))for(var r=0;r<t.length;r++)u.rules.operation.UPDATE_ATTRIBUTE===c._getRuleOperation(t[r])&&c._executeUpdateAttributeOperation(t[r]),u.rules.operation.CALL_JAVA_SCRIPT===c._getRuleOperation(t[r])&&c._executeCallJavaScriptOperation(t[r])},_executeUpdateAttributeOperation:function(e){if(!l(e)){var i=c._getDomMethod(e);let t,r;if(f(i)&&(t=c._getRulePropertyAttributes(e)),f(t))for(let e=0;e<t.length;e++)r=c._getElementFromDom(i,t[e]),f(r)&&(r[t[e].attributeProperty]=t[e].value)}},_getDomMethod:function(e){return l(e)||!e.hasOwnProperty(u.rules.DOM_METHOD)?null:e[u.rules.DOM_METHOD]},_getElementFromDom:function(e,t){if(l(e)||l(t))return null;let r;switch(e){case u.rules.domMethod.GET_ELEMENT_BY_ID:r=document.getElementById(t.id);break;case u.rules.domMethod.GET_ELEMENT_BY_NAME:r=document.getElementsByName(t.name)[t.index];break;case u.rules.domMethod.QUERY_SELECTOR_ALL:r=document.querySelectorAll(t.selectorAll)[t.index];break;case u.rules.domMethod.QUERY_SELECTOR:r=document.querySelector(t.selector)}return r},_executeFetchDataOperation:function(r){if(!l(r)){var i=c._getRulePropertyAttributes(r);let t;if(r.hasOwnProperty(u.rules.DOM_METHOD)){t=c._getDomMethod(r);let e;f(i)&&f(t)&&(e=c._getElementFromDom(t,i)),f(e)&&(f(c.credentials[i.setValue])&&f(i.seperator)?c.credentials[i.setValue]+=i.seperator+e.value:c.credentials[i.setValue]=e.value)}else c.credentials[i.setValue]=c.variableContainer[i.variableName]}},_executeSplitFillOperation:function(e,t,r,i){if(l(e)||l(t))return o.debug("Fill Ex operation parameter is null"),!1;e=e.split(i);return t.value=e[r],!0},_getExecutionContext:function(e){return l(e)||!e.hasOwnProperty(u.rules.EXECUTION_CONTEXT)?null:e[u.rules.EXECUTION_CONTEXT]},_getExecutionContextDelay:function(e){return l(e)||!e.hasOwnProperty(u.rules.DELAY)?null:e[u.rules.DELAY]},_getEventName:function(e){return l(e)||!e.hasOwnProperty(u.rules.EVENT_NAME)?null:e[u.rules.EVENT_NAME]},_getRetryIteration:function(e){return l(e)||!e.hasOwnProperty(u.rules.RETRY_ITERATION)?null:e[u.rules.RETRY_ITERATION]},_executeAddEventListenerOperation:function(e){if(l(e))return null;var t=c._getElementFromRule(e);const r=t.element,i=t.attributesObj;let n=c._getEventName(e);f(r)&&n.forEach(function(t){r.addEventListener(t,function(e){c.eventsMap[t](e,i)})})},_handleKeyupEvent:function(e,t){e.keyCode!==t.keyCode&&e.which!==t.which&&(c.variableContainer[t.variableName]=e.target[t.targetAttribute])},_handleChangeEvent:function(e,t){(l(t.isTrusted)||t.isTrusted===e.isTrusted)&&(c.variableContainer[t.variableName]=e.target[t.targetAttribute])},_handleInputEvent:function(e,t){(l(t.checkMaskedState)||!0===t.checkMaskedState&&e.target[t.targetAttribute].indexOf(String.fromCharCode(u.MASKED_PASSWORD_CHAR))<0)&&(c.variableContainer[t.variableName]=e.target[t.targetAttribute])},_handleFocusEvent:function(e,t){(l(t.checkMaskedState)||!0===t.checkMaskedState&&e.target[t.targetAttribute].indexOf(String.fromCharCode(u.MASKED_PASSWORD_CHAR))<0&&0<e.target[t.targetAttribute].length)&&(c.variableContainer[t.variableName]=e.target[t.targetAttribute])},_getElementFromRule:function(e){if(l(e))return null;var t=c._getDomMethod(e);let r,i;return f(t)&&(r=c._getRulePropertyAttributes(e)),{element:i=f(r)?c._getElementFromDom(t,r):i,attributesObj:r}}}).operationsMap={[u.rules.operation.FILL_EX]:c._executeFillExOperation,[u.rules.operation.ADD_EVENT_LISTENER]:c._executeAddEventListenerOperation,[u.rules.operation.CLICK]:c._executeClickOperation,[u.rules.operation.FETCH_DATA]:c._executeFetchDataOperation,[u.rules.operation.CALL_JAVA_SCRIPT]:c._executeCallJavaScriptOperation},c.eventsMap={[u.eventType.KEYUP]:c._handleKeyupEvent,[u.eventType.CHANGE]:c._handleChangeEvent,[u.eventType.INPUT]:c._handleInputEvent,[u.eventType.ONFOCUS]:c._handleFocusEvent},c)}(window),function(e){"use strict";function t(){this._formType=[],this._htmlForm=null,this._inputFields=[],this._inputFieldsForAttachedText=[],this._nonInputFields=[],this._fieldSets=[],this._fieldMapping=[],this._categorizedWaxFields=[],this._formSubmitListeners=[],this._formSubmitListenersParams=[],this._submitListenerTimeout=0,this._eventObjectWaxFields=[],this._eventObjectSubmitListeners=[],this._eventObjectSubmitListenerTimeout=0,this._formBoundary=new u.Rect(Number.MAX_VALUE,Number.MAX_VALUE,0,0),this._horizontalInputs=new Map}var r,n,i,o,a,l,u,s;(e.SymWax=e.SymWax||{}).WaxDom=(r=e.SymBfw,e=e.SymWax,n=r.utils.isNil,i=r.utils.isntNil,o=r.utils.isArray,a=r.utils.isFunction,l=e.constants,u=e.utils,s=r.logger,t.prototype.getEventObjectWaxFields=function(){return this._eventObjectWaxFields},t.prototype.setEventObjectWaxFields=function(e){this._eventObjectWaxFields=e},t.prototype.removeFormType=function(e){e=this._formType.indexOf(e);-1<e&&this._formType.splice(e,1)},t.prototype._resetFormTypes=function(){this._formType=[]},t.prototype.getFormType=function(){if(0<this._formType.length)return this._formType[0]},t.prototype.getTopRankedFormType=function(){if(0<this._formType.length){let r=e=>l.groupTypeRank.indexOf(e);return this._formType.reduce((e,t)=>r(e)<r(t)?e:t)}return null},t.prototype.getFormTypes=function(){return this._formType},t.prototype.getHtmlForm=function(){return this._htmlForm},t.prototype.getInputFields=function(){return this._inputFields},t.prototype.getInputFieldsForAttachedText=function(){return this._inputFieldsForAttachedText},t.prototype.getNonInputFields=function(){return this._nonInputFields},t.prototype.getFieldSets=function(){return this._fieldSets},t.prototype.getFieldMapping=function(){return this._fieldMapping},t.prototype.setFormType=function(e){if(n(e))throw new Error("formType cannot by nil");this._formType.push(e)},t.prototype.setHtmlForm=function(e){if(n(e))throw new Error("htmlForm cannot by nil");this._htmlForm=e},t.prototype.setInputFields=function(e){if(!o(e))throw new Error("inputFields must be an array");this._inputFields=e},t.prototype.addToInputFields=function(e){if(n(e))throw new Error("inputField cannot be nil");this._inputFields.push(e),this._expandRect(e)},t.prototype.addToInputFieldsForAttachedText=function(e){if(n(e))throw new Error("inputField cannot be nil");this._inputFieldsForAttachedText.push(e)},t.prototype.setNonInputFields=function(e){if(!o(e))throw new Error("nonInputFields must be an array");this._nonInputFields=e},t.prototype.addToNonInputFields=function(e){if(n(e))throw new Error("nonInputField cannot be nil");this._nonInputFields.push(e)},t.prototype.setFieldSets=function(e){if(!o(e))throw new Error("fieldSets must be an array");this._fieldSets=e},t.prototype.addToFieldSets=function(e){if(n(e))throw new Error("fieldSet cannot be nil");this._fieldSets.push(e)},t.prototype.setFieldMapping=function(e){if(!o(e))throw new Error("fieldMapping must be an array");this._fieldMapping=e},t.prototype.ConcatFieldMapping=function(e){if(!o(e)||0===e.length)throw new Error("ConcatFieldMapping should be given an array input");this._fieldMapping=this._fieldMapping.concat(e)},t.prototype.setCategorizedWaxFields=function(e){if(!o(e))throw new Error("waxFields must be an array");this._categorizedWaxFields=e},t.prototype.getCategorizedWaxFields=function(){return this._categorizedWaxFields},t.prototype.setHorizontalInputs=function(e){if(n(e))throw new Error("horizontal inputs should not be null");this._horizontalInputs=e},t.prototype.getHorizontalInputs=function(){return this._horizontalInputs},t.prototype.propertiesDataCopy=function(){var e,t,r={};for(e in this)this.hasOwnProperty(e)&&!a(e)&&(t=this[e],r[e]={value:t,writable:!0});return r},t.prototype.registerDOMEvents=function(e,t,r){if(!n(e)&&!n(t)&&a(r)){const i=[l.eventType.MOUSEDOWN,l.eventType.CLICK];i.includes(t)&&e.addEventListener(t,r)}},t.prototype.removeDOMEvents=function(e,t,r){if(!n(e)&&!n(t)&&a(r)){const i=[l.eventType.MOUSEDOWN,l.eventType.CLICK];i.includes(t)&&e.removeEventListener(t,r)}},t.prototype.registerFormSubmitEvent=function(e){this._boundSubmitListener=()=>this._onSubmitListener(),this._boundKeyDownListener=e=>this._onKeyDownListener(e),e.forEach(e=>{var t=e.getElement();if(!n(t))if(u.isButtonField(e)){const r=e.getSubmitEvents();r?r.forEach(e=>this.registerDOMEvents(t,e,this._boundSubmitListener)):this.registerDOMEvents(t,l.eventType.CLICK,this._boundSubmitListener)}else u.isInputElement(t)&&t.addEventListener(l.eventType.KEYDOWN,this._boundKeyDownListener)});e=this.getHtmlForm();i(e)&&e.addEventListener(l.eventType.SUBMIT,this._boundSubmitListener)},t.prototype.removeFormSubmitEvent=function(){this.getCategorizedWaxFields().forEach(e=>{var t=e.getElement();if(!n(t))if(u.isButtonField(e)){if(!n(this._boundSubmitListener)){const r=e.getSubmitEvents();r?r.forEach(e=>this.removeDOMEvents(t,e,this._boundSubmitListener)):this.removeDOMEvents(t,l.eventType.CLICK,this._boundSubmitListener)}}else!u.isInputElement(t)||n(this._boundKeyDownListener)||t.removeEventListener(l.eventType.KEYDOWN,this._boundKeyDownListener)});var e=this.getHtmlForm();i(e)&&!n(this._boundSubmitListener)&&e.removeEventListener(l.eventType.SUBMIT,this._boundSubmitListener)},t.prototype.isInsideForm=function(e){var e=e.getBoundingClientRect(),t=(e.right-e.left)/2+e.left,e=(e.bottom-e.top)/2+e.top;return!!u.isPtnInRect(t,e,this._formBoundary)},t.prototype._onSubmitListener=function(){0!==this._submitListenerTimeout&&(clearTimeout(this._submitListenerTimeout),this._submitListenerTimeout=0),this._submitListenerTimeout=setTimeout(()=>{this._formSubmitListeners.forEach((e,t)=>{try{e(this._formSubmitListenersParams[t])}catch(e){s.error(e)}})},l.FORM_SUBMIT_TIMEOUT)},t.prototype._onKeyDownListener=function(e){e.which!==l.keyCode.ENTER&&e.keyCode!==l.keyCode.ENTER||this._onSubmitListener()},t.prototype.addFormSubmitListener=function(e,t){if(!a(e))throw new Error("callback should be a function");this._formSubmitListeners.push(e),this._formSubmitListenersParams.push(t)},t.prototype._registerEventObjectSubmitEvent=function(){this._boundEventObjectSubmitListener=()=>this._onEventObjectSubmitListener(),this._eventObjectWaxFields.forEach(e=>{var t=e.getElement();if(!n(t)){e=this._getEventsTypesToListen(e);if(e)for(var r of e)t.addEventListener(r,this._boundEventObjectSubmitListener)}})},t.prototype._onEventObjectSubmitListener=function(){0!==this._eventObjectSubmitListenerTimeout&&(clearTimeout(this._eventObjectSubmitListenerTimeout),this._eventObjectSubmitListenerTimeout=0),this._eventObjectSubmitListenerTimeout=setTimeout(()=>{this._eventObjectSubmitListeners.forEach(e=>{try{e()}catch(e){s.error(e)}})},l.EVENT_OBJECT_SUBMIT_TIMEOUT)},t.prototype.removeEventObjectSubmitEvent=function(){this._eventObjectWaxFields.forEach(e=>{e=e.getElement();n(e)||(e.removeEventListener(l.eventType.CLICK,this._boundEventObjectSubmitListener),e.removeEventListener(l.eventType.MOUSE_OVER,this._boundEventObjectSubmitListener))})},t.prototype.addEventObjectSubmitListener=function(e){if(!a(e))throw new Error("callback should be a function");this._eventObjectSubmitListeners.push(e),this._registerEventObjectSubmitEvent()},t.prototype.determineFormTypes=function(){let t=!1,r=!1,i=!1;var n,o=this.getFieldMapping();for(n in o){let e=o[n];var a=e.getFieldType(),s=e.getPreGroupFieldType();if(t||u.isAnyCardField(a)&&u.isInputElement(e.getElement())&&(this.setFormType(l.groupType.CARDS_PAGE),t=!0),r||(u.isAnyPersonalInfoField(a)||a!=s&&u.isAnyPersonalInfoField(s))&&u.isInputElement(e.getElement())&&(this.setFormType(l.groupType.PERSONAL_INFO_PAGE),r=!0),i||u.isAnyInteractionField(a)&&u.isInputElement(e.getElement())&&(this.setFormType(l.groupType.INTERACTION_PAGE),i=!0),t&&r)break}const e=this.getFormTypes();!e.includes(l.groupType.REGISTRATION_PAGE)&&u.isOfFormType(l.groupType.REGISTRATION_PAGE,this)&&this.setFormType(l.groupType.REGISTRATION_PAGE),u.isOfFormType(l.groupType.ADDRESS_PAGE,this)&&this.setFormType(l.groupType.ADDRESS_PAGE)},t.prototype._expandRect=function(e){e=e.getBoundingClientRect();0==e.height&&0==e.width||(e.left<this._formBoundary.left&&(this._formBoundary.left=0<e.left-600?e.left-600:0),e.top<this._formBoundary.top&&(this._formBoundary.top=0<e.top-600?e.top-30:0),e.right>this._formBoundary.right&&(this._formBoundary.right=e.right+600),e.bottom>this._formBoundary.bottom&&(this._formBoundary.bottom=e.bottom+30))},t.prototype._getEventsTypesToListen=function(e){var t=e.getFieldType(),t={[l.fieldType.AJAX_ACTION]:[l.eventType.CLICK,l.eventType.MOUSE_OVER],[l.fieldType.BUTTON_ACTION]:[l.eventType.CLICK],[l.fieldType.CONTINUE_BUTTON]:[l.eventType.CLICK]}[t];if(t)return t;t=e.getInputType();return{[l.inputType.BUTTON]:[l.eventType.CLICK],[l.inputType.RADIO]:[l.eventType.CLICK],[l.inputType.SELECT]:[l.eventType.CHANGE],[l.inputType.EVENT_OBJECT]:[l.eventType.CLICK,l.eventType.MOUSE_OVER]}[t]},t)}(window),function(e){"use strict";e.SymWax.WaxForm=function(e,r){const i=r.utils.isWaxDom,n=e.utils.isString,o=e.utils.isntNil,a=r.utils;function t(e,t){if(!n(t))throw new Error("parameter should be of type string");if(this._formType=t,this._waxDom=null,this._isRegisterdForListerners=!1,this._popupWaxField=null,!i(e))throw new Error("parameter should be of type WaxDom");this._waxDom=e}return t.prototype.init=function(){},t.prototype._setInputElementForPopup=function(){this._popupWaxField=null;const t=this._getInputElementsForPopup();for(let e=0;e<t.length;e++)if(r.utils.isElementVisible(t[e].getElement()))return void(this._popupWaxField=t[e])},t.prototype.canDisplayPopup=function(){return!!this._popupWaxField},t.prototype.getInputElementForPopup=function(){return this._popupWaxField||this._setInputElementForPopup(),this._popupWaxField},t.prototype._getInputElementsForPopup=function(){return[]},t.prototype.getFieldsForStyling=function(){throw new Error("Should be implemented by derived object")},t.prototype.captureData=function(){throw new Error("Should be implemented by derived object")},t.prototype.fillForm=function(){throw new Error("Should be implemented by derived object")},t.prototype.registerFormSubmitEvent=function(e){this._waxDom.registerFormSubmitEvent(e),this._isRegisterdForListerners=!0},t.prototype.unregisterFormSubmitEvent=function(){this._isRegisterdForListerners&&(this._waxDom.removeFormSubmitEvent(),this._isRegisterdForListerners=!1)},t.prototype._addFormSubmitListener=function(){this._waxDom.addFormSubmitListener(r.main._processSubmittedForm,this)},t.prototype.getHtmlForm=function(){return this._waxDom._htmlForm},t.prototype.isFormComplete=function(){throw new Error("Should be implemented by derived object")},t.prototype.getCategorizedWaxFields=function(){return this._waxDom.getCategorizedWaxFields()},t.prototype.getFormType=function(){return this._formType},t.prototype.setMutationObserver=function(){throw new Error("Should be implemented by derived object")},t.prototype._getFieldsVisibility=function(e){var r=[];return e.forEach(function(e){var t={visible:!1,readOnly:!1};o(e)&&(e=e.getElement(),o(e)&&(a.isElementVisible(e)&&(t.visible=!0),a.isElementReadOnly(e)&&(t.readOnly=!0))),r.push(t)}),r},t.prototype._getHtmlElements=function(e){let t=[];return e.forEach(function(e){o(e)&&(e=e.getElement(),o(e)&&t.push(e))}),t},t.prototype.addObserverToElements=function(e,t,r){e.forEach(function(e){t.observe(e,r)})},t.prototype.addObserverToForm=function(e,t){var r=this._waxDom.getHtmlForm();return!!o(r)&&(e.observe(r,t),!0)},t.prototype.addObserverToElementsForm=function(t,r,i){for(let e=0;e<t.length;e++){var n=t[e];if(o(n.form)){r.observe(n.form,i);break}}},t.prototype.removeHiddenFields=function(e){let r=[];return e.forEach(function(e){var t;o(e)&&(t=e.getElement(),o(t)&&a.isElementVisible(t)&&r.push(e))}),r},t}(e.SymBfw,e.SymWax)}(window),function(e){"use strict";e.SymWax.WaxSelectField=function(e,a){const s=e.utils.isntNil,l=a.constants,u=(a.utils.isInputElement,a.utils),i=(e.logger,e.utils.isNil),p=e.utils.isString;function t(){a.WaxField.call(this)}e.utils.isFunction;var d=a.formDataLoaderCS;return(t.prototype=Object.create(a.WaxField.prototype))._findYearIndex=function(e){let t=[];for(var r=-1,i=0,i=0;i<this._element.options.length;i++){var n=this._element.options[i].text;t.push(n)}return-1<t.indexOf(e)?r=t.indexOf(e):-1<t.indexOf(e.substr(-2))&&(r=t.indexOf(e.substr(-2))),r},t.prototype._findMonthIndex=function(e){var t=0;if(i(this._element.options)||i(this._element.options[0]))return-1;var r=this._element.options[0].text;return e-(t=r&&(!isNaN(r)||0<=r.toLowerCase().indexOf("jan"))?1:t)},t.prototype.fill=function(e,t){if(!p(e))return!1;var r=this.findFillableElement(),i=d.getFormData(),n=i.getParsePreference().getParseCriterias(),o=-1,i=i.getRule();switch(s(i)&&(i=new a.Rule(i),a.rulesEngine.applyBeforeFillRule(i)),this._fieldType){case l.fieldType.CREDIT_CARD_EXPIRATION_YEAR:case l.fieldType.YEAR:o=this._findYearIndex(e);break;case l.fieldType.CREDIT_CARD_EXPIRATION_MONTH:case l.fieldType.MONTH:o=this._findMonthIndex(e)}return-1<n.indexOf(l.parseCriterias.LOGIN_EVENT_REPLAY)||-1<n.indexOf(l.parseCriterias.CARDS_EVENT_REPLAY)?(u.triggerNewCustomEvent(r,l.eventType.ONFOCUS),r.selectedIndex=o,u.blurElement(r)):r.selectedIndex=o,this.triggerChangeEvent(r,e,t),!0},t}(e.SymBfw,e.SymWax)}(window),function(e){"use strict";e.SymWax.WaxInputField=function(e,a){const s=e.utils.isntNil,l=a.constants,u=(a.utils.isInputElement,a.utils),o=e.logger,p=e.utils.isNil,d=e.utils.isString;function E(){a.WaxField.call(this)}e.utils.isFunction;var T=a.formDataLoaderCS;return(E.prototype=Object.create(a.WaxField.prototype)).fill=function(t,e){if(!d(t))return!1;var r=this.findFillableElement(),i=T.getFormData(),n=i.getParsePreference(),o=n.getParseCriterias(),i=i.getRule();switch(s(i)&&(i=new a.Rule(i),a.rulesEngine.applyBeforeFillRule(i)),this._fieldType){case l.fieldType.CREDIT_CARD_EXPIRATION_DATE:let e=new a.ExpirationDateFormat;t=e.getFormattedExpDate(this._element,t);break;case l.fieldType.CREDIT_CARD_EXPIRATION_MONTH:case l.fieldType.MONTH:Number(t)<10&&(t="0"+t)}return-1<o.indexOf(l.parseCriterias.LOGIN_EVENT_REPLAY)||-1<o.indexOf(l.parseCriterias.CARDS_EVENT_REPLAY)?(u.triggerNewCustomEvent(r,l.eventType.ONFOCUS),r.value=t,E.triggerPostFillEventsOnElement(r,n),u.blurElement(r)):(r.value=t,E.triggerPostFillEventsOnElement(r,n)),this.triggerChangeEvent(r,t,e),!0},E.triggerPostFillEventsOnElement=function(e,t){if(p(e))o.warn("Element cannot be Null");else{u.triggerNewCustomEvent(e,l.eventType.INPUT);t=t.getCustomEventsAfterFill();if(0!=t.length)for(var r of t)for(var[i,n]of Object.entries(r))u.triggerCreateEvent(e,i,n)}},E}(e.SymBfw,e.SymWax)}(window),function(e){"use strict";e.SymWax.ExpirationDateFormat=function(e,t){const n=e.utils.isntNil,a=(t.constants,t.utils),s=(e.logger,e.utils.isNil);function r(){}return r.prototype.getFormattedExpDate=function(e,t){let r=null;if(s(e)||s(t))return r;if(5===t.length&&(t="0"+t),r=this._applyExpDateFormat(e,t),s(r)){var i=a.getHtmlElementSiblings(e),n=i.length;for(let e=0;e<n;e++){var o=i[e];r=this._applyExpDateFormat(o,t)}}return r=s(r)?t.slice(0,2)+"/"+t.slice(-2):r},r.prototype._applyExpDateFormat=function(e,t){let r=null;if(s(e)||s(t))return r;var i=t.slice(0,2);let n=t.slice(-4);return this.findExpDateFormat(e,"mm/yyyy")?r=i+"/"+n.slice(-4):this.findExpDateFormat(e,"mm/yy")&&(r=i+"/"+n.slice(-2)),r},r.prototype.findExpDateFormat=function(e,t){if(s(e)||s(t))return!1;var r,i={};for(r in i.placeholder=e.getAttribute("placeholder"),i.dataPlaceholder=e.getAttribute("data-placeholder"),i.textContent=e.textContent,i)if(i.hasOwnProperty(r)){let e=i[r];if(n(e)&&-1!==e.replace(/\s/g,"").toLowerCase().indexOf(t.toLowerCase()))return!0}return!1},r}(e.SymBfw,e.SymWax)}(window),function(e){"use strict";function t(e,t){i.WaxForm.call(this,e,t),this._OTP=null,this._OTPWaxField=null}var r,i,n,o,a,s;e.SymWax.WaxInteractionForm=(r=e.SymBfw,i=e.SymWax,n=i.utils.isWaxField,r.utils.isntNil,o=i.constants,a=i.utils.isInputElement,i.utils,s=r.logger,(t.prototype=Object.create(i.WaxForm.prototype)).init=function(){let e=this._waxDom.getFieldMapping();e.forEach(e=>{var t,r;a(e.getElement())&&(t=e.getFieldType(),r=e.getPreGroupFieldType(),t!==o.fieldType.OTP&&r!==o.fieldType.OTP||(this.setOTPWaxField(e),s.debug("****OTP Field detected - Id: "+e.getElement().id+"\n")))})},t.prototype.getOTPWaxField=function(){return this._OTPWaxField},t.prototype.setOTPWaxField=function(e){if(!n(e))throw new Error("OTP wax field must be a wax field");this._OTPWaxField=e},t.prototype.getInputElementForLoginPopup=function(){return null},t.prototype.getFieldsForStyling=function(){return[]},t.prototype.isFormComplete=function(){return!0},t)}(window),function(e){"use strict";function t(e,t){i.WaxForm.call(this,e,t),this._accountNumber=null,this._SSN=null,this._accountNumberWaxField=null,this._SSNWaxField=null}var r,i,n,o,a,s;e.SymWax.WaxPersonalInfoForm=(r=e.SymBfw,i=e.SymWax,n=i.utils.isWaxField,r.utils.isntNil,o=i.constants,a=i.utils.isInputElement,i.utils,s=r.logger,(t.prototype=Object.create(i.WaxForm.prototype)).init=function(){let e=this._waxDom.getFieldMapping();e.forEach(e=>{var t,r;a(e.getElement())&&(t=e.getFieldType(),r=e.getPreGroupFieldType(),t===o.fieldType.ACCOUNT_NUMBER||r===o.fieldType.ACCOUNT_NUMBER?(this.setAccountNumberWaxField(e),s.debug("*****Account Number detected - Id: "+e.getElement().id+"\n")):t!==o.fieldType.SSN&&r!==o.fieldType.SSN||(this.setSSNWaxField(e),s.debug("****SSN Field detected - Id: "+e.getElement().id+"\n")))})},t.prototype.getAccountNumberWaxField=function(){return this._accountNumberWaxField},t.prototype.setAccountNumberWaxField=function(e){if(!n(e))throw new Error("account number wax field must be a wax field");this._accountNumberWaxField=e},t.prototype.getSSNWaxField=function(){return this._SSNWaxField},t.prototype.setSSNWaxField=function(e){if(!n(e))throw new Error("SSN wax field must be a wax field");this._SSNWaxField=e},t.prototype.getInputElementForLoginPopup=function(){return null},t.prototype.getFieldsForStyling=function(){return[]},t.prototype.isFormComplete=function(){return!0},t)}(window),function(e){"use strict";e.SymWax.WaxCardForm=function(e,r){const t=r.utils.isWaxField,d=e.utils.isntNil,i=r.constants,n=(r.utils.isInputElement,r.utils),o=e.logger,E=e.utils.isNil,a=e.utils.isString,T=e.utils.isFunction;function s(e,t){r.WaxForm.call(this,e,t),this._name=null,this._firstName=null,this._lastName=null,this._number=null,this._expirationMonth=null,this._expirationYear=null,this._nameWaxField=null,this._firstNameWaxField=null,this._lastNameWaxField=null,this._numberWaxField=null,this._expirationMonthWaxField=null,this._expirationYearWaxField=null,this._expirationDateWaxField=null,this._formFiller=r.formFiller}return(s.prototype=Object.create(r.WaxForm.prototype))._printFormFields=function(){o.debug("----------Print Card Fields for form------------- \n"),d(this._expirationMonthWaxField)&&o.debug("Field Type for Month : "+this._expirationMonthWaxField.getFieldType()+"\n"),d(this._expirationYearWaxField)&&o.debug("Field Type for Year : "+this._expirationYearWaxField.getFieldType()+"\n"),E(this._expirationMonthWaxField)&&E(this._expirationYearWaxField)&&d(this._expirationDateWaxField)&&o.debug("Field Type for Date : "+this._expirationDateWaxField.getFieldType()+"\n"),d(this._numberWaxField)&&o.debug("Field Type for Number : "+this._numberWaxField.getFieldType()+"\n"),d(this._nameWaxField)&&o.debug("Field Type for Name : "+this._nameWaxField.getFieldType()+"\n"),o.debug("----------End Of Print Card Fields for form------------- \n")},s.prototype._isPotentialCardCandidate=function(e){var t=e.getFieldType(),e=e.getInputType();return-1!=[i.inputType.TELEPHONE,i.inputType.NUMBER,i.inputType.TEXT,i.inputType.SELECT,i.inputType.TEXTAREA,i.inputType.CUSTOM_FILL].indexOf(e)&&(!!n.isAnyCardField(t)||-1!==[i.fieldType.FIRST_NAME,i.fieldType.LAST_NAME,i.fieldType.MONTH,i.fieldType.YEAR].indexOf(t))},s.prototype.init=function(){var e;let t=[];for(e of this._waxDom.getFieldMapping())if(this._isPotentialCardCandidate(e))switch(e.getFieldType()){case i.fieldType.CREDIT_CARD_HOLDER_NAME:this.setCreditCardHolderNameWaxField(e),t.push(e);break;case i.fieldType.CREDIT_CARD_HOLDER_FIRST_NAME:this.setCreditCardHolderFirstNameWaxField(e),t.push(e);break;case i.fieldType.CREDIT_CARD_HOLDER_LAST_NAME:this.setCreditCardHolderLastNameWaxField(e),t.push(e);break;case i.fieldType.CREDIT_CARD_NUMBER:this.setCreditCardNumberWaxField(e),t.push(e);break;case i.fieldType.CREDIT_CARD_EXPIRATION_MONTH:case i.fieldType.MONTH:this.setCreditCardExpirationMonthWaxField(e),t.push(e);break;case i.fieldType.CREDIT_CARD_EXPIRATION_YEAR:case i.fieldType.YEAR:this.setCreditCardExpirationYearWaxField(e),t.push(e);break;case i.fieldType.CREDIT_CARD_EXPIRATION_DATE:this.setCreditCardExpirationDateWaxField(e),t.push(e)}this._waxDom.setCategorizedWaxFields(t),this._setInputElementForPopup(),this._printFormFields()},s.prototype.getCardHolderName=function(){return this._name},s.prototype.getCardHolderFirstName=function(){return this._firstName},s.prototype.getCardHolderLastName=function(){return this._lastName},s.prototype.getCardNameWaxField=function(){return this._nameWaxField},s.prototype.getCardNumber=function(){return this._number},s.prototype.getCardNumberWaxField=function(){return this._numberWaxField},s.prototype.getCardExpirationYearWaxField=function(){return this._expirationYearWaxField},s.prototype.getCardExpirationMonthWaxField=function(){return this._expirationMonthWaxField},s.prototype.getCardExpirationDateWaxField=function(){return this._expirationDateWaxField},s.prototype.setCreditCardHolderNameWaxField=function(e){if(!t(e))throw new Error("waxField must be a wax field");this._nameWaxField=e},s.prototype.setCreditCardHolderFirstNameWaxField=function(e){if(!t(e))throw new Error("waxField argument must be a WaxField type");this._firstNameWaxField=e},s.prototype.setCreditCardHolderLastNameWaxField=function(e){if(!t(e))throw new Error("waxField argument must be a WaxField type");this._lastNameWaxField=e},s.prototype.setCardHolderName=function(e){if(!a(e))throw new Error("cardHolderName must be a string");this._name=e},s.prototype.setFirstName=function(e){if(!a(e))throw new Error("firstName must be a string");this._firstName=e},s.prototype.setLastName=function(e){if(!a(e))throw new Error("lastName must be a string");this._lastName=e},s.prototype._parseFirstName=function(e){var[e]=e.split(" ");return e},s.prototype._parseLastName=function(e){e=e.split(" ");return e[e.length-1]},s.prototype.setExpirationMonth=function(e){if(!d(e))throw new Error("expiry month can't be nil");this._expirationMonth=e},s.prototype.setExpirationYear=function(e){if(!d(e))throw new Error("expiry year can't be NIL");this._expirationYear=e},s.prototype.setCreditCardNumberWaxField=function(e){if(!t(e))throw new Error("waxField must be a wax field");this._numberWaxField=e},s.prototype.setCardNumber=function(e){if(!a(e))throw new Error("cardNumber must be a string");this._number=e},s.prototype.setCreditCardExpirationMonthWaxField=function(e){if(!t(e))throw new Error("waxField must be a wax field");this._expirationMonthWaxField=e},s.prototype.setCreditCardExpirationYearWaxField=function(e){if(!t(e))throw new Error("waxField must be a wax field");this._expirationYearWaxField=e},s.prototype.setCreditCardExpirationDateWaxField=function(e){if(!t(e))throw new Error("waxField must be a wax field");this._expirationDateWaxField=e},s.prototype._getInputElementsForPopup=function(){let e=[];var t;return d(this._nameWaxField)&&(t=this._nameWaxField.getElement(),d(t)&&e.push(this._nameWaxField)),d(this._firstNameWaxField)&&(t=this._firstNameWaxField.getElement(),d(t)&&e.push(this._firstNameWaxField)),d(this._lastNameWaxField)&&(t=this._lastNameWaxField.getElement(),d(t)&&e.push(this._lastNameWaxField)),d(this._numberWaxField)&&(t=this._numberWaxField.getElement(),d(t)&&e.push(this._numberWaxField)),e},s.prototype.getFieldsForStyling=function(){var e=[this._numberWaxField,this._nameWaxField,this._firstNameWaxField,this._lastNameWaxField];return this.removeHiddenFields(e)},s.prototype.isFormComplete=function(){return!(E(this._numberWaxField)&&E(this._nameWaxField)&&E(this._firstNameWaxField)&&E(this._lastNameWaxField))},s.prototype.fillForm=function(e,t){if(E(e))return!1;if(!T(t))return!1;var r=d(this._numberWaxField)&&d(e.cardNumber),i=d(this._nameWaxField)&&d(e.nameOnCard),n=d(this._firstNameWaxField)&&d(e.nameOnCard),o=d(this._lastNameWaxField)&&d(e.nameOnCard),a=d(this._expirationMonthWaxField)&&d(e.expMonth),s=d(this._expirationYearWaxField)&&d(e.expYear),l=d(this._expirationDateWaxField)&&d(e.expMonth)&&d(e.expYear);if(!(r||i||a||s||l||n||o))return!1;let u=!0,p=!0;return r&&(this.setCardNumber(e.cardNumber),u=this._numberWaxField.fill(this._number,t)),i&&(this.setCardHolderName(e.nameOnCard),u=u&&this._nameWaxField.fill(this._name,t)),n&&(r=this._parseFirstName(e.nameOnCard),this.setFirstName(r),u=u&&this._firstNameWaxField.fill(this._firstName,t)),o&&(i=this._parseLastName(e.nameOnCard),this.setLastName(i),u=u&&this._lastNameWaxField.fill(this._lastName,t)),(p=a?this._formFiller.applyOnFillRule(e.expMonth,this._expirationMonthWaxField):p)||(this.setExpirationMonth(e.expMonth),u=u&&this._expirationMonthWaxField.fill(this._expirationMonth,t)),(p=s?this._formFiller.applyOnFillRule(e.expYear,this._expirationYearWaxField):p)||(this.setExpirationYear(e.expYear),u=u&&this._expirationYearWaxField.fill(this._expirationYear,t)),l&&(this.setExpirationMonth(e.expMonth),this.setExpirationYear(e.expYear),n=this._expirationMonth+this._expirationYear,u=u&&this._expirationDateWaxField.fill(n,t)),u},s.prototype.getFieldsVisibility=function(){var e=[this._numberWaxField,this._nameWaxField,this._firstNameWaxField,this._lastNameWaxField];return this._getFieldsVisibility(e)},s.prototype.setMutationObserver=function(e,t){var r=this._getHtmlElements([this._numberWaxField,this._nameWaxField,this._firstNameWaxField,this._lastNameWaxField]),i=(this.addObserverToElements(r,e,t),this.addObserverToForm(e,t));i||this.addObserverToElementsForm(r,e,t)},s}(e.SymBfw,e.SymWax)}(window),function(e){"use strict";function t(e,t){i.WaxForm.call(this,e,t),this._username=null,this._password=null,this._usernameWaxField=null,this._passwordWaxField=null,this._formFiller=i.formFiller}var r,i,n,o,a,s,l;e.SymWax.WaxLoginForm=(r=e.SymBfw,i=e.SymWax,n=r.utils.isString,o=i.utils.isWaxField,i.utils.isWaxDom,a=i.constants,s=r.utils.isntNil,l=r.utils.isNil,r.utils.isFunction,(t.prototype=Object.create(i.WaxForm.prototype)).init=function(){var t,r=this._waxDom.getCategorizedWaxFields();for(t in r){let e=r[t];e.getLoginFieldType()===a.loginType.USERNAME&&this.setUsernameWaxField(e),e.getLoginFieldType()===a.loginType.PASSWORD&&this.setPasswordWaxField(e)}this.registerFormSubmitEvent(r),this._setInputElementForPopup(),this._addFormSubmitListener()},t.prototype.getUsername=function(){return this._username},t.prototype.getUsernameWaxField=function(){return this._usernameWaxField},t.prototype.getPassword=function(){return this._password},t.prototype.getPasswordWaxField=function(){return this._passwordWaxField},t.prototype.setUsername=function(e){if(!n(e))throw new Error("username must be a string");this._username=e},t.prototype.setUsernameWaxField=function(e){if(!o(e))throw new Error("username wax field must be a wax field");this._usernameWaxField=e},t.prototype.setPassword=function(e){if(!n(e))throw new Error("password must be a string");this._password=e},t.prototype.setPasswordWaxField=function(e){if(!o(e))throw new Error("password wax field must be a wax field");this._passwordWaxField=e},t.prototype._getInputElementsForPopup=function(){let e=[];var t;return s(this._usernameWaxField)&&(t=this._usernameWaxField.getElement(),s(t)&&e.push(this._usernameWaxField)),s(this._passwordWaxField)&&(t=this._passwordWaxField.getElement(),s(t)&&e.push(this._passwordWaxField)),e},t.prototype.isFormComplete=function(){return this._formType===a.groupType.LOGIN},t.prototype.getFieldsForStyling=function(){var e=[this._usernameWaxField,this._passwordWaxField];return this.removeHiddenFields(e)},t.prototype.fillForm=function(e,t){if(l(e))return!1;var r=s(this._usernameWaxField)&&s(e.username),i=s(this._passwordWaxField)&&s(e.password);if(!r&&!i)return!1;r&&this.setUsername(e.username),i&&this.setPassword(e.password);r=!0,r=(r=s(this._usernameWaxField)&&s(this._username)?r&&this._formFiller.applyOnFillRule(this._username,this._usernameWaxField):r)||!r&&this._usernameWaxField.fill(this._username,t);return r=(r=s(this._passwordWaxField)&&s(this._password)?r&&this._formFiller.applyOnFillRule(this._password,this._passwordWaxField):r)||!r&&this._passwordWaxField.fill(this._password,t)},t.prototype.captureData=function(){var e=null,t=!1,r=!1,e=(s(i.main._rule)&&(e=i.rulesEngine.applyFetchCredentialsRule(i.main._rule)),s(e)&&(e.hasOwnProperty(a.loginType.USERNAME)&&n(e[a.loginType.USERNAME])&&(this.setUsername(e[a.loginType.USERNAME]),t=!0),e.hasOwnProperty(a.loginType.PASSWORD)&&n(e[a.loginType.PASSWORD])&&(this.setPassword(e[a.loginType.PASSWORD]),r=!0)),this.getUsernameWaxField()),t=(s(e)&&!t&&(t=e.getElement(),s(t)&&(e=t.value,n(e)&&this.setUsername(e))),this.getPasswordWaxField());s(t)&&!r&&(e=t.getElement(),s(e)&&(r=e.value,n(r)&&this.setPassword(r)))},t.prototype.getFieldsVisibility=function(){var e=[this._usernameWaxField,this._passwordWaxField];return this._getFieldsVisibility(e)},t.prototype.setMutationObserver=function(e,t){var r=this._getHtmlElements([this._usernameWaxField,this._passwordWaxField]),i=(this.addObserverToElements(r,e,t),this.addObserverToForm(e,t));i||this.addObserverToElementsForm(r,e,t)},t)}(window),function(e){"use strict";var t,J,Z,q,Q,$,ee,te,re,ie,ne,oe;(e.SymWax=e.SymWax||{}).parser=(t=e.SymBfw,J=e.SymWax,Z=J.WaxDom,q=t.utils.isNil,Q=t.utils.isFunction,$=t.utils.isntNil,ee=t.utils.isArray,te=J.constants.parseCriterias,re=J.rulesEngine,ie=J.utils,ne=J.constants,oe=t.performanceReporterFactoryProxy,function(){let m=8,h=1024,y=8,g=92;var A=!1,t={},i=1,n=2,o=4,a=8,W=16,U=32,B=64,G=128,H=256,N=0,r=1,R=2,Y=3,F=4,s=5,l=6,d=7,T=8,k=9,I=10,X=11,_=12,O=13,P=0,u=1,V=2,p=3,j=6,S=7,K=8,C=9,D=10,b=11,f=12,E=13,L=14,z=15,x=16,c=18,v=[],w=[];let M;return{doParse:function(e){var t=ne.performanceReporter.TYPE.DO_PARSE+":"+Date.now(),r=(oe.reportStart(ne.performanceReporter.COMPONENT.WAX,t),A=!(w=[]),window.document.body);if(void 0===r)throw new Error("window.document.body is undefined");var i,n,o,a=e.getRule(),a=($(a)&&(a=new J.Rule(a),re.applyPreParseRule(a)),(M=e.getParsePreference()).getParseCriterias()),e=M.getStringPixelSize(),a=(ee(a)&&(v=a),ee(e)&&4==e.length&&(m=e[0],h=e[1],y=e[2],g=e[3]),new ie.Rect(0,0,Number.MAX_VALUE,Number.MAX_VALUE)),s=-1<v.indexOf(te.IGNORE_FORMS),e=[],l=(e.push(0),[]),u=(this.collectForms(e,l),[]);if(!this.collectInputs(r,a,e,u))throw new Error("collectInputs return false");var p=new Z,d=[];for(i in u)!0!==Q(f=u[i])&&(q(f.form)||s?d.push(f):(n=f.form,-1!==(o=l.indexOf(n))&&w[o].addToInputFields(f)));p.setInputFields(d);var E=[],T=(E.push(0),[]),_=(this.collectNonInputs(r,a,e,E,T),[]);for(i in T){var f=T[i],c=this.isPotentialCustomButton(f);!0!==Q(f)&&(q(f.form)&&!c||-1<v.indexOf(te.IGNORE_FORMS)?_.push(f):(n=f.form,c&&(n=f.closest(ne.htmlTagName.FORM)),-1!==(o=l.indexOf(n))?w[o].addToNonInputFields(f):_.push(f)))}return p.setNonInputFields(_),w.push(p),oe.reportEnd(ne.performanceReporter.COMPONENT.WAX,t),w},getElement:function(e){if(!q(t))return e<0||t.length<=e?null:t[e]},collectForms:function(e,t){if(-1<v.indexOf(te.IGNORE_FORMS))return!1;if(!ee(e)||!ee(t))return!1;for(var r=window.document.forms,i={},n={},o=r.length,a=0;a<o;++a){var s=r[a],l=new Z,u=(l.setHtmlForm(s),i.value=x,n.value=N,s.getBoundingClientRect()),u=this.processInput(s,u,i,n);$(u)&&(t.push(s),e.push(u.length),e.push(u),w.push(l)),this.collectFieldSets(s,e,t,l)}},collectFieldSets:function(e,t,r,i){if(-1<v.indexOf(te.IGNORE_FIELD_SETS)||-1<v.indexOf(te.IGNORE_FORMS))return!0;if(q(e)||!ee(t)||!ee(r))return!1;for(var n={},o={},a=(n.value=c,o.value=N,e.getElementsByTagName("fieldset")),s=a.length,l=0;l<s;++l){var u=a[l],p=u.getBoundingClientRect(),p=this.processInput(u,p,n,o);$(p)&&i.addToFieldSets(u)}return!0},collectInputs:function(r,i,n,o){if(void 0===r||void 0===i||void 0===n||void 0===o)return!1;if(ie.Rect!=i.constructor||!ee(n)||!ee(o))return!1;var e=(new Date).getTime(),t=v.includes(te.ADD_SHADOW_DOM_FIELDS),a=r.getElementsByTagName("INPUT");if(void 0!==a&&0===a.length&&(a=r.getElementsByTagName("input")),this.processInputs(a,i,n,o),A||(void 0!==(a=r.getElementsByTagName("BUTTON"))&&0===a.length&&(a=r.getElementsByTagName("button")),this.processInputs(a,i,n,o)),A||(void 0!==(a=r.getElementsByTagName("SELECT"))&&0===a.length&&(a=r.getElementsByTagName("select")),this.processInputs(a,i,n,o)),!A&&t){const s=M.getShadowDomTargetElements();s&&s.forEach(e=>{const t=r.querySelector(e);t&&t.shadowRoot&&(a=t.shadowRoot.querySelectorAll("INPUT"),this.processInputs(a,i,n,o),a=t.shadowRoot.querySelectorAll("BUTTON"),this.processInputs(a,i,n,o),a=t.shadowRoot.querySelectorAll("SELECT"),this.processInputs(a,i,n,o))})}t=(new Date).getTime();return(A=1e3<t-e?!0:A)||-1!==v.indexOf(te.IGNORE_IMAGES)||-1!==v.indexOf(te.INPUTS_ONLY)||this.processInputs(r.getElementsByTagName("IMG"),null,n,o),1e3<(new Date).getTime()-e&&(A=!0),1e3<(new Date).getTime()-e&&(A=!0),!0},collectNonInputs:function(e,t,r,i,n){if(void 0===e||void 0===t||void 0===r||void 0===i||void 0===n)return!1;if(ie.Rect!=t.constructor||!ee(r)||!ee(i)||!ee(n))return!1;var o=-1<v.indexOf(te.EVENT_OBECTS),a=(v.indexOf(te.VERIFY_ATTRIBUTE_BY_ATTACHED_TEXT),v.indexOf(te.ENABLE_AJAX_SUPPORT),o?511:0),s=(new ie.Rect(0,0,0,0),e.getElementsByTagName("*"));if((q(s)||0===s.length)&&(s=e.all,q(s)||0===s.length))return!1;for(var l={},u={},p=(new Date).getTime(),d=0;d<s.length;++d){if(0==d%150)if(500<(new Date).getTime()-p){A=!0;break}var E=s[d];if(!q(E)&&(l.value=P,u.value=N,(this.getElementType(E,l,u)||P==l.value)&&S!=u.value&&b!=l.value&&C!=u.value&&D!=l.value&&L!=l.value&&x!=l.value&&I!=u.value&&F!=u.value)){var T=E.getBoundingClientRect();if(N==u.value&&o&&0!=a&&this.hasEventHandler(a,E)&&(u.value=O),N!=u.value){var _=T.right-T.left,f=T.bottom-T.top;if(_<4||1024<_||f<8||75<f){if(-1<v.indexOf(te.IGNORE_HIDDEN_INPUTS))continue;if(0!=_&&0!=f)continue}R!=u.value&&O!=u.value||(_=this.processInput(E,T,l,u),$(_)&&($(t)&&this.expandRect(T,t),n.push(E),r.push(_.length),r.push(_)))}else{var c,m,h,f=(T.right-T.left)/2+T.left,_=(T.bottom-T.top)/2+T.top;f>=t.left&&f<=t.right&&_>=t.top&&_<=t.bottom&&(m=this.getElementText(E,T),c=E,q(m)&&(E=E.firstChild,$(E)&&(m=this.getElementText(E,T),c=E)),$(m)&&(E="",0<(h=(m=m.trim()).length)?(E="{"+l.value+",0},{"+T.left+","+T.top+","+T.right+","+T.bottom+"}",E+="#!#"+h+"#!#"+m):(E="{"+l.value+",0},{"+T.left+","+T.top+","+T.right+","+T.bottom+"}",E+="#!#0"),i.push(E.length),i.push(E),n.push(c)))}}}return!0},processInputs:function(e,t,r,i){if(void 0===e||void 0===r||void 0===i)return!1;if($(t)&&ie.Rect!=t.constructor||!ee(r)||!ee(i))return!1;var n=e.length;if(0===n)return!0;for(var o=(new Date).getTime(),a=0;a<n;++a){if(0==a%150)if(500<(new Date).getTime()-o){A=!0;break}var s,l,u=e[a],p=u.getBoundingClientRect();J.utils.isValidElement(u,p)&&(this.getElementType(u,l={},s={})&&d!=s.value&&L!=l.value&&(l=this.processInput(u,p,l,s),$(l)&&($(t)&&this.expandRect(p,t),i.push(u),r.push(l.length),r.push(l))))}return!0},getElementText:function(e,t){if(void 0===e||void 0===t)return null;var r=t.right-t.left,t=t.bottom-t.top;if(r<m||r>h||t<y||t>g)return null;r=e.innerText;if(q(r))return null;t=(r=ie.getTrimmedString(r)).length;return t<1||45<t?null:r},processInput:function(e,t,r,i){if(q(e)||q(t))return null;v.indexOf(te.ENABLE_AJAX_SUPPORT);var n,o=-1<v.indexOf(te.IGNORE_IMAGES),a=null;if(x!=r.value&&c!=r.value)a=e.outerHTML;else if(_==i.value){var a="<select",s=e.attributes;if($(s))for(d=s.length,n=0;n<d;++n){var l=s[n];void 0!==l&&(a+=" "+l.name+'="'+l.value+'"')}a+="></select>"}if(q(a)&&(O===i.value||o))return null;var u="";if(C==r.value)u=e.innerText,q(u)&&(u=e.getAttribute("value"));else if(_==i.value){var p=[],d=0,E=e.options;if($(E)){for(d=E.length,n=n=0;n<d;++n)u=E[n].innerText,q(u)||0===u.length?p.push("<!>#<!>"):(u=ie.getTrimmedString(u),p.push(u));0<p.length&&((o='"'+p.join('":"')+'"').replace("<!>#<!>"," "),u=p.length+"#!#"+o)}0===d&&(u="0#!#")}else F==i.value?(u=e.getAttribute("value"),q(u)&&(u=e.innerText)):O==i.value?(o=e.firstChild,$(o)&&(u=o.innerText),!q(u)&&0!==u.length||(u=e.innerText),$(u)&&(u=u.trim())):f==r.value?u=e.innerText:T!==i.value||!q(u)&&0!==u.length||(o=e.nextSibling,$(o)&&(u=o.innerText));o=this.getInputDescription(e,t,r,i);return q(o)?null:(q(u)||0===(d=(u=u.trim()).length)?o.push("0"):(o.push(u.length),o.push(u)),q(a)||0===(d=a.length)?o.push("0"):(o.push(a.length),o.push(a)),o.join("#!#"))},getInputDescription:function(e,t,r,i){if(void 0===e||void 0===t)return null;var n=[],o=(n.push("{"+r.value+","+i.value+"},{"+t.left+","+t.top+","+t.right+","+t.bottom+"}"),e.attributes);if(q(o))n.push("0");else{var a=o.length;if(n.push(a),0<a){for(var s="",l=0,l=0;l<a;++l){var u,p,d=o[l];void 0!==d&&(0!==(p=(u=d.value).length)&&(128<p&&(u=u.substring(p-128)),"id"==d.name?s=0<s.length?'"'+d.name+'":"'+u+'",'+s:'"'+d.name+'":"'+u+'"':(0<s.length?s+=',"':s+='"',s+=d.name+'":"'+u+'"')))}n.push(s.length),n.push(s)}}return n},expandRect:function(e,t){return!!q(t)||void 0!==e&&void 0!==t&&(e.left<t.left&&(t.left=0<e.left-600?e.left-600:0),e.top<t.top&&(t.top=0<e.top-30?e.top-30:0),e.right>t.right&&(t.right=e.right+600),e.bottom>t.bottom&&(t.bottom=e.bottom+30),!0)},getElementType:function(e,t,r){if(t.value=P,r.value=N,void 0===e)return!1;var i=!1,n=e.nodeName.toUpperCase(),o=n.length;return 1==o?"A"==n?t.value=f:"B"==n&&(t.value=u):2==o?("TD"!=n&&"TH"!=n||(t.value=V),"TR"==n&&(t.value=j),"EM"!=n&&"H1"!=n&&"H2"!=n&&"H3"!=n&&"H4"!=n&&"H5"!=n&&"H6"!=n||(t.value=p)):3==o?"DIV"==n?t.value=E:"IMG"==n&&(t.value=D,i=!0):4==o?"SPAN"==n?t.value=E:"FORM"==n&&(r.value=N,t.value=x):5==o?"INPUT"==n?(t.value=S,i=!0):"LABEL"==n&&(t.value=u):6==o?"OPTION"==n?t.value=L:"SELECT"==n?(t.value=b,r.value=_):"BUTTON"==n?(t.value=C,this.getElementInputType(e,r),F!=r.value&&(r.value=l)):"STRONG"==n&&(t.value=p):8==o&&("TEXTAREA"==n?(t.value=K,r.value=R):"FIELDSET"==n&&(r.value=N,t.value=c)),P==t.value&&(t.value=z),!0===i&&(this.getElementInputType(e,r),D==t.value&&F!=r.value&&(r.value=s)),!0},getElementInputType:function(e,t){if(t.value=N,void 0===e)return!1;e=e.getAttribute("type");return q(e)||0===e.length?t.value=r:(t.value=r,e=e.toUpperCase(),t.value="PASSWORD"==e?Y:"SUBMIT"==e?F:"IMAGE"==e?s:"BUTTON"==e?l:"CHECKBOX"==e?d:"RADIO"==e?T:"RESET"==e?k:"FILE"==e?I:"HIDDEN"==e?X:r),!0},hasEventHandler:function(e,t){if(0===e||void 0===t)return!1;if(e&i&&$(t.getAttribute("onclick")))return!0;if(e&n&&$(t.getAttribute("onsubmit")))return!0;if(e&o&&$(t.getAttribute("onmousedown")))return!0;if(e&a&&$(t.getAttribute("onmouseup")))return!0;var r;if((e&W||e&G)&&(r=t.getAttribute("href"),$(r))){if(0===(r=r.toLowerCase()).indexOf("javascript"))return!0;if(0===r.indexOf("#"))return!0}return!!(e&B&&$(t.getAttribute("command")))||(!!(e&U&&$(t.getAttribute("formaction")))||!!(e&H&&(r=t.getAttribute("role"),$(r)&&0===(r=r.toLowerCase()).indexOf("button"))))},isPotentialCustomButton:function(e){return!q(e)&&(!q(e.closest(ne.htmlTagName.FORM))&&e.tagName===ne.htmlTagName.A)}}}())}(window),function(e){"use strict";e.SymWax.fieldMapping=function(d,_){var c=d.utils.isNil,m=d.utils.isntNil,n=d.utils.isArray,h=d.logger,y=_.utils,f=y.isHtmlString,o=y.isFormData,g=_.constants,A=g.htmlTagName,N=g.htmlElementAttributes,a=d.performanceReporterFactoryProxy,t=d.utils.isFunction,E=g.inputType;const R=g.textPosition,F=_.parser,I=d.utils.isEmptyObject;var O={_dummyFormList:[],_isIgnoreFormsEnabled:!1,_lastFoundLocationMatch:-1,processPage:function(e,t,r){var i=g.performanceReporter.TYPE.FIELD_MAPPING_PROCESS_PAGE+":"+Date.now();if(a.reportStart(g.performanceReporter.COMPONENT.WAX,i),!n(e))throw new Error("parseResults must be an array");if(!o(t))throw new Error("formData must be an object of FormData");if("boolean"!=typeof r)throw new Error("useRegEx must be an boolean type");O._parseResults=e,O._formData=t,O._useRegEx=r,O._dataCountries=t.getValidL10nCountries(),O._dataAttributes=t.getValidL10nAttributes();e=O._formData.getParsePreference().getParseCriterias();return-1<e.indexOf(g.parseCriterias.IGNORE_FORMS)&&(O._isIgnoreFormsEnabled=!0),O._associateInputTypeWithInputField(),-1<e.indexOf(g.parseCriterias.DONT_PERFORM_FIELD_MAPPING)||(O._associateAttachedTextWithInputField(),O._setFieldTypes(),O._postMappingFieldTypeCorrection(),a.reportEnd(g.performanceReporter.COMPONENT.WAX,i)),O._parseResults},_isAttachedTextCandidate:function(e){switch(e.tagName){case A.LABEL:case A.DIV:case A.SPAN:case A.TD:case A.A:case A.TH:case A.LI:case A.P:case A.B:case A.I:case A.U:case A.H1:case A.H2:case A.H3:case A.H4:case A.H5:case A.H6:case A.FONT:case A.STRONG:case A.EM:return!0}return!1},_isTextInHorizontalProximity:function(e,t){var r,i=e.left+(e.right-e.left)/2,n=t.left+(t.right-t.left)/2,o=(e.bottom-e.top)/2,a=e.top+o,s=t.top+(t.bottom-t.top)/2,s=Math.abs(s-a);if(50<s)return R.Invalid;if(t.left>=e.left-4&&t.right<=e.right+4)return h.debug("Attached text matched by center"),R.Center;if(t.left>=e.left-48&&t.right<=e.right+48&&t.left<i&&t.right>i||t.left<i&&t.right>i&&Math.abs(t.left-e.left)<12)return h.debug("Attached text matched by center"),R.Center;if(t.right<=e.right||e.left-t.left>t.right-e.right){if(r=Math.abs(e.left-t.right),s<o&&r<48||t.right>=e.left)return h.debug("Attached text matched by left"),R.Left;if(s<o&&r<600)return h.debug("Attached text matched by far left"),R.FarLeft}if(t.right>=i){if(Math.abs(n-i)<12)return h.debug("Attached text matched by center"),R.Center;if((r=Math.abs(e.right-t.left))<48||t.left<=e.right)return h.debug("Attached text matched by right"),R.Right;if(r<600)return h.debug("Attached text matched by far right"),R.FarRight}return R.Invalid},_isTextInVerticalProximity:function(e,t){var r=e.top+(e.bottom-e.top)/2,i=t.top+(t.bottom-t.top)/2,n=Math.abs(r-i),o=e.left+(e.right-e.left)/2,a=t.left+(t.right-t.left)/2;Math.abs(o-a);let s=O._formData.getParsePreference();o=s.getStringPixelSize()[3]||0,a=t.bottom-e.bottom<=18&&18<=e.top-t.top;return t.top>=e.top-4&&t.bottom<=e.bottom+4?(h.debug("Attached text matched by center"),R.Center):t.top>=e.top-o/2&&t.bottom<=e.bottom+18&&t.bottom>=e.top-18?n<=8&&!a?(h.debug("Attached text matched by center"),R.Center):i<r?(h.debug("Attached text matched by top"),R.Top):(h.debug("Attached text matched by bottom"),R.Bottom):t.top>=e.bottom-18&&t.top<e.bottom+18?n<=8?(h.debug("Attached text matched by center"),R.Center):(h.debug("Attached text matched by bottom"),R.Bottom):t.top>=e.top-18&&t.bottom<=e.bottom+18?(h.debug("Attached text matched by center"),R.Center):t.bottom<e.top&&Math.abs(t.bottom-e.top)<=18?(h.debug("Attached text matched by top"),R.Top):t.top>e.bottom&&Math.abs(t.top-e.bottom)<=18?(h.debug("Attached text matched by bottom"),R.Bottom):t.top>=e.top-18&&t.top<=e.bottom?t.top>=e.top-4&&t.top<=e.top+4||n<=8?(h.debug("Attached text matched by center"),R.Center):(h.debug("Attached text matched by bottom"),R.Bottom):n<=18?(h.debug("Attached text matched by center"),R.Center):R.Invalid},_isTextInProximityOfElement:function(e,t,r){var i=e.getBoundingClientRect(),t=t.getBoundingClientRect();return!y.isElementInsideRectangle(e,t)&&((e=O._isTextInHorizontalProximity(i,t))!=R.Invalid&&((i=O._isTextInVerticalProximity(i,t))!=R.Invalid&&(m(r)&&(r.location=e|i),!0)))},_addAttachedLabelsToElement:function(o,a,s,l){let u=!1;if(l.has(s)){let e=l.get(s),t=a;var l=e.getBoundingClientRect(),a=t.getBoundingClientRect(),o=o.getBoundingClientRect(),p=e.tagName.toUpperCase(),d=t.tagName.toUpperCase();let r={},i={},n={};if(r.value=0,i.value=0,n.value=0,F.getElementType(e,r,n),F.getElementType(t,i,n),p==A.LABEL&&d!=A.LABEL)return u;if(p!=A.LABEL&&d==A.LABEL)u=!0;else{if(r.value<g.elementType.Header&&i.value>=g.elementType.Header)return u;i.value<=g.elementType.TableCell&&r.value>g.elementType.TableCell&&(s&R.Left||s&R.FarLeft?a.left>=l.right&&(u=!0):(s&R.Right||s&R.FarRight)&&a.left<=l.right&&(u=!0))}if(!1===u){const E={};if(E.x=o.left+(o.right-o.left)/2,E.y=o.top+(o.bottom-o.top)/2,s===R.CenterTop)(Math.abs(o.left-l.left)>Math.abs(o.left-a.left)||Math.abs(o.right-l.right)>Math.abs(o.right-a.right))&&(u=!0);else{const T={x:0},_=(T.y=l.top+(l.bottom-l.top)/2,{x:0});_.y=l.top+(a.bottom-a.top)/2,s&R.Right||s&R.FarRight?(T.x=l.left,_.x=a.left):s&R.Left||s&R.FarLeft?(T.x=l.right,_.x=a.right):(T.x=l.left+(l.right-l.left)/2,_.x=a.left+(a.right-a.left)/2);p=Math.sqrt(Math.pow(E.x-T.x,2)+Math.pow(E.y-T.y,2));Math.sqrt(Math.pow(E.x-_.x,2)+Math.pow(E.y-_.y,2))<p&&(u=!0)}}}else u=!0;return u}};return O._findAttachedTextsForElement=function(r,e,i){for(var n in e)if(e.hasOwnProperty(n)){n=e[n];let t={location:0};if(O._isTextInProximityOfElement(r,n,t)){let e=[R.FarLeftTop,R.FarRightTop,R.CenterBottom,R.LeftBottom,R.FarLeftBottom,R.RightBottom,R.FarRightBottom];-1==e.indexOf(t.location)&&O._addAttachedLabelsToElement(r,n,t.location,i)&&i.set(t.location,n)}}},O._isPotentialLabel=function(e){if(1<e.childElementCount||!y.isElementVisible(e))return!1;if(1===e.childElementCount&&e.firstElementChild.tagName===A.DIV)return!1;var t=e.innerText;return 0!=(t=(t=0!==t.length||f(e.innerHTML)?t:e.innerHTML).trim()).length},O._isCompositeLabel=e=>{var t=Array.from(e.childNodes).some(e=>"[object Text]"===Object.prototype.toString.call(e));return O._isPotentialLabel(e)&&t},O._addAssociatedAttachedTextToWaxDom=function(e,t,r){if(e.attachedTextAssociation=e.attachedTextAssociation||{},e.associatedElementList=e.associatedElementList||[],this._mappedInputFields&&this._mappedInputFields.has(t))return!1;var i=r.innerText;return 0<(i=0!==i.length||f(r.innerHTML)?i:r.innerHTML).length&&(e.attachedTextAssociation[i]=t,this._mappedInputFields&&this._mappedInputFields.add(t),e.associatedElementList.push(r)),!0},O._associateAttachedTextWithProximity=function(a){var e=a.getInputFieldsForAttachedText();if(!c(e)&&0!==e.length){var t=a.getNonInputFields();if(!c(t)&&0!==t.length){a.attachedTextAssociation=a.attachedTextAssociation||{},a.associatedElementList=a.associatedElementList||[];var s=Object.values(a.attachedTextAssociation);if(s.length!==e.length){var r=[];if(t.forEach(function(e){if(!O._isPotentialLabel(e))return!0;-1===a.associatedElementList.indexOf(e)&&r.push(e)}),0!==r.length){var i,t=O._processInputsForHorizantalMapping(e,s);a.setHorizontalInputs(t);const l=new AVLTree;for(i in r)if(r.hasOwnProperty(i)){let e=r[i];var n=e.getBoundingClientRect(),n=n.top+(n.bottom-n.top)/2;l.insert(n,e)}e.forEach(function(e){if(!(-1<s.indexOf(e))){const i=e.getBoundingClientRect(),n=[];var t,r=i.top+(i.bottom-i.top)/2;const o=i.left+(i.right-i.left)/2;l.range(r-g.PROXIMITY_THRESHOLD_Y,r+g.PROXIMITY_THRESHOLD_Y,e=>{let t=e.data;e=t.getBoundingClientRect(),e=e.left+(e.right-e.left)/2;let r=i.width+i.width/2;i.width<g.PROXIMITY_THRESHOLD_X&&(r+=g.PROXIMITY_THRESHOLD_X),e>o-r&&e<o+r&&n.push(t)}),0<n.length&&(r=new Map,O._findAttachedTextsForElement(e,n,r),r=O._findAttachedTextForElementWithLocation(a,e,r),m(r)&&(-1<(t=n.indexOf(r))&&n.splice(t,1),O._addAssociatedAttachedTextToWaxDom(a,e,r)))}})}}}}},O._findAttachedTextForElementWithLocation=function(e,t,r){if(0==r.size)return null;var i=y.getInputType(t);let n;var o=d.uiUtils.isPageRTL(t);n=o?[R.Center,R.RightCenter,R.FarRightCenter,R.CenterTop,R.RightTop,R.RightTop,R.FarLeftCenter]:[R.RightCenter,R.Center,R.LeftCenter,R.FarLeftCenter,R.CenterTop,R.LeftTop,R.Invalid],i!=E.RADIO&&y.isInputElement(t)&&(t="("+(t=t.getBoundingClientRect()).top+","+t.bottom+")",e=e.getHorizontalInputs().get(t),m(e)&&1<e&&(o?(n[2]=R.CenterTop,n[3]=R.FarRightCenter):(n[3]=R.CenterTop,n[4]=R.FarLeftCenter)));let a=1;i===E.RADIO||o?a=0:i===E.SELECT&&(a=2);g.fieldType.UNKNOWN;t=O._lastFoundLocationMatch;0!=a&&1<t&&t<5&&(r.has(R.LeftCenter)||r.has(R.FarLeftCenter)||(e=n.splice(t,1),n.splice(1,0,e[0]),E.SELECT===i&&(a=1)));let s=n.length;E.SELECT!=i&&s--;let l;for(;a<s;++a)if(r.has(n[a])){var u=r.get(n[a]);let e=u.innerText;0!==e.length||f(u.innerHTML)||(e=u.innerHTML);var p=""!==i&&i!==E.UNKNOWN&&i!==E.EVENT_OBJECT;if(O._stringToFieldTypeFromCollection(e,!0,p)!=g.fieldType.UNKNOWN){l=u,O._lastFoundLocationMatch=a;break}}return l},O._processInputsForHorizantalMapping=function(e,t){let r=new Map,i,n=1;for(var o of e)if(!(-1<t.indexOf(o))){var a=o.getBoundingClientRect();if(c(i))r.set("("+a.top+","+a.bottom+")",n);else{let e=!1;var s,l=i.getBoundingClientRect();this.isInHorGroupBound(l,a)&&(l.top==a.top&&l.bottom==a.bottom||(s=r.get("("+l.top+","+l.bottom+")"),r.set("("+l.top+","+l.bottom+")",s+1)),e=!0,r.set("("+a.top+","+a.bottom+")",++n)),1!=e&&(n=1,r.set("("+a.top+","+a.bottom+")",n))}i=o}return r},O.isInHorGroupBound=function(e,t){return t.top>=e.top-8&&t.bottom<=e.bottom+8},O._addToDummyForm=function(e,t){for(var r,i=0;i<O._dummyFormList.length;i++){var n=O._dummyFormList[i],o=n.getNonInputFields();if(!c(o)&&0!==o.length){for(var a=0;a<o.length;a++){var s=o[a];if(O._isTextInProximityOfElement(e,s)){r=n;break}}if(m(r))break}}c(r)&&1===O._parseResults.length&&(r=O._parseResults[0]),c(r)&&(r=new _.WaxDom,O._dummyFormList.push(r),r.addToInputFields(e),r.addToNonInputFields(t)),O._addAssociatedAttachedTextToWaxDom(r,e,t)},O._associateAttachedTextWithInputField=function(){var i,r=O._parseResults,n={},p=[],d=[];if(r.forEach(function(s,e){O._mappedInputFields=new Set;var t=s.getHtmlForm();if(c(t))i=s;else{var l=s.getInputFieldsForAttachedText();if(!c(l)&&0!==l.length){var r=s.getNonInputFields();if(c(r)||0===r.length)return p.push(s),d.push(t),void(n[e]=t.getBoundingClientRect());var u=0;let o={},a=!1;r.forEach(function(e){if(e.tagName===A.LABEL){var t=e.getAttribute(N.FOR);if(!c(t)){var r=document.getElementById(t);if(c(r)){if(!1===a){for(var i of l){var n=i.getAttribute(N.NAME);m(n)&&c(o[n])&&(o[n]=i)}a=!0}r=o[t]}m(r)&&y.isElementVisible(r)&&O._addAssociatedAttachedTextToWaxDom(s,r,e)&&(u+=1)}}}),l.length!==u&&(p.push(s),d.push(t),n[e]=t.getBoundingClientRect())}}}),m(i)){this._mappedInputFields=new Set;var o=i.getNonInputFields();if(m(o))for(let t=0;t<o.length;t++){let e=o[t];if(O._isAttachedTextCandidate(e)){if(e.tagName===A.LABEL)do{var a=e.getAttribute(N.FOR);if(c(a))break;var s=document.getElementById(a);if(c(s)&&(s=document.getElementsByName(a)[0],c(s)))break;if(!y.isElementVisible(s))break;if(c(s.form)&&!1===O._isIgnoreFormsEnabled){O._addToDummyForm(s,e);break}var a=d.indexOf(s.form)}while(-1<a&&(a=p[a],O._addAssociatedAttachedTextToWaxDom(a,s,e)),0);var l=e.innerText;if(0!==l.length||f(e.innerHTML)||(l=e.innerHTML),I(n)){var u=y.getInputType(e)==g.inputType.EVENT_OBJECT;e.innerHTML.trim()==l.trim()||u||(o.splice(t,1),t--)}else for(var E in n){var T=n[E];!_.utils.isElementInsideRectangle(e,T)||e.innerHTML.trim()!==l.trim()&&!O._isCompositeLabel(e)||r[E].addToNonInputFields(e)}}}I(n)&&p.push(i),delete O._mappedInputFields,p.forEach(function(e){O._associateAttachedTextWithProximity(e)}),O._parseResults=r.concat(O._dummyFormList)}},O._setFieldTypes=function(){O._parseResults.forEach(function(t){var r=t.getFieldMapping(),i=[];r.forEach(function(e){i.push(e.getElement())}),t.getInputFieldsForAttachedText().forEach(function(e){-1<i.indexOf(e)||r.push(O._createWaxField(t,e))});t.getNonInputFields().forEach(function(e){-1<i.indexOf(e)||r.push(O._createWaxField(t,e,!0))}),t.setFieldMapping(r);var n=[];r.forEach(e=>{y.isEventObject(e)&&n.push(e)}),t.setEventObjectWaxFields(n)})},O._fieldFactory={},O._fieldFactory[g.htmlTagName.SELECT]=_.WaxSelectField,O._fieldFactory[g.htmlTagName.INPUT]=_.WaxInputField,O.createWaxFieldObject=function(e){e=new(!c(e)&&t(O._fieldFactory[e.tagName])?O._fieldFactory[e.tagName]:_.WaxField);return e},O._createWaxField=function(e,t,r=!1){var i=y.getInputType(t),n=O._getFieldTypeByAttachedText(e,t),r=(n===g.fieldType.UNKNOWN&&!0===r&&(n=O._getFieldTypeByMatchProperties(e,t)),O._validateFieldType(n,i)||(n=g.fieldType.UNKNOWN),O.createWaxFieldObject(t));return r.setFieldType(n),r.setPreGroupFieldType(n),r.setInputType(i),r.setElement(t),r},O._performRegExSearch=function(e,t,r){let i=e[g.REGEX];if(!(t.length<g.MAX_STRING_LENGTH_FOR_REGEX))return g.fieldType.UNKNOWN;for(var n in i)try{if(i.hasOwnProperty(n)){let e=new RegExp(n);if(e.test(t))return r[i[n]]}}catch(e){h.error(e)}return g.fieldType.UNKNOWN},O._stringToFieldType=function(t,e,r){var i=g.fieldType.UNKNOWN,n=y.getTrimmedString(t);if(c(n))return i;O._formData;if(e){var o=O._dataCountries;for(let e=0;e<o.length;e++){var a=o[e],s=a[g.DATA],l=a[g.FIELD_TYPE],u=s[n];if(Number.isInteger(u)){i=l[u];break}if(r&&O._useRegEx&&(i=O._performRegExSearch(a,n,l))!==g.fieldType.UNKNOWN)break}}else{var p=O._dataAttributes;for(let e=0;e<p.length;e++){var d=p[e];if(s=d[g.DATA],l=d[g.FIELD_TYPE],u=s[n],c(u))try{var E=y.getTrimmedPropertyValue(t);m(E)&&(u=s[E])}catch(e){h.error(e)}if(c(u))try{var T=y.getTrimmedPropertyValue(n);m(T)&&(u=s[T])}catch(e){h.error(e)}if(Number.isInteger(u)){i=l[u];break}}if(r&&O._useRegEx&&i===g.fieldType.UNKNOWN){var _=O._dataCountries;for(let e=0;e<_.length;e++){var f=_[e];if(l=f[g.FIELD_TYPE],!c(l)&&(i=O._performRegExSearch(f,n,l))!==g.fieldType.UNKNOWN)break}}}return i},O._stringToFieldTypeFromCollection=function(e,t,r){let i=O._stringToFieldType(e,t,r);return i=i!==g.fieldType.UNKNOWN||t?i:O._stringToFieldType(e,!t,r)},O._getFieldTypeByAttachedText=function(e,t){var r=g.fieldType.UNKNOWN,i=y.getInputType(t);if(c(e.attachedTextAssociation))return r;var n=Object.values(e.attachedTextAssociation);if(0===n.length)return r;n=n.indexOf(t);if(-1===n)return r;t=Object.keys(e.attachedTextAssociation)[n],e=""!==i&&i!==E.UNKNOWN&&i!==E.EVENT_OBJECT;return r=O._stringToFieldTypeFromCollection(t,!0,e)},O._getFieldTypeByMatchProperties=function(e,t){var r,i=y.getInputType(t),n=O._formData.getParsePreference().getMatchingProperties(),o=(c(n)&&(n=y.getMatchPropertiesByInputType(i)),g.fieldType.UNKNOWN);for(r in n){var a=n[r];if(a!==g.matchProperties.ATTACHED_TEXT){var s=a===g.matchProperties.INNER_TEXT?t.innerText:t.getAttribute(a);if(!c(s)&&0!==s.length){var l=""!==i&&i!==E.UNKNOWN&&i!==E.EVENT_OBJECT;switch(a){case g.matchProperties.INNER_TEXT:case g.matchProperties.PLACE_HOLDER:case g.matchProperties.VALUE:case g.matchProperties.ALTERNATIVE_TEXT:o=O._stringToFieldTypeFromCollection(s,!0,l);break;default:o=O._stringToFieldTypeFromCollection(s,!1,l)}if(O._validateFieldType(o,i))break;o=g.fieldType.UNKNOWN}}}return o},O._validateFieldType=function(e,t){return e!==g.fieldType.UNKNOWN&&((e!==g.fieldType.SIGNON_DESTINATION||t===g.inputType.SELECT||t===g.inputType.TEXT)&&((-1===e.toLowerCase().indexOf("button")&&e!=g.fieldType.AJAX_ACTION||!y.isInputTextElement(t))&&(e!==g.fieldType.SKIP_FIELD||!y.isInputTextElement(t))))},O._postMappingFieldTypeCorrection=function(){let e=O._formData.getParsePreference(),t=e.getParseCriterias();const o=!t.includes(g.parseCriterias.DONT_USE_PASSWORD_FIELD_CORRECTION);O._parseResults.forEach(function(e){var r,i,n=e.getFieldMapping();for(let t=0;t<n.length;t++){let e=n[t];e instanceof _.WaxInputField&&(r=e._inputType,i=e._fieldType,y.isInputButtonElement(r)&&i===g.fieldType.LOGIN_NAME&&(e.setFieldType(g.fieldType.LOGIN_BUTTON),e.setPreGroupFieldType(g.fieldType.LOGIN_BUTTON)),o&&r===g.inputType.PASSWORD&&i===g.fieldType.UNKNOWN&&(e.setFieldType(g.fieldType.PASSWORD),e.setPreGroupFieldType(g.fieldType.PASSWORD)))}})},O._associateInputTypeWithInputField=function(){O._parseResults.forEach(function(o,e){let t=o.getInputFields();if(!c(t)&&0!==t.length){let e=o.getFieldMapping(),n=[];t.forEach(function(t){var r=e.find(function(e){return e.getElement()===t});if(!m(r)){var r=y.getInputType(t),i=O._getFieldTypeByMatchProperties(o,t);if(i!==g.fieldType.UNKNOWN){let e=O.createWaxFieldObject(t);e.setFieldType(i),e.setPreGroupFieldType(i),e.setInputType(r),e.setElement(t),n.push(e)}else O._isIncludedForAttachedTextMapping(t,r)&&o.addToInputFieldsForAttachedText(t)}});try{0<n.length&&o.ConcatFieldMapping(n)}catch(e){h.error(e)}}})},O._isIncludedForAttachedTextMapping=function(e,t){var e=e.nodeName.toUpperCase(),r=e.length;let i=!1;return!(i=3==r&&e==g.htmlTagName.IMG||6==r&&e==g.htmlTagName.BUTTON||i)&&t!==E.SUBMIT&&t!==E.BUTTON&&t!==E.IMAGE&&t!==E.EVENT_OBJECT},O}(e.SymBfw,e.SymWax)}(window),function(e){"use strict";e.SymWax.fieldGroupMapping=function(o,e){let d={},E=o.utils.isNil,a=o.logger,T=e.constants,i=e.utils,n=i.isFormData,s=o.utils.isArray,l=(o.extensionAdapter,o.performanceReporterFactoryProxy),_={_mapFields:function(){var r=this._resultPattern.split("-");a.debug("Start of FieldGroupMapping: Mapping is done for group type: "+d._groupType+"\n");let i=this._groupStart;for(let t=0;i<this._group.length;i++,t++){let e=this._group[i];var n=r[t],n=this._patternTokenToFieldType(n);a.debug("Old FieldType:"+e.getFieldType()+" New FieldType: "+n+"\n"),o.utils.isntNil(n)&&e.setFieldType(n)}return a.debug("End of FieldGroupMapping: Mapping is done for group type "+d._groupType),i},_fieldTypeToPatternString:function(e){switch(e){case T.fieldType.PREFIX:return T.patternTokens.PREFIX;case T.fieldType.SUFFIX:return T.patternTokens.SUFFIX;case T.fieldType.FULL_NAME_PHONETIC:case T.fieldType.FIRST_NAME_ROMAN:case T.fieldType.FIRST_NAME:return T.patternTokens.FIRST_NAME;case T.fieldType.MIDDLE_NAME:case T.fieldType.MIDDLE_NAME_ROMAN:case T.fieldType.MIDDLE_NAME_PHONETIC:return T.patternTokens.MIDDLE_NAME;case T.fieldType.LAST_NAME:case T.fieldType.LAST_NAME_PHONETIC:case T.fieldType.LAST_NAME_ROMAN:return T.patternTokens.LAST_NAME;case T.fieldType.YEAR:case T.fieldType.BIRTH_YEAR:case T.fieldType.CREDIT_CARD_EXPIRATION_YEAR:case T.fieldType.CREDIT_CARD_START_YEAR:return T.patternTokens.YEAR;case T.fieldType.MONTH:case T.fieldType.BIRTH_MONTH:case T.fieldType.CREDIT_CARD_START_MONTH:case T.fieldType.CREDIT_CARD_EXPIRATION_MONTH:return T.patternTokens.MONTH;case T.fieldType.BIRTH_DAY:case T.fieldType.DAY:return T.patternTokens.DAY;case T.fieldType.ACCOUNT_NUMBER:case T.fieldType.CREDIT_CARD_NUMBER:return T.patternTokens.CARD_NUMBER;case T.fieldType.UNKNOWN:return T.patternTokens.UNKNOWN;default:return T.patternTokens.IGNORE}},matchPattern:function(e,t){let r=[];for(var i of this._group=e)r.push(_._fieldTypeToPatternString(i.getFieldType()));var n,e=d._formData.getL10nCountries(),o=d._genericMapping[t];let a=r.join("-");for(n of e){var s=n[T.FIELD_TYPE].indexOf(o);if(-1!=s){s=n[T.PATTERN][s];if(!E(s))for(var l of s){var u=Object.keys(l)[0],l=l[u],l=new RegExp(l),p=a.search(l);if(-1!=p){let e=-1,t=-1;for(;t<p;e++,t=a.indexOf("-",t+1));return this._resultPattern=u,this._groupStart=e,!0}}}}return!1}},t=Object.create(_),r=(t._patternTokenToFieldType=function(e){switch(e){case T.patternTokens.DAY:return T.fieldType.DAY;case T.patternTokens.MONTH:return T.fieldType.MONTH;case T.patternTokens.YEAR:return T.fieldType.YEAR;default:return null}},Object.create(t)),u=(r._patternTokenToFieldType=function(e){switch(e){case T.patternTokens.DAY:return T.fieldType.BIRTH_DAY;case T.patternTokens.MONTH:return T.fieldType.BIRTH_MONTH;case T.patternTokens.YEAR:return T.fieldType.BIRTH_YEAR;default:return null}},Object.create(t)),p=(u._patternTokenToFieldType=function(e){switch(e){case T.patternTokens.DAY:return null;case T.patternTokens.MONTH:return T.fieldType.CREDIT_CARD_EXPIRATION_MONTH;case T.patternTokens.YEAR:return T.fieldType.CREDIT_CARD_EXPIRATION_YEAR;default:return null}},Object.create(_));return p._patternTokenToFieldType=function(e){switch(e){case T.patternTokens.PREFIX:return T.fieldType.PREFIX;case T.patternTokens.SUFFIX:return T.fieldType.SUFFIX;case T.patternTokens.FIRST_NAME:return T.fieldType.FIRST_NAME;case T.patternTokens.MIDDLE_NAME:return T.fieldType.MIDDLE_NAME;case T.patternTokens.LAST_NAME:return T.fieldType.LAST_NAME;default:return null}},(d={_groupBoundary:null,_groupType:null,_lastDetectedgroupTypeIsSpecific:!1})._genericMapping={[T.fieldType.DATE]:T.fieldType.DATE,[T.fieldType.CREDIT_CARD_EXPIRATION_DATE]:T.fieldType.DATE,[T.fieldType.CREDIT_CARD_START_YEAR]:T.fieldType.DATE},d._fieldGroupMapper={[T.fieldType.CREDIT_CARD_EXPIRATION_DATE]:u,[T.fieldType.BIRTH_DATE]:r,[T.fieldType.DATE]:t,[T.fieldType.NAME]:p},d._specificGroups=[T.fieldType.CREDIT_CARD_EXPIRATION_DATE,T.fieldType.CREDIT_CARD_START_YEAR],d._isPotentialGroupCandidate=function(e){if(e.getInputType()===T.inputType.UNKNOWN)return!1;if(e.getFieldType()===T.fieldType.UNKNOWN)return!!d._groupType&&!!d._isInGroupBounds(e.getElement());var t=d._fieldTypeToGroupType(e.getFieldType());if(t===T.fieldType.UNKNOWN)return!1;if(!d._isInGroupBounds(e.getElement()))return!1;e=-1!==d._specificGroups.indexOf(t);if(d._lastDetectedgroupTypeIsSpecific=e,!d._groupType)return d._groupType=t,!0;if(e){if(d._lastDetectedgroupTypeIsSpecific&&t===d._groupType)return!0;if(d._groupType===d._genericMapping[t])return d._groupType=t,!0}return d._genericMapping[d._groupType]==t},d._mapToHorizontalGroup=function(e){var i=e.getFieldMapping(),n=i.length;for(let r=0;r<n;){d._groupBoundary=null,d._groupType=null;var o=i[r],a=r;let t=[];if(d._isPotentialGroupCandidate(o)){for(t.push(o),r++;r<n;){var s=i[r];if(!d._isPotentialGroupCandidate(s))break;t.push(s),r++}if(!(t.length<2)){let e=d._fieldGroupMapper[d._groupType];e&&e.matchPattern(t,d._groupType)&&(a+=e._mapFields(),r=a)}}else r++}},d._isInGroupBounds=function(e){if(!d._groupBoundary)return d._groupBoundary=e.getBoundingClientRect(),!0;var t,e=e.getBoundingClientRect();let r=e.top>=d._groupBoundary.top-8&&e.bottom<=d._groupBoundary.bottom+8;return r||(t=(e.right-e.left)/2+e.left,e=(e.bottom-e.top)/2+e.top,i.isPtnInRect(t,e,d._groupBoundary)&&(r=!0)),r},d.processPage=function(e,t){var r=T.performanceReporter.TYPE.FIELD_GROUP_MAPPING_PROCESS_PAGE+":"+Date.now();if(l.reportStart(T.performanceReporter.COMPONENT.WAX,r),!s(e))throw new Error("waxDoms must be an array");if(!n(t))throw new Error("formData must be an object of FormData");d._formData=t,e.forEach(function(e){d._mapToHorizontalGroup(e)}),l.reportEnd(T.performanceReporter.COMPONENT.WAX,r)},d._fieldTypeToGroupType=function(e){let t=T.groupType.UNKNOWN;switch(e){case T.fieldType.FULL_NAME:case T.fieldType.FIRST_NAME:case T.fieldType.LAST_NAME:case T.fieldType.MIDDLE_NAME:case T.fieldType.PREFIX:case T.fieldType.SUFFIX:t=T.fieldType.NAME;break;case T.fieldType.FULL_NAME_PHONETIC:case T.fieldType.FIRST_NAME_PHONETIC:case T.fieldType.LAST_NAME_PHONETIC:case T.fieldType.MIDDLE_NAME_PHONETIC:t=T.fieldType.NAME_PHONETIC;break;case T.fieldType.FULL_NAME_ROMAN:case T.fieldType.FIRST_NAME_ROMAN:case T.fieldType.LAST_NAME_ROMAN:case T.fieldType.MIDDLE_NAME_ROMAN:t=T.fieldType.NAME_ROMAN;break;case T.fieldType.BIRTH_DATE:case T.fieldType.BIRTH_YEAR:case T.fieldType.BIRTH_MONTH:case T.fieldType.BIRTH_DAY:t=T.fieldType.BIRTH_DATE;break;case T.fieldType.DATE:case T.fieldType.DAY:case T.fieldType.MONTH:case T.fieldType.YEAR:t=T.fieldType.DATE;break;case T.fieldType.CREDIT_CARD_EXPIRATION_DATE:case T.fieldType.CREDIT_CARD_EXPIRATION_MONTH:case T.fieldType.CREDIT_CARD_EXPIRATION_YEAR:t=T.fieldType.CREDIT_CARD_EXPIRATION_DATE;break;case T.fieldType.CREDIT_CARD_START_DATE:case T.fieldType.CREDIT_CARD_START_MONTH:case T.fieldType.CREDIT_CARD_START_YEAR:t=T.fieldType.CREDIT_CARD_START_YEAR;break;case T.fieldType.CREDIT_CARD_HOLDER_NAME:t=T.fieldType.CREDIT_CARD;break;case T.fieldType.PHONE_NUMBER_COUNTRY_CODE:case T.fieldType.PHONE_NUMBER_AREA_CODE:case T.fieldType.PHONE_NUMBER:t=T.fieldType.PHONE_NUMBER;break;case T.fieldType.PHONE_NUMBER_WORK:t=T.fieldType.PHONE_NUMBER_WORK;break;case T.fieldType.PHONE_NUMBER_HOME:t=T.fieldType.PHONE_NUMBER_HOME;break;case T.fieldType.PHONE_NUMBER_FAX:t=T.fieldType.PHONE_NUMBER_FAX;break;case T.fieldType.PHONE_NUMBER_WORK_FAX:t=T.fieldType.PHONE_NUMBER_WORK_FAX;break;case T.fieldType.PHONE_NUMBER_CELL:t=T.fieldType.PHONE_NUMBER_CELL;break;case T.fieldType.GENDER_FEMALE:case T.fieldType.GENDER_MALE:case T.fieldType.GENDER:t=T.fieldType.GENDER;break;case T.fieldType.SSN:t=T.fieldType.SSN;break;case T.fieldType.ZIP_CODE:t=T.fieldType.ZIP_CODE;break;case T.fieldType.EMAIL:case T.fieldType.ALTERNATE_EMAIL:case T.fieldType.VERIFY_EMAIL:case T.fieldType.WORK_EMAIL:t=T.fieldType.EMAIL_DOMAIN;break;case T.fieldType.LOGIN_NAME:t=T.fieldType.LOGIN_NAME;break;case T.fieldType.PASSWORD:t=T.fieldType.PASSWORD;break;case T.fieldType.ACCOUNT_NUMBER:t=T.fieldType.ACCOUNT_NUMBER;break;case T.fieldType.OTP:t=T.fieldType.OTP;break;default:t=T.fieldType.UNKNOWN}return t},d}(e.SymBfw,e.SymWax)}(window),function(e){"use strict";e.SymWax.groupCategorization=function(e,t){var c=e.utils.isArray,i=t.utils.isFormData,g=e.utils.isNil,A=e.utils.isntNil,N=t.constants,R=N.groupCategorization,m=t.utils,n=e.performanceReporterFactoryProxy;e.logger;let F=t.waxTelemetryListener;var I={processPage:function(e,t){var r=N.performanceReporter.TYPE.GROUP_CATEGORIZATION_PROCESS_PAGE+":"+Date.now();if(n.reportStart(N.performanceReporter.COMPONENT.WAX,r),!c(e))throw new Error("parseResults must be an array");if(i(t))return I._parseResults=e,I._formData=t,-1<I._formData.getParsePreference().getParseCriterias().indexOf(N.parseCriterias.DONT_PERFORM_GROUP_CATEGORIZE)||(I._setGroupTypes(),n.reportEnd(N.performanceReporter.COMPONENT.WAX,r)),I._parseResults;throw new Error("formData must be an object of FormData")},_setGroupTypes:function(){for(var e=I._parseResults,t=I._formData.getGlobal(),r=(r=t[R.PAGE_CATEGORIZATIONS]).concat(t[R.LOGIN_CATEGORIZATIONS]),i=-1<I._formData.getParsePreference().getParseCriterias().indexOf(N.parseCriterias.DONT_CATEGORIZE_AS_MULTIPLE_PAGE_LOGIN),n=0;n<e.length;n++){var o=e[n],a=o.getFormType();if(A(a)){for(var s=[],l=o.getFieldMapping(),u=0;u<l.length;u++){var p=l[u];p.getFieldType()!==N.fieldType.UNKNOWN&&s.push(p)}o.setCategorizedWaxFields(s),!0==i&&a===N.groupType.MULTI_PAGE_LOGIN&&o.removeFormType(N.groupType.MULTI_PAGE_LOGIN)}else{for(var d=0,E=null,T=null,_=[],f=0;f<r.length;f++){var c,m,h=r[f],y=I._hasPatternMatched(o,h);g(y)||(c=y.categorizedFields,g(c)||((m=c.length)<d||m===h[R.MAPPING_FIELDS].length&&(d=m,_=y.matchedInputFields,E=h,T=c)))}if(0<d){if(I._setFormType(o,E,d),!0==i&&-1<o.getFormTypes().indexOf(N.groupType.MULTI_PAGE_LOGIN)){o.removeFormType(N.groupType.MULTI_PAGE_LOGIN);continue}o.setCategorizedWaxFields(T),I._applyPattern(T,_)}o.determineFormTypes(),F.registerInputFieldObservers(o)}}},_setFormType:function(e,t,r){var i=t[R.GROUP_TYPE];t[R.MAPPING_FIELDS].length>r&&(i===N.groupType.LOGIN||i===N.groupType.PARTIAL_LOGIN?i=N.groupType.UNKNOWN:-1===i.indexOf(R.PARTIAL)&&(i=R.PARTIAL+i)),e.setFormType(i)},_hasPatternMatched:function(e,t){var r=t[R.MAPPING_FIELDS];if(!c(r))return null;var i=e.getFieldMapping();if(!c(i))return null;for(var n=[],o=0;o<i.length;o++){var a=i[o],s=a.getInputType(),l=a.getFieldType();s===N.inputType.UNKNOWN&&l===N.fieldType.UNKNOWN||n.push(a)}for(var u=[],p=[],d=0;d<r.length;d++)for(var E=r[d],T=0;T<n.length;T++){var _=n[T];if(-1===u.indexOf(_)&&(m.isFieldTypeMatched(_.getFieldType(),E[R.FIELD_TYPE])&&m.isInputTypeMatched(_.getInputType(),E[R.INPUT_TYPE]))){var f=t[R.INPUT_FIELDS][d];u.push(_),p.push(f);break}}return{categorizedFields:u,matchedInputFields:p}},_applyPattern:function(e,t){for(var r=t,i=0;i<e.length;i++){var n=e[i],o=r[i];A(o[R.INPUT_TYPE])&&n.setInputType(o[R.INPUT_TYPE]),A(o[R.LOGIN_TYPE])&&n.setLoginFieldType(o[R.LOGIN_TYPE])}}};return I}(e.SymBfw,e.SymWax)}(window),function(e){"use strict";var t,n,o,r,i,s,l,u,p,a,d;e.SymWax.formFiller=(t=e.SymBfw,n=e.SymWax,(e=t.utils).isNil,o=e.isntNil,e.isString,e.isFunction,t.logger,e=n.utils,r=n.constants,e.isInputElement,i=e.isWaxForm,s=e.isWaxLoginForm,l=e.isWaxCardForm,u=e.isWaxChangePasswordForm,p=n.telemetryWrapper,a=n.formDataLoaderCS,d={_fillRecords:[],fillForm:function(e,t,r){if(!i(e))throw new Error("waxForm must be a wax form type");d._fillRecords=[];t=e.fillForm(t,function(e){d._fillRecords.push(e)});return d._applyAfterFillRule(),d._sendFillTelemetry(e,r),t},getRule:function(){var e=a.getFormData().getRule();if(o(e))return new n.Rule(e)},applyOnFillRule:function(e,t){var r,i=!1;return o(t)&&o(e)&&(r=d.getRule(),o(r)&&(i=n.rulesEngine.applyOnFillRule(r,e,t))),i},_applyAfterFillRule:function(){var e=d.getRule();o(e)&&n.rulesEngine.applyAfterFillRule(e)},_sendFillTelemetry:function(o,a){setTimeout(function(){if(s(o)||u(o)){for(var e=d._fillRecords,t=!1,r=!1,i=0;i<e.length;i++){var n=e[i];if(!0===n.isElementChanged&&(r=!0),n.elementFilled.value!==n.filledValue&&(t=!0),!0===r&&!0===t)break}!0===r&&p.sendWaxFieldChanged(document.location.hostname),!0===t&&p.sendWaxFillFailure(o.formType+"-"+document.location.hostname)}else l(o)&&p.sendWaxFormFill(a.siteDomain,o.formType)},r.telemetry.VALIDATION_TIMEOUT)}})}(window),function(e){e.SymWax.main=function(i,o){var a={},s=o.formDataLoaderCS,t=o.parser,r=o.fieldMapping,n=o.fieldGroupMapping,l=o.groupCategorization,u=i.utils.isNil,p=i.utils.isntNil,d=(i.utils.isString,i.utils.isBoolean),E=i.logger,T=i.utils.isFunction,e=o.utils,_=o.constants,f=_.messages,c=i.utils.isEmptyObject,m=i.utils.isArray,h=(o.telemetryWrapper,i.extensionAdapter),y=i.performanceReporterFactoryProxy;a._fieldMappingResults=null,a._groupCategorizationResults=null,a._formData={},a._parsePreference={},a._isBeingCalledInIntervals=!1,a._timerId=0,a._retryIteration=0,a._retryTimeOut=0,a._parsedWaxDoms=[],a._startTime=0,a._endTime=0,a._disableAjaxSupport=!1,a._rule=null,a._analysisDone=!1,a._pageShowEventAdded=!1,a._addedMessageListener=!1,a._createLoginForm=function(e,t){return new o.WaxLoginForm(e,t)},a._createCardForm=function(e,t){return new o.WaxCardForm(e,t)},a._createPersonalInfoForm=function(e,t){return new o.WaxPersonalInfoForm(e,t)},a._createChangePasswordForm=function(e,t){return new o.WaxChangePasswordForm(e,t)},a._createInteractiveForm=function(e,t){return new o.WaxInteractionForm(e,t)},a._formFactory={},a._formFactory[_.groupType.PARTIAL_LOGIN]=a._createLoginForm,a._formFactory[_.groupType.LOGIN]=a._createLoginForm,a._formFactory[_.groupType.CARDS_PAGE]=a._createCardForm,a._formFactory[_.groupType.PERSONAL_INFO_PAGE]=a._createPersonalInfoForm,a._formFactory[_.groupType.CHANGE_PASSWORD_PAGE]=a._createChangePasswordForm,a._formFactory[_.groupType.LIMITED_CHANGE_PASSWORD_PAGE]=a._createChangePasswordForm,a._formFactory[_.groupType.PARTIAL_CHANGE_PASSWORD_PAGE]=a._createChangePasswordForm,a._formFactory[_.groupType.INTERACTION_PAGE]=a._createInteractiveForm,a.createFormObject=function(e,t){if(T(a._formFactory[t])){const r=a._formFactory[t](e,t);if(r)return r.init(),a._parsedWaxDoms.push(r),r}return null},a.getReadyState=function(){return document.readyState},a.getParsedWaxDoms=function(){return a._parsedWaxDoms};let g=!(a._addMutationObserverCC=function(e){e.map(e=>{var t,e=document.querySelectorAll(e)[0];u(e)||(t=0,new MutationObserver(e=>{0!==t&&clearTimeout(t),t=setTimeout(function(){"complete"==a.getReadyState()&&a.analyzePage(),t=0},500)}).observe(e,{attributes:!0,childList:!0,subtree:!0}))})});return a.init=function(){a._addedMessageListener||h.addContentScriptMessageListener(a._handleMessage),a._addedMessageListener=!0,a._triggerAjaxRetry(),a._startTime=Date.now();var n=_.performanceReporter.TYPE.INIT+":"+Date.now();return y.reportStart(_.performanceReporter.COMPONENT.WAX,n),new Promise(function(r,i){var e=s.loadFormData();g=!1,e.then(function(){if(g=!0,a._formData=s.getFormData(),u(a._formData))return i(new Error("Invalid formData object returned"));var e=a._formData.getRule();if(p(e)&&(a._rule=new o.Rule(e)),a._parsePreference=a._formData.getParsePreference(),u(a._parsePreference))return i(new Error("Invalid parsepreference object returned"));e=a._parsePreference.getParseCriterias();if(p(e)){if(-1<e.indexOf(_.parseCriterias.DONT_PARSE))return r();-1===e.indexOf(_.parseCriterias.ENABLE_AJAX_SUPPORT)&&(a._disableAjaxSupport=!0)}e=a._parsePreference.getInitialParseDelay();if(u(e))return i(new Error("NULL initialParseDelay returned"));a._loadParseRetryInfo();var t=a._parsePreference.getMutationObserverTargetElement();p(t)&&0<t.length&&a._addMutationObserverCC(t),a._setAjaxParseRetryInfo(),setTimeout(function(){try{return a.analyzePage(),r()}catch(e){return E.info("Wax analyzePage failed: "+e),i(e)}},e),y.reportEnd(_.performanceReporter.COMPONENT.WAX,n)},function(e){return E.info("Wax initialize failed: "+e),i(e)})})},a.handleBeforeUnload=function(){h.sendMessage({id:f.TOP_FRAME_UNLOAD_EVENT})},a.initWithThreshold=function(t){const r=_.performanceReporter.TYPE.INIT_WITH_THRESHOLD+":"+Date.now();y.reportStart(_.performanceReporter.COMPONENT.WAX,r),h.init();function e(e){T(t)&&t(e),!1!==e&&(a.init().catch(function(e){E.info(e)}),y.reportEnd(_.performanceReporter.COMPONENT.WAX,r))}if(!0===i.utils.isTopLevelWindow())return window.addEventListener("beforeunload",a.handleBeforeUnload,!0),void e(!0);h.sendMessage({id:f.CHECK_ANALYSIS_REQUIRED},e)},a._setAjaxParseRetryInfo=function(){var e;u(a._parsePreference)||(e=a._parsePreference.getAjaxParseRetryInfo(),m(e)&&2===e.length&&(a._eventObjectRetryIteration=e[0],a._eventObjectRetryTimeout=e[1]))},a._callAnalyzePageInIntervals=function(){a._timerId=setInterval(function(){if(a._isBeingCalledInIntervals){if(a._retryIteration<=0)return clearInterval(a._timerId),void(a._timerId=0);a._retryIteration--}else a._isBeingCalledInIntervals=!0,a._retryIteration--;a.analyzePage()},a._retryTimeOut)},a._eventObjectTimerId=0,a._isEventObjectBeingCalledInIntervals=!1,a._eventObjectRetryIteration=0,a._eventObjectRetryTimeout=0,a._callEventObjectAnalyzePageInIntervals=function(){!0!==a._disableAjaxSupport&&(0!==a._eventObjectTimerId&&(clearInterval(a._eventObjectTimerId),a._eventObjectTimerId=0),a._eventObjectTimerId=setInterval(function(){if(a._isEventObjectBeingCalledInIntervals){if(a._eventObjectRetryIteration<=0&&0!==a._eventObjectTimerId)return clearInterval(a._eventObjectTimerId),a._eventObjectTimerId=0,void a._setAjaxParseRetryInfo();a._eventObjectRetryIteration--}else a._isEventObjectBeingCalledInIntervals=!0,a._eventObjectRetryIteration--;a.analyzePage()},a._eventObjectRetryTimeout))},a._triggerAjaxRetry=function(){var e={id:f.TRIGGER_AJAX_PARSE_RETRY};h.sendMessage(e)},a._handleMessage=function(e,t,r){if(!u(e)&&!u(e.id))switch(e.id){case f.TRIGGER_AJAX_PARSE_RETRY_RESPONSE:!0===a._analysisDone&&a._callEventObjectAnalyzePageInIntervals();break;case f.TRIGGER_FORCED_WAX_ANALYSIS:a._forceWAXAnalysis()}},a._forceWAXAnalysis=function(){(u(s.formDataPromise)||g)&&(s.formDataPromise=null,a.init().catch(function(e){E.info(e)}))},a._addEventObjectSubmitListener=function(e){e.forEach(function(e){e.removeEventObjectSubmitEvent(),e.addEventObjectSubmitListener(a._triggerAjaxRetry)})},a._fieldsFoundCallback=null,a._fieldsFilter=null,a.registerFieldsFoundCallback=function(e,t){if(!T(e))throw new Error("Invalid Callback function");a._fieldsFoundCallback=e,a._fieldsFilter=_.fieldFilter.type[t]||_.fieldFilter.type.ALL},a._processFieldsFoundCallback=function(e){if(!u(e)&&T(a._fieldsFoundCallback)){let i=[];e.forEach(function(t){if(!c(t)){let e=t.getFieldMapping();var r;a._fieldsFilter===_.fieldFilter.type.CATEGORIZED_INPUT_FIELDS?(r=e.filter(e=>e instanceof o.WaxInputField||e instanceof o.WaxSelectField),i.push(...r)):a._fieldsFilter===_.fieldFilter.type.CATEGORIZED_INPUT_AND_NONINPUT_FIELDS?(r=t.getHtmlForm(),p(r)?i.push(...e):(t=e.filter(e=>e._fieldType!==_.fieldType.UNKNOWN),i.push(...t))):i.push(...e)}}),a._fieldsFoundCallback(i)}},a.analyzePage=function(){E.debug("WAX main analyzePage");var e=t.doParse(a._formData);u(e)?E.info("We could not parse the page"):(p(a._rule)&&(o.rulesEngine.applyPostParseRule(a._rule,e),E.debug("[Postparse] Apply custom post parse rule for this page.")),0<(a._parsePreference.getRegexEnabledFields()||[]).length&&a.useIntensePatternMatching(!0),a._fieldMappingResults=r.processPage(e,a._formData,a._useIntensePatternMatching),n.processPage(a._fieldMappingResults,a._formData),a._processFieldsFoundCallback(a._fieldMappingResults),a._groupCategorizationResults=l.processPage(a._fieldMappingResults,a._formData),a._processGroupCategorizationResults(),a._analysisDone=!0,a._endTime=Date.now(),0===a._retryIteration||a._isBeingCalledInIntervals||a._callAnalyzePageInIntervals(),a._pageShowEventAdded||(a._pageShowEventAdded=!0,window.addEventListener("popstate",function(e){a._setAjaxParseRetryInfo(),a._loadParseRetryInfo(),a.analyzePage()})))},a._loadParseRetryInfo=function(){var e=a._parsePreference.getParseRetryInfo();m(e)&&2===e.length&&(a._retryIteration=e[0],a._retryTimeOut=e[1])},a._processGroupCategorizationResults=function(){var e=_.performanceReporter.TYPE.PROCESS_GROUP_CATEGORIZATION_RESULTS+":"+Date.now();if(y.reportStart(_.performanceReporter.COMPONENT.WAX,e),u(a._groupCategorizationResults))throw new Error("Group categorizations results are Null");if(0===a._formsFoundCallbackArray.length)throw new Error("Should have at least one callback");0<a._parsedWaxDoms.length&&a._removeFormSubmitEventListeners();var t=a._groupCategorizationResults;a._parsedWaxDoms=[],a._addEventObjectSubmitListener(t);for(var r=0;r<t.length;r++){var i=t[r],n=i.getTopRankedFormType();a.createFormObject(i,n)}y.reportEnd(_.performanceReporter.COMPONENT.WAX,e),a._triggerFormsFound(a._parsedWaxDoms)},a._removeFormSubmitEventListeners=function(){a._parsedWaxDoms.forEach(function(e){e.unregisterFormSubmitEvent()})},a._processSubmittedForm=function(t){e.isWaxForm(t)&&(t.captureData(),a._formSubmittedCallbackArray.forEach(function(e){try{e(t)}catch(e){E.info(e)}}))},a._formsFoundCallbackArray=[],a._triggerFormsFound=function(t){a._formsFoundCallbackArray.forEach(e=>{try{e(t)}catch(e){E.info(e)}})},a.registerFormsFound=function(e){if(!T(e))throw new Error("Invalid Callback function");a._formsFoundCallbackArray.push(e)},a._formSubmittedCallbackArray=[],a.registerFormSubmitted=function(e){if(!T(e))throw new Error("Invalid Callback function");a._formSubmittedCallbackArray.push(e)},a._useIntensePatternMatching=!1,a.useIntensePatternMatching=function(e){if(!d(e))throw new Error("Invalid useIntensePatternMatching argument");a._useIntensePatternMatching=e},a}(e.SymBfw,e.SymWax)}(window),function(e){"use strict";e.SymWax.waxFormChangeHandler=function(e,t){const{utils:i,logger:s}=e,{WaxForm:l,constants:r,utils:n}=t,{isFunction:u,isNil:o,isArray:p,isString:a}=i,d=r["formEvents"]["ALL_FORM_ELEMENTS_REMOVED"],E={attributes:!1,subtree:!0,childList:!0},T=r.DATA_NLOCK_REF_GUID;return new class{constructor(){this.registerForChange=this.registerForChange.bind(this),this.doesFormExist=this.doesFormExist.bind(this)}_getCategorizedHTMLElements(e){const t=e.getCategorizedWaxFields();if(0!==t.length)return t.map(e=>e.getElement())}doesFormExist(e){if(!(e instanceof l))throw new Error("waxForm has to be of type WaxForm");e=this._getAllReferenceGuidsOnForm(e).map(e=>`[${T}='${e}']`).join(",");return this._doesElementsExist(e)}_doesElementsExist(e){if(!a(e)||0===e.length)return s.error("refGuidsSelector should be a valid string"),!0;e=document.querySelectorAll(e);return 0!==e.length&&!Array.from(e).every(e=>!n.isElementVisible(e))}_setReferenceGuidsOnTargetElements(r){const e=Array(r.length).fill(0).map(i.createNewGuid);e.forEach((e,t)=>{r[t].setAttribute(T,e)})}_getAllReferenceGuidsOnForm(e){const t=this._getCategorizedHTMLElements(e);return o(t)?[]:t.filter(e=>e.hasAttribute(T)).map(e=>e.getAttribute(T))}registerForChange({waxForm:e,callback:t}){if(!(e instanceof l))throw new Error("waxForm has to be of type WaxForm");if(!u(t))throw new Error("callback has to be of type Function");var r=this._getCategorizedHTMLElements(e).filter(e=>!e.hasAttribute(T));if(!p(r)||0==r.length)return void s.debug("WaxSLD:: Either already registred or doesnt require registration");this._setReferenceGuidsOnTargetElements(r);const i=this._getAllReferenceGuidsOnForm(e).map(e=>`[${T}='${e}']`).join(","),n=e.getFormType();let o=0;const a=new MutationObserver(()=>{0!==o&&clearTimeout(o),o=setTimeout(()=>{this._onElementsChange.bind(this,{refGuidsSelector:i,callback:()=>{a.disconnect(),t({type:d,formType:n})}})(),o=0},500)});e.addObserverToForm(a,E)}_onElementsChange({refGuidsSelector:e,callback:t}){this._doesElementsExist(e)||t()}}}(e.SymBfw,e.SymWax)}(window),function(e){"use strict";e.SymWax.IFormSubmissionClient=(e.SymBfw,e.SymWax,class{onLoginFormSubmission(e,t){throw new Error("Should be implemented by derived object")}async processSubmissionPayload(e){throw new Error("Should be implemented by derived object")}getConfig(){throw new Error("Should be implemented by derived object")}})}(window),function(e){"use strict";e.SymWax.waxFormSubmissionHandlerCS=function(e,t){const{extensionAdapter:n,utils:r,logger:o}=e,{isString:i,isArray:a,isntNil:s,isNil:l,isObject:u}=r,{constants:p,utils:d,main:E,waxFormChangeHandler:T}=t,{messages:_,groupType:f,formEvents:{FORMS_FOUND:c,FORM_SUBMIT:m,ALL_FORM_ELEMENTS_REMOVED:h}}=p,{LOGIN:y,PARTIAL_LOGIN:g,INTERACTION_PAGE:A}=f,{isWaxLoginForm:N,isWaxForm:R}=d,F=[y,g],I=[...F,A],O=e=>i(e)&&0<e.trim().length;return new class{constructor(){this._formSubmissionClient=null,this._handleFormsFound=this._handleFormsFound.bind(this),this._handleFormSubmit=this._handleFormSubmit.bind(this),this._isAlreadyFoundForm=this._isAlreadyFoundForm.bind(this),this._handleMessage=this._handleMessage.bind(this),this._initListeners()}_getPrimaryLoginForm(e){const t=e.filter(N).reverse();if(0!==t.length){if(1===t.length)return t[0];e=t.filter(e=>e.isFormComplete());return(0<e.length?e:t)[0]}}_isAlreadyFoundForm(e){const t=e.getCategorizedWaxFields();return 0!==t.length&&t.map(e=>e.getElement()).every(e=>e.hasAttribute(p.DATA_NLOCK_REF_GUID))}_doesPasswordFieldExist(e){const t=e.getCategorizedWaxFields();return 0!==t.length&&t.map(e=>e.getFieldType()).includes(p.fieldType.PASSWORD)}_isCompletionStepPartialLoginForm(e){return!!this._doesPasswordFieldExist(e)}_handleLoginFormFound(e,t){e=this._getPrimaryLoginForm(e);if(this._isAlreadyFoundForm(e))o.debug("WaxSLD:: Already found form");else{var r=t.includes(g),i={id:c,payload:{senderURL:document.URL,formTypes:t}};if(T.registerForChange({waxForm:e,callback:this._handleFormChange}),!r)return n.sendMessage(i),void o.debug("WaxSLD:: Complete Login form found");this._isCompletionStepPartialLoginForm(e)||(r=t.indexOf(g),t.splice(r,1),o.debug("WaxSLD:: Filtering intermittent login form")),0!==t.length&&(n.sendMessage(i),o.debug("WaxSLD:: Discarding subscription form"))}}_handleFormsFound(e){if(a(e)&&0!==e.length&&e.every(R)){const r=e.map(e=>e.getFormType());var t;if(r.some(e=>I.includes(e)))return t={id:c,payload:{senderURL:document.URL,formTypes:r}},r.some(e=>F.includes(e))?void this._handleLoginFormFound(e,r):(n.sendMessage(t),void o.debug("WaxSLD:: Interactive form found"));o.debug("WaxSLD:: Potential form doesn't exist")}}_handleFormSubmit(e){N(e)&&this._handleLoginFormSubmit(e)}_handleLoginFormSubmitForIframe(e){}async _handleLoginFormSubmit(t){var r={username:t.getUsername(),password:t.getPassword()},e=O(r.username),i=O(r.password),t=t["_formType"];if(t!==y||e&&i)if(t!==g||e||i){let e={senderURL:document.URL,formType:t,loginInfo:r};s(this._formSubmissionClient)&&(e=await this._formSubmissionClient.processSubmissionPayload(e)),l(e)?o.error("Got nil payload from formSubmissionClient"):n.sendMessage({id:m,payload:e})}else o.debug("WaxSLD:: Not saving credentials as both the fields are empty");else o.debug("WaxSLD:: Not saving credentials as username or password field is empty")}_handleFormChange(e){e.type===h&&(e={id:h,payload:{senderURL:document.URL,formType:e.formType}},n.sendMessage(e))}_doesCompletionStepLoginFormExist(){var e=E.getParsedWaxDoms();if(0===e.length)return!1;e=this._getPrimaryLoginForm(e);return!l(e)&&(!!this._isCompletionStepPartialLoginForm(e)&&T.doesFormExist(e))}_handleFormExist(e,t){e===y?t(this._doesCompletionStepLoginFormExist()):t(!1)}_handleMessage(e,t){if(!l(e)&&!l(e.id)&&u(e.payload))return e.id===_.DOES_FORM_EXIST?(this._handleFormExist(e.payload.formType,t),!0):void 0}registerFormSubmissionClient(e){if(!(e instanceof t.IFormSubmissionClient))throw new Error("formSubmissionClient has to be of type IFormSubmissionClient");this._formSubmissionClient=e}_initListeners(){E.registerFormsFound(this._handleFormsFound),E.registerFormSubmitted(this._handleFormSubmit),n.addContentScriptMessageListener(this._handleMessage)}}}(e.SymBfw,e.SymWax)}(window),function(e){"use strict";e.SymWax.WaxChangePasswordForm=function(e,r){const t=r.utils.isWaxField,o=e.utils.isntNil,i=r.constants,n=(r.utils.isInputElement,r.utils,e.logger),a=e.utils.isNil,s=e.utils.isString,l=e.utils.isFunction;function u(e,t){r.WaxForm.call(this,e,t),this._password=null,this._newPasswordWaxField=null,this._confirmPasswordWaxField=null,this._vaultItemID=null,this._formFiller=r.formFiller}var p=null;return(u.prototype=Object.create(r.WaxForm.prototype)).init=function(){var t,r=this._waxDom.getCategorizedWaxFields();for(t in r){let e=r[t];switch(e.getFieldType()){case i.fieldType.NEW_PASSWORD:case i.fieldType.PASSWORD:this.setNewPasswordWaxField(e);break;case i.fieldType.VERIFY_PASSWORD:this.setConfirmPasswordWaxField(e)}}this.registerFormSubmitEvent(r),this._setInputElementForPopup(),this._addFormSubmitListener(),o(this._newPasswordWaxField)&&n.debug("Field Type for Number : "+this._newPasswordWaxField.getFieldType()+"\n"),o(this._confirmPasswordWaxField)&&n.debug("Field Type for Name : "+this._confirmPasswordWaxField.getFieldType()+"\n")},u.prototype.getNewPasswordWaxField=function(){return this._newPasswordWaxField},u.prototype.setNewPasswordWaxField=function(e){if(!t(e))throw new Error("waxField must be a wax field");this._newPasswordWaxField=e},u.prototype.getConfirmPasswordWaxField=function(){return this._confirmPasswordWaxField},u.prototype.setConfirmPasswordWaxField=function(e){if(!t(e))throw new Error("waxField must be a wax field");this._confirmPasswordWaxField=e},u.prototype.getPassword=function(){return this._password},u.prototype.setPassword=function(e){if(!s(e))throw new Error("Password must be a string");this._password=e},u.prototype.getVaultItemId=function(){return this._vaultItemID},u.prototype.setVaultItemID=function(e){if(!s(e))throw new Error("VaultItemId must be a string");this._vaultItemID=e},u.prototype._getInputElementsForPopup=function(){let e=[];var t;return o(this._newPasswordWaxField)&&(t=this._newPasswordWaxField.getElement(),o(t)&&e.push(this._newPasswordWaxField)),o(this._confirmPasswordWaxField)&&(t=this._confirmPasswordWaxField.getElement(),o(t)&&e.push(this._confirmPasswordWaxField)),e},u.prototype.getFieldsForStyling=function(){var e=[this._newPasswordWaxField,this._confirmPasswordWaxField];return this.removeHiddenFields(e)},u.prototype.isFormComplete=function(){return!a(this._newPasswordWaxField)||!a(this._confirmPasswordWaxField)},u.prototype.fillForm=function(e,t){if(a(e)||a(e.result.password))return!1;if(!l(t))return!1;var r=o(this._newPasswordWaxField),i=o(this._confirmPasswordWaxField);if(!r&&!i)return!1;let n=!0;return r&&(this.setPassword(e.result.password),n=this._newPasswordWaxField.fill(this._password,t)),i&&(this.setPassword(e.result.password),n=n&&this._confirmPasswordWaxField.fill(this._password,t)),p=e.itemId,n},u.prototype.getFieldsVisibility=function(){var e=[this._newPasswordWaxField,this._confirmPasswordWaxField];return this._getFieldsVisibility(e)},u.prototype.captureData=function(){var e=this.getNewPasswordWaxField();a(e)||(e=e.getElement(),a(e)||(e=e.value,s(e)&&this.setPassword(e),o(p)&&(this.setVaultItemID(p),p=null)))},u}(e.SymBfw,e.SymWax)}(window);