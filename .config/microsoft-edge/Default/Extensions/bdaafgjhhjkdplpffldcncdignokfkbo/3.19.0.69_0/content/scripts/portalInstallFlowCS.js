!function(e){"use strict";(e.NSSS=e.NSSS||{}).portalInstallFlowCS=function(t,e){var n=e.NSSSHelper.getCurrentWindowLocation();if(e.NSSSHelper.isLandingPageURL(n)){let a={},s=t.utils.isNil;const{uiConstants:{MESSAGES:o},NSSSHelper:r}=e;return a.constants={loadStr:"load",closeStr:"close"},a._handleLoadEvent=e=>{var n={name:o.LOAD_STORE_URL,message:e};t.utils.isStorePageURL(e)?(t.extensionAdapter.sendMessage(n),t.globals.BROWSER!==t.constants.BROWSER_TYPE.EDGE_CHROMIUM&&window.removeEventListener("message",a._handleEventFromPortal)):r.isChromeInterstitialPageURL(e)?t.extensionAdapter.sendMessage(n):window.removeEventListener("message",a._handleEventFromPortal)},a._handleCloseEvent=()=>{t.extensionAdapter.sendMessage({name:o.CLOSE_STORE_PAGE}),t.globals.BROWSER!==t.constants.BROWSER_TYPE.EDGE_CHROMIUM&&window.removeEventListener("message",a._handleEventFromPortal)},a._handleEventFromPortal=e=>{if(r.isLandingPageURL(e.origin)&&!s(e.data)){var n=a.constants;switch(e.data.action){case o.LOAD_STORE_URL:case n.loadStr:var t=e.data.url;if(s(t))return;a._handleLoadEvent(t);break;case o.CLOSE_STORE_PAGE:case n.closeStr:a._handleCloseEvent()}}},a}}(e.SymBfw,e.NSSS)}(executionContext),window.addEventListener("message",NSSS.portalInstallFlowCS._handleEventFromPortal);