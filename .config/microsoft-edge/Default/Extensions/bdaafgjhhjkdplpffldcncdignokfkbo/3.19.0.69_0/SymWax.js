!function(e){"use strict";(e.SymWax=e.SymWax||{}).constants=function(){var e={requestType:{},header:{},contentType:{},IN_PAGE_POPUP:"symc-in-page-popup",DEFAULT_XHR_TIMEOUT:6e4};e.requestType.GET_METHOD="GET",e.contentType.JSON="application/json",e.header.CONTENT_TYPE="Content-Type",e.DEFAULT_PARSINGPREFERENCES="DefaultParsingPreferences",e.DOMAIN_RULES="DomainRules",e.URL_RULES="UrlRules",e.COUNTRIES="Countries",e.COUNTRY_DATA="CountryData",e.DATA="data",e.DATA_TYPE="datatype",e.COUNTRY_ATTRIBUTE="CountryAttribute",e.DOMAIN="Domain",e.LANGUAGES="Languages",e.DOMAIN_MATCH="/",e.FIELD_TYPE="fieldType",e.RULES="rules",e.FORM_SUBMIT_TIMEOUT=100,e.EVENT_OBJECT_SUBMIT_TIMEOUT=100,e.PATTERN="pattern",e.REGEX="regEx",e.MAX_STRING_LENGTH_FOR_REGEX=200,e.NORMALIZE_URL="normalizeUrl",e.ORIGINAL_URL="org",e.NORMALIZED_URL="nor",e.PROXIMITY_THRESHOLD_X=70,e.PROXIMITY_THRESHOLD_Y=50,e.rules={PRE_PARSE:"preparse",POST_PARSE:"postparse",SCRIPTS:"scripts",ON_FILL:"onfill",FETCH_CREDENTIALS:"fetchcredentials",ON_FIELD_FOUND:"onfieldfound",AFTER_FILL:"afterfill",BEFORE_FILL:"beforefill",OPERATION:"Operation",PROPERTY:"Property",DOM_METHOD:"DomMethod",EXECUTION_CONTEXT:"ExecutionContext",DELAY:"Delay",EVENT_NAME:"EventName",SET_TIMEOUT:"setTimeout",SET_INTERVAL:"setInterval",RETRY_ITERATION:"RetryIteration",operation:{CALL_JAVA_SCRIPT:"calljavascript",FILL_EX:"fillex",FIELD_MAPPING:"FieldMapping",GROUP_MAPPING:"GroupMapping",UPDATE_ATTRIBUTE:"updateAttribute",FETCH_DATA:"fetchData",SPLIT_FILL:"splitFill",CLICK:"Click",CUSTOM_FILL:"CustomFill",ADD_EVENT_LISTENER:"addEventListener"},property:{NAME:"name",ATTRIBUTES:"attributes",FIELD_TYPE:"FieldType",INPUT_TYPE:"InputType",LOGIN_TYPE:"LoginType",GROUP_TYPE:"GroupType"},domMethod:{GET_ELEMENT_BY_ID:"getElementById",GET_ELEMENT_BY_NAME:"getElementsByName",QUERY_SELECTOR_ALL:"querySelectorAll",QUERY_SELECTOR:"querySelector"},SUBMIT_EVENTS:"SubmitEvents"},e.PREFERENCES="preferences",e.URL_BASED_DATA="urlBasedData",e.GLOBAL_DATA="globalData",e.messages={GET_URL_DATA:"F1F837B8-DC04-478A-C9EB-45F87DD3B88F",TRIGGER_AJAX_PARSE_RETRY:"BEE46703-475E-411B-C6CD-6331AC68CB18",TRIGGER_AJAX_PARSE_RETRY_RESPONSE:"30220307-AB5C-45DA-F586-37894089452E",TRIGGER_FORCED_WAX_ANALYSIS:"577408EC-2807-49D8-B479-E91120B89183",CHECK_ANALYSIS_REQUIRED:"11A574D4-6B97-45D1-BFFE-F23A3036C829",TOP_FRAME_UNLOAD_EVENT:"282955FF-C442-4AD4-A28F-1FA4F6183400",SEND_WAX_TELEMETRY_TO_BG:"319e4246-a421-4a7b-bfa7-faaa7681e45b",SEND_WAX_TELEMETRY_TO_BFW:"0e72ba18-d35c-43e5-a025-91afb1132866",DOES_FORM_EXIST:"4479A99F-4C87-4568-A855-2B133E24A442"},e.NO_THRESHOLD_CHECK_VALUE=-1,e.htmlTagName={A:"A",BODY:"BODY",BUTTON:"BUTTON",DIV:"DIV",FIELDSET:"FIELDSET",HEAD:"HEAD",IFRAME:"IFRAME",IMG:"IMG",FORM:"FORM",INPUT:"INPUT",LABEL:"LABEL",META:"META",NOSCRIPT:"NOSCRIPT",OPTION:"OPTION",P:"P",SCRIPT:"SCRIPT",SELECT:"SELECT",SPAN:"SPAN",TABLE:"TABLE",TD:"TD",TEXTAREA:"TEXTAREA",TH:"TH",THEAD:"THEAD",TITLE:"TITLE",TR:"TR",B:"B",I:"I",U:"U",LI:"LI",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",FONT:"FONT",STRONG:"STRONG",EM:"EM"},e.htmlElementAttributes={ACTION:"action",ALT:"alt",CLASS:"class",CHECKED:"checked",FOR:"for",FORM:"form",FORMACTION:"formaction",ID:"id",NAME:"name",PLACEHOLDER:"placeholder",READONLY:"readonly",SRC:"src",TYPE:"type",TITLE:"title",VALUE:"value"},e.inputType={UNKNOWN:"Unknown",TEXT:"Text",TEXTAREA:"Textarea",PASSWORD:"Password",SUBMIT:"Submit",IMAGE:"Image",BUTTON:"Button",CHECKBOX:"Checkbox",RADIO:"Radio",RESET:"Reset",FILE:"File",HIDDEN:"Hidden",SELECT:"Select",EVENT_OBJECT:"EventObject",TELEPHONE:"tel",NUMBER:"number",CUSTOM_FILL:"CustomFill"},e.patternTokens={DAY:"dd",MONTH:"mmm",YEAR:"yyyy",PREFIX:"p",SUFFIX:"s",FIRST_NAME:"fn",MIDDLE_NAME:"mn",LAST_NAME:"ln",CARD_NUMBER:"cc",UNKNOWN:"x",IGNORE:"xx"},e.fieldType={ALL:"All",UNKNOWN:"Unknown",LOGIN_NAME:"LoginName",PASSWORD:"Password",PASSWORD_PLACEHOLDER:"PasswordPlaceHolder",VERIFY_PASSWORD:"VerifyPassword",PASSWORD_HINT:"PasswordHint",LOGIN_BUTTON:"LoginButton",SIGNUP_BUTTON:"SignUpButton",CONTINUE_BUTTON:"ContinueButton",SIGNON_DESTINATION:"SignonDestination",EMAIL:"Email",VERIFY_EMAIL:"VerifyEmail",ALTERNATE_EMAIL:"AlternateEmail",FULL_NAME:"FullName",FIRST_NAME:"FirstName",LAST_NAME:"LastName",MIDDLE_NAME:"MiddleName",PREFIX:"Prefix",SUFFIX:"Suffix",FULL_NAME_PHONETIC:"FullNamePhonetic",FIRST_NAME_PHONETIC:"FirstNamePhonetic",LAST_NAME_PHONETIC:"LastNamePhonetic",MIDDLE_NAME_PHONETIC:"MiddleNamePhonetic",FULL_NAME_ROMAN:"FullNameRoman",FIRST_NAME_ROMAN:"FirstNameRoman",LAST_NAME_ROMAN:"LastNameRoman",MIDDLE_NAME_ROMAN:"MiddleNameRoman",SSN:"SSN",ADDRESS:"Address",ADDRESS_LINE2:"AddressLine2",ADDRESS_LINE3:"AddressLine3",ADDRESS_PHONETIC:"AddressPhonetic",ADDRESS_LINE2_PHONETIC:"AddressLine2Phonetic",ADDRESS_LINE3_PHONETIC:"AddressLine3Phonetic",CITY:"City",CITY_PHONETIC:"CityPhonetic",ZIP_CODE:"ZipCode",STATE:"State",REGION:"Region",HOUSE_NUMBER:"HouseNumber",HOUSE_NAME:"HouseName",VILLAGE:"Village",SUB_AREA:"SubArea",BLOCK_NUMBER:"BlockNumber",DISTRICT:"District",APARTMENT_NUMBER:"ApartmentNumber",APARTMENT_FLOOR:"ApartmentFloor",SUITE_NUMBER:"SuiteNumber",BIRTH_DATE:"BirthDate",BIRTH_DAY:"BirthDay",BIRTH_MONTH:"BirthMonth",BIRTH_YEAR:"BirthYear",DATE:"Date",DAY:"Day",MONTH:"Month",YEAR:"Year",ACCOUNT_NUMBER:"AccountNumber",PIN:"Pin",ROUTING_NUMBER:"RoutingNumber",PHONE_NUMBER_COUNTRY_CODE:"PhoneNumberCountryCode",PHONE_NUMBER_AREA_CODE:"PhoneNumberAreaCode",PHONE_NUMBER_EXTENSION:"PhoneNumberExtension",PHONE_NUMBER:"PhoneNumber",PHONE_NUMBER_WORK:"PhoneNumberWork",PHONE_NUMBER_WORK_FAX:"PhoneNumberWorkFax",PHONE_NUMBER_HOME:"PhoneNumberHome",PHONE_NUMBER_FAX:"PhoneNumberFax",PHONE_NUMBER_CELL:"PhoneNumberCell",SECURITY_QUESTION:"SecurityQuestion",ANSWER:"Answer",GENDER:"Gender",CREDIT_CARD_HOLDER_NAME:"CreditCardHolderName",CREDIT_CARD_HOLDER_FIRST_NAME:"CreditCardHolderFirstName",CREDIT_CARD_HOLDER_LAST_NAME:"CreditCardHolderLastName",CREDIT_CARD_TYPE:"CreditCardType",CREDIT_CARD_NUMBER:"CreditCardNumber",CREDIT_CARD_EXPIRATION_DATE:"CreditCardExpirationDate",CREDIT_CARD_EXPIRATION_MONTH:"CreditCardExpirationMonth",CREDIT_CARD_EXPIRATION_YEAR:"CreditCardExpirationYear",CREDIT_CARD_SECURITY_CODE:"CreditCardSecurityCode",CREDIT_CARD_START_DATE:"CreditCardStartDate",CREDIT_CARD_START_MONTH:"CreditCardStartMonth",CREDIT_CARD_START_YEAR:"CreditCardStartYear",CREDIT_CARD_ISSUE_NUMBER:"CreditCardIssueNumber",ADD_CARD_DETAILS:"AddCard",COMPANY:"Company",DEPARTMENT:"Department",WORK_ID:"WorkId",WORK_JOB_TITLE:"WorkJobTitle",WORK_EMAIL:"WorkEmail",WORK_ADDRESS:"WorkAddress",WORK_CITY:"WorkCity",WORK_ZIP_CODE:"WorkZipCode",WORK_STATE:"WorkState",WORK_REGION:"WorkRegion",WORK_WEBSITE:"WorkWebSite",SEARCH:"Search",LANGUAGE:"Language",OPEN_ID:"OpenID",VERIFICATION_CODE:"VerificationCode",WEBSITE:"WebSite",MOTHERS_MAIDEN_NAME:"MothersMaidenName",TIMEZONE:"TimeZone",DOMAIN:"Domain",AJAX_ACTION:"AjaxAction",BUTTON_ACTION:"ButtonAction",SKIP_FIELD:"SkipField",CHANGE_PASSWORD_BUTTON:"ChangePasswordButton",SUBSCRIBE:"Subscribe",PASSPORT_NUMBER:"PassportNumber",DRIVER_LICENSE:"DriversLicense",SEARCH_ANNOTATION:"SearchAnnotation",APPLY:"Apply",UPDATE:"Update",COMMENT:"Comment",BANK_NAME:"BankName",BANK_ACCOUNT_HOLDER_NAME:"BankAccountHolderName",MAILING_ADDRESS:"MailingAddress",NEW_PASSWORD:"NewPassword",IGNORE_FIELD:"IgnoreField",GENDER_MALE:"GenderMale",GENDER_FEMALE:"GenderFemale",SEARCH_BUTTON:"SearchButton",MUTLI_SPAN_USERNAME:"MultiSpanUsername",SUBSCRIBE_BUTTON:"SubscribeButton",APPLY_BUTTON:"ApplyButton",UPDATE_BUTTON:"UpdateButton",OTP:"OTP"},e.matchProperties={INVALID:"Invalid",NAME:"Name",VALUE:"Value",CLASS:"Class",ATTACHED_TEXT:"AttachedText",ALTERNATIVE_TEXT:"Alt",ID:"ID",IMAGE_SRC:"Src",TITLE:"Title",INNER_TEXT:"InnerText",HREF:"HREF",CONTENT:"Content",FIRST_LIST_ITEM:"FirstListItem",PLACE_HOLDER:"Placeholder",TYPE:"Type"},e.eventType={ON_CLICK:"onclick",ON_SUBMIT:"onsubmit",ON_MOUSE_DOWN:"onmousedown",ON_MOUSE_UP:"onmouseup",FORM_ACTION:"formaction",COMMAND:"command",HREF:"href",ROLE:"role",CHANGE:"change",INPUT:"input",HTML_EVENTS:"HTMLEvents",EVENTS:"Events",CLICK:"click",KEYDOWN:"keydown",MOUSEDOWN:"mousedown",KEYUP:"keyup",SUBMIT:"submit",MOUSE_OVER:"mouseover",ONFOCUS:"focus"},e.groupType={UNKNOWN:"Unknown",LOGIN:"Login",MULTI_PAGE_LOGIN:"MultiPageLogin",PARTIAL_LOGIN:"PartialLogin",PARTIAL_CARDS_PAGE:"PartialCardsPage",CARDS_PAGE:"CardsPage",PERSONAL_INFO_PAGE:"PersonalInfoPage",CHANGE_PASSWORD_PAGE:"ChangePasswordPage",REGISTRATION_PAGE:"RegistrationPage",PARTIAL_REGISTRATION_PAGE:"PartialRegistrationPage",PARTIAL_CHANGE_PASSWORD_PAGE:"PartialChangePasswordPage",LIMITED_CHANGE_PASSWORD_PAGE:"LimitedChangePasswordPage",ADDRESS_PAGE:"AddressPage",INTERACTION_PAGE:"InteractionPage"},e.groupTypeRank=[e.groupType.INTERACTION_PAGE,e.groupType.REGISTRATION_PAGE,e.groupType.ADDRESS_PAGE,e.groupType.LOGIN,e.groupType.PARTIAL_LOGIN,e.groupType.MULTI_PAGE_LOGIN,e.groupType.CARDS_PAGE,e.groupType.PARTIAL_CARDS_PAGE,e.groupType.PERSONAL_INFO_PAGE,e.groupType.CHANGE_PASSWORD_PAGE,e.groupType.PARTIAL_REGISTRATION_PAGE,e.groupType.PARTIAL_CHANGE_PASSWORD_PAGE,e.groupType.LIMITED_CHANGE_PASSWORD_PAGE],e.anyFieldTypes={ANY_LOGIN_FIELD:"AnyLoginField",ANY_LOGIN_FIELD_EX:"AnyLoginFieldEx",ANY_LOGIN_BUTTON:"AnyLoginButton",ANY_CHANGE_PASSWORD_BUTTON:"AnyChangePasswordButton",ANY_LOGIN_PASSWORD_FIELD:"AnyLoginPasswordField",ANY_CHANGE_PASSWORD_FIELD:"AnyChangePasswordField"},e.loginType={USERNAME:"Username",PASSWORD:"Password",LOGIN_BUTTON:"LoginButton"},e.anyInputTypes={ANY_INPUT_BUTTON_TYPE:"AnyInputButtonType"},e.groupCategorization={MAPPING_FIELDS:"MappingFields",INPUT_FIELDS:"InputFields",GROUP_TYPE:"GroupType",FIELD_TYPE:"FieldType",INPUT_TYPE:"InputType",LOGIN_TYPE:"LoginType",PARTIAL:"Partial",LOGIN_CATEGORIZATIONS:"LoginCategorizations",PAGE_CATEGORIZATIONS:"PageCategorizations"},e.telemetry={CATEGORY:"wax",VALIDATION_TIMEOUT:300,ANALYSIS_THRESHOLD:2500,TRACKING_ID:"UA-80690213-3"},e.telemetry.config={ENABLE_TELEMETRY:"false",ENABLE_DETECTION_FAILURE_TELEMETRY:"false",ENABLE_ADDRESS_DETECTION_TELEMETRY:"false"},e.telemetry.type={FILL_FAILURE:"fillfailure",FIELD_CHANGED:"fieldchanged",FILL_SUCCESS:"fillsuccess",DETECTION_FAILURE:"detectionfailure",REG_ADDRESS_DETECTION:"regaddressdetection"},e.telemetry.parameters={TAG_NAME:"cd4",INPUT_TYPE:"cd5",ID:"cd6",NAME:"cd7",PLACE_HOLDER:"cd8",CLASS_NAME:"cd9",FIELD_INNER_TEXT:"cd10",FORM_ID:"cd11",FORM_NAME:"cd12",URL:"cd13",FORM_TYPES:"cd14"},e.parsePreferences={PARSE_CRITERIAS:"ParseCriterias",REGEX_ENABLED_FIELDS:"RegexEnabledFields"},e.fieldsCombinationMapping={[e.groupType.REGISTRATION_PAGE]:[[e.fieldType.EMAIL,e.fieldType.FIRST_NAME],[e.fieldType.FIRST_NAME,e.fieldType.LAST_NAME],[e.fieldType.EMAIL,e.fieldType.FULL_NAME],[e.fieldType.EMAIL,e.fieldType.VERIFY_EMAIL],[e.fieldType.EMAIL,e.fieldType.LOGIN_NAME],[e.fieldType.FULL_NAME,e.fieldType.LOGIN_NAME]],[e.groupType.ADDRESS_PAGE]:[[e.fieldType.ADDRESS,e.fieldType.ZIP_CODE],[e.fieldType.ADDRESS_LINE2,e.fieldType.ZIP_CODE],[e.fieldType.CITY,e.fieldType.ZIP_CODE],[e.fieldType.STATE,e.fieldType.ZIP_CODE],[e.fieldType.REGION,e.fieldType.ZIP_CODE]]},e.parseCriterias={EVENT_OBECTS:"EventObjects",IGNORE_FIELD_SETS:"IgnoreFieldSets",VERIFY_ATTRIBUTE_BY_ATTACHED_TEXT:"VerifyAttributeByAttachedText",ENABLE_SORTING:"EnableSorting",CHECK_IF_OUT_OF_BOUNDS:"CheckIfOutOfBounds",USE_PATTERN_MATCHING:"UsePatternMatching",IGNORE_HIDDEN_INPUTS:"IgnoreHiddenInputs",ALLOW_PAGE_PORT_VIEW:"AllowPagePortView",ENABLE_AJAX_SUPPORT:"EnableAjaxSupport",USE_GLOBAL_LOOKUP_CACHE:"UseGlobalLookupCache",LOGIN_EVENT_REPLAY:"LoginEventReplay",USE_GROUP_PATTERN_MATCHING:"UseGroupPatternMatching",LOGIN_THREAD_CALLBACK_REPLAY:"LoginThreadCallbackReplay",ATTACHED_TEXT_LENGTH:"AttachedTextLength",ATTACHED_TEXT_PIXEL_SIZE:"AttachedTextPixelSize",USE_REG_EX_ON_EVENT_OBJECTS:"UseRegExOnEventObjects",USE_REG_EX_ON_IMAGES:"UseRegExOnImages",IGNORE_IMAGES:"IgnoreImages",DETERMINISTIC_EVENT_REPLAY:"DeterministicEventReplay",DONT_VALIDATE_FIELD_TYPE:"DontValidateFieldType",DONT_CATEGORIZE_AS_MULTIPLE_PAGE_LOGIN:"DontCategorizeAsMultiPageLogin",VERIFY_DOCUMENT_WIDTH_AND_HEIGHT:"VerifyDocumentWidthAndHeight",INPUTS_ONLY:"InputsOnly",IGNORE_FORMS:"IgnoreForms",ADD_SHADOW_DOM_FIELDS:"AddShadowDomFields",DONT_PERFORM_GROUP_CATEGORIZE:"DontPerformGroupCategorize",DONT_PERFORM_FIELD_MAPPING:"DontPerformFieldMapping",CHROME_DONT_USE_JAVA_SCRIPT:"ChromeDontUseJavaScript",DONT_PARSE:"DontParse",CARDS_EVENT_REPLAY:"CardsEventReplay",IGNORE_FRAMEWORK_SUBMIT:"IgnoreFrameworkSubmit",SKIP_DOCS_WITH_FEW_ELEMENTS:"SkipDocsWithFewElements",ENABLE_FORM_EXIST_VALIDATION:"EnableFormExistValidation",DONT_USE_CUSTOM_SUBMIT_HOOK:"DontUseCustomSubmitHook",DONT_USE_PASSWORD_FIELD_CORRECTION:"DontUsePasswordFieldCorrection"},e.keyCode={ENTER:13},e.performanceReporter={COMPONENT:{WAX:"wax"},TYPE:{DO_PARSE:"doParse",INIT:"init",FIELD_MAPPING_PROCESS_PAGE:"fieldMappingProcessPage",FIELD_GROUP_MAPPING_PROCESS_PAGE:"fieldGroupMappingProcessPage",GROUP_CATEGORIZATION_PROCESS_PAGE:"groupCategorizationProcessPage",PROCESS_GROUP_CATEGORIZATION_RESULTS:"processGroupCategorizationResults",INIT_WITH_THRESHOLD:"waxInitWithThreshold"}},e.formDataPublicKey="-----BEGIN PUBLIC KEY----- MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA55eUNAVhz6OhVq4mWyX3 PUtVSidog8NA0k+kzYzHkc1V8wEAqIjz8ELFmeW1UcczR8gQgrCP66XuSl3D/LV6 qzY6ATCbLrvc8VPR6MG5gKEw8D6DFp2lCAeeMZncCu9jlYohjTIH6pJtN7yfLibJ 5aKlcHpE+IG5ktl9jDKEjICdA7WpcN0HXIB/7j/mSxy32GJ7tVWdGylLk6Wlf+qz YUZ3DrwxkJzMVxOm6EmROD0nVhv6gN728o0Mtl1scPgqKP4LG039eHyNV9fvDARU gWpEkzb5V+Fh/Mspz9NOQaIBEBTyxZ59wsCotRx2zNSatDlxgVOZsXvVFVC2IGEm maTyfpmwxatIBlFGQOewgX30NjVCkXSP3iQdIa7QxaAz0drvEOhNxIHCYz4SdJtt ajGipjsYKg9Sh2bDOfmWCttP2AQ7l32NtJdi9NG1dEbq2D7z4u1SH51Xy2Vm2qgb QMUXdGJGivtul32y1oNJuDMEVfJ2+St8YDEXFbFP36wxrsmXYFm0XUwk1ulREBjI HUoPEAnVONHDxFtYvo2PFDYkxctnksr+SyatlIZcVx03lG68gUOea9s6d5CDN+T/ hqMetpYpdDOwAIk5g417JMRluod7CgIK+CzZ3kdSAPjEKWH4ImP+xbpKBF2JV6Jt 6vopZeo/hiZEbsXLtDLweIECAwEAAQ== -----END PUBLIC KEY-----";const t={CDN_FORMDATA_BASE_URL:"https://static.nortoncdn.com/idsafe/waxFormdata/v1/"};return t.CDN_L10N_JSON_URL=t.CDN_FORMDATA_BASE_URL+"l10n/",t.L10N_US_CODE="us",t.MASKED_PASSWORD_CHAR=8226,e.cloudFormData=t,e.textPosition={Invalid:0,Center:1,Left:2,FarLeft:4,Top:8,Bottom:32,Right:64,FarRight:128,CenterTop:9,LeftTop:10,FarLeftTop:12,RightTop:72,FarRightTop:136,LeftCenter:3,FarLeftCenter:5,RightCenter:65,FarRightCenter:129,CenterBottom:33,LeftBottom:34,FarLeftBottom:36,RightBottom:96,FarRightBottom:160},e.elementType={Unknown:0,Label:1,TableCell:2,Header:3,Table:4,TableBody:5,TableRow:6,Input:7,TextArea:8,Button:9,Image:10,Select:11,Link:12,Container:13,SelectOption:14,Generic:15,Form:16,Comments:17,FieldSet:18},e.languageQueryParameterKeys=["lang",".lang","hl"],e.fieldTypeToPIIIdentifiers={[e.fieldType.SSN]:27,[e.fieldType.CREDIT_CARD_HOLDER_NAME]:71,[e.fieldType.CREDIT_CARD_HOLDER_FIRST_NAME]:72,[e.fieldType.CREDIT_CARD_HOLDER_LAST_NAME]:73,[e.fieldType.CREDIT_CARD_TYPE]:74,[e.fieldType.CREDIT_CARD_NUMBER]:75,[e.fieldType.CREDIT_CARD_EXPIRATION_DATE]:76,[e.fieldType.CREDIT_CARD_EXPIRATION_MONTH]:77,[e.fieldType.CREDIT_CARD_EXPIRATION_YEAR]:78,[e.fieldType.CREDIT_CARD_SECURITY_CODE]:79,[e.fieldType.CREDIT_CARD_START_DATE]:80,[e.fieldType.CREDIT_CARD_START_MONTH]:81,[e.fieldType.CREDIT_CARD_START_YEAR]:82,[e.fieldType.CREDIT_CARD_ISSUE_NUMBER]:83,[e.fieldType.LOGIN_NAME]:1,[e.fieldType.PASSWORD]:2,[e.fieldType.PASSWORD_PLACEHOLDER]:3,[e.fieldType.VERIFY_PASSWORD]:4,[e.fieldType.PASSWORD_HINT]:5,[e.fieldType.LOGIN_BUTTON]:6,[e.fieldType.SIGNUP_BUTTON]:7,[e.fieldType.CONTINUE_BUTTON]:8,[e.fieldType.SIGNON_DESTINATION]:9,[e.fieldType.EMAIL]:10,[e.fieldType.VERIFY_EMAIL]:11,[e.fieldType.ALTERNATE_EMAIL]:12,[e.fieldType.FULL_NAME]:13,[e.fieldType.FIRST_NAME]:14,[e.fieldType.LAST_NAME]:15,[e.fieldType.MIDDLE_NAME]:16,[e.fieldType.PREFIX]:17,[e.fieldType.SUFFIX]:18,[e.fieldType.FULL_NAME_PHONETIC]:19,[e.fieldType.FIRST_NAME_PHONETIC]:20,[e.fieldType.LAST_NAME_PHONETIC]:21,[e.fieldType.MIDDLE_NAME_PHONETIC]:22,[e.fieldType.FULL_NAME_ROMAN]:23,[e.fieldType.FIRST_NAME_ROMAN]:24,[e.fieldType.LAST_NAME_ROMAN]:25,[e.fieldType.MIDDLE_NAME_ROMAN]:26,[e.fieldType.ADDRESS]:28,[e.fieldType.ADDRESS_LINE2]:29,[e.fieldType.ADDRESS_LINE3]:30,[e.fieldType.ADDRESS_PHONETIC]:31,[e.fieldType.ADDRESS_LINE2_PHONETIC]:32,[e.fieldType.ADDRESS_LINE3_PHONETIC]:33,[e.fieldType.CITY]:34,[e.fieldType.CITY_PHONETIC]:35,[e.fieldType.ZIP_CODE]:36,[e.fieldType.STATE]:37,[e.fieldType.REGION]:38,[e.fieldType.HOUSE_NUMBER]:39,[e.fieldType.HOUSE_NAME]:40,[e.fieldType.VILLAGE]:41,[e.fieldType.SUB_AREA]:42,[e.fieldType.BLOCK_NUMBER]:43,[e.fieldType.DISTRICT]:44,[e.fieldType.APARTMENT_NUMBER]:45,[e.fieldType.APARTMENT_FLOOR]:46,[e.fieldType.SUITE_NUMBER]:47,[e.fieldType.BIRTH_DATE]:48,[e.fieldType.BIRTH_DAY]:49,[e.fieldType.BIRTH_MONTH]:50,[e.fieldType.BIRTH_YEAR]:51,[e.fieldType.DATE]:52,[e.fieldType.DAY]:53,[e.fieldType.MONTH]:54,[e.fieldType.YEAR]:55,[e.fieldType.ACCOUNT_NUMBER]:56,[e.fieldType.PIN]:57,[e.fieldType.ROUTING_NUMBER]:58,[e.fieldType.PHONE_NUMBER_COUNTRY_CODE]:59,[e.fieldType.PHONE_NUMBER_AREA_CODE]:60,[e.fieldType.PHONE_NUMBER_EXTENSION]:61,[e.fieldType.PHONE_NUMBER]:62,[e.fieldType.PHONE_NUMBER_WORK]:63,[e.fieldType.PHONE_NUMBER_WORK_FAX]:64,[e.fieldType.PHONE_NUMBER_HOME]:65,[e.fieldType.PHONE_NUMBER_FAX]:66,[e.fieldType.PHONE_NUMBER_CELL]:67,[e.fieldType.SECURITY_QUESTION]:68,[e.fieldType.ANSWER]:69,[e.fieldType.GENDER]:70,[e.fieldType.COMPANY]:84,[e.fieldType.DEPARTMENT]:85,[e.fieldType.WORK_ID]:86,[e.fieldType.WORK_JOB_TITLE]:87,[e.fieldType.WORK_EMAIL]:88,[e.fieldType.WORK_ADDRESS]:89,[e.fieldType.WORK_CITY]:90,[e.fieldType.WORK_ZIP_CODE]:91,[e.fieldType.WORK_STATE]:92,[e.fieldType.WORK_REGION]:93,[e.fieldType.WORK_WEBSITE]:94,[e.fieldType.SEARCH]:95,[e.fieldType.LANGUAGE]:96,[e.fieldType.OPEN_ID]:97,[e.fieldType.VERIFICATION_CODE]:98,[e.fieldType.WEBSITE]:99,[e.fieldType.MOTHERS_MAIDEN_NAME]:100,[e.fieldType.TIMEZONE]:101,[e.fieldType.DOMAIN]:102,[e.fieldType.AJAX_ACTION]:103,[e.fieldType.SKIP_FIELD]:104,[e.fieldType.IGNORE_FIELD]:124,[e.fieldType.GENDER_MALE]:155,[e.fieldType.GENDER_FEMALE]:156,[e.fieldType.SEARCH_BUTTON]:157,[e.fieldType.MUTLI_SPAN_USERNAME]:158},e.fieldFilter={},e.fieldFilter.type={ALL:"ALL",CATEGORIZED_INPUT_FIELDS:"CATEGORIZED_INPUT_FIELDS",CATEGORIZED_INPUT_AND_NONINPUT_FIELDS:"CATEGORIZED_INPUT_AND_NONINPUT_FIELDS"},e.tabStatus={COMPLETE:"complete",LOADING:"loading"},e.formEvents={FORMS_FOUND:"4AF4F7BD-9AB6-4308-9C68-420FAAE6177C",FORM_SUBMIT:"F5B47B7B-C96E-48F1-AC71-C71F31435965",ALL_FORM_ELEMENTS_REMOVED:"415DA29C-3871-45AF-8321-D08B644B0809"},e.DATA_NLOCK_REF_GUID="data-nlok-ref-guid",e.WAX_JSON_DOWNLOAD="wax-json-download",e.WAX_JSON_DOWNLOAD_RETRY="wax-json-download-retry",e.WAX_RULES_DOWNLOAD_INTERVAL=864e5,e.WAX_RULES_RETRY_INTERVAL=18e5,e.WAX_STORAGE_CONTAINER="10a259c2-f812-4c39-9516-2a513734e1d5",e.MILLISECONDS_MINUTES_CONVERSION=6e4,e.WAX_STORAGE={WAX_STORAGE_CONTAINER:"10a259c2-f812-4c39-9516-2a513734e1d5",WAX_RULES_DOWNLOAD_TIMESTAMP:"wax_rules_download_timestamp",PARSE_PREFERENCE_JSON:"parse_preference_json",RULES_JSON:"rules_json",DOMAINS_DATA:"domains_data",GLOBAL_JSON:"global_json",URL_BASED_DATA:"url_based_data"},e}(e.SymWax)}(window),function(e){const{settings:t,utils:{isntNil:n}}=SymBfw,a=SymWax["constants"];e.SymWax.storageContainer=new class{constructor(){this._container=null}initialize(){return new Promise((r,i)=>{if(n(this._container))return r(!0);t.loadSettingsContainer(a.WAX_STORAGE.WAX_STORAGE_CONTAINER,!0,(e,t,n)=>{!1!==e&&t?(this._container=t,r(!0)):i(n)})})}_isStorageInitialized(){return!!this._container}getValue(e){if(this._isStorageInitialized())return this._container.getObject(e)}setValue(e,t){this._isStorageInitialized()&&this._container.setObject(e,t)}},SymWax.storageContainer.initialize()}(window),function(e){const{logger:t,utils:{isNumber:n,isObject:r}}=SymBfw,{constants:i,storageContainer:a}=SymWax;e.SymWax.storageUtils=new class{setRulesDownloadedTimeStamp(e){n(e)&&a.setValue(i.WAX_STORAGE.WAX_RULES_DOWNLOAD_TIMESTAMP,e)}getRulesDownloadedTimeStamp(){return a.getValue(i.WAX_STORAGE.WAX_RULES_DOWNLOAD_TIMESTAMP)}getParsePreferenceJson(){return a.getValue(i.WAX_STORAGE.PARSE_PREFERENCE_JSON)}setParsePreferenceJson(e){r(e)?a.setValue(i.WAX_STORAGE.PARSE_PREFERENCE_JSON,e):t.debug("Parse Preferences are not in valid format")}getRulesJson(){return a.getValue(i.WAX_STORAGE.RULES_JSON)}setRulesJson(e){r(e)?a.setValue(i.WAX_STORAGE.RULES_JSON,e):t.debug("Rules are not in valid format")}getDomainsData(){return a.getValue(i.WAX_STORAGE.DOMAINS_DATA)}setDomainsData(e){r(e)?a.setValue(i.WAX_STORAGE.DOMAINS_DATA,e):t.debug("Domains data are not in valid format")}getGlobalJson(){return a.getValue(i.WAX_STORAGE.GLOBAL_JSON)}setGlobalJson(e){r(e)?a.setValue(i.WAX_STORAGE.GLOBAL_JSON,e):t.debug("Global Json are not in valid format")}getUrlBasedData(){return a.getValue(i.WAX_STORAGE.URL_BASED_DATA)}setUrlBasedData(e){r(e)?a.setValue(i.WAX_STORAGE.URL_BASED_DATA,e):t.debug("url based Data not in valid format")}}}(window),function(e){"use strict";function t(e){if(r(e))throw new Error("jsonParsePreference object cannot be null");this._languages=e.Languages,this._overwriteRule=e.OverwriteRule,this._matchFullURLPath=e.MatchFullURLPath,this._parseCriterias=e.ParseCriterias,this._parseCriteriasEx=e.ParseCriteriasEx,this._eventTypes=e.EventTypes,this._matchingProperties=e.MatchingProperties,this._initialParseDelay=e.InitialParseDelay,this._parseRetryInfo=e.ParseRetryInfo,this._ajaxParseRetryInfo=e.AjaxParseRetryInfo,this._signonDestinations=e.SignonDestinations,this._stringPixelSize=e.StringPixelSize,this._regexEnabledFields=e.RegexEnabledFields,this._browsers=e.Browsers,this._groupSeperatorWidth=e.GroupSeperatorWidth,this._mutationObserverTargetElement=e.MutationObserverTarget,this._customEventsAfterFill=e.CustomEventsAfterFill,this._shadowDomTargetElements=e.ShadowDomTargets}var n,r;e.SymWax.ParsePreference=(n=e.SymBfw,e.SymWax,r=n.utils.isNil,n.utils.isntNil,n.utils.isArray,t.prototype.isOverwriteRuleAvailable=function(){return this._overwriteRule},t.prototype.isMatchFullURLPathPresent=function(){return this._matchFullURLPath},t.prototype.getMutationObserverTargetElement=function(){return this._mutationObserverTargetElement},t.prototype.getShadowDomTargetElements=function(){return this._shadowDomTargetElements},t.prototype.getParseCriterias=function(){return this._parseCriterias},t.prototype.getParseCriteriasEx=function(){return this._parseCriteriasEx},t.prototype.getEventTypes=function(){return this._eventTypes},t.prototype.getLanguages=function(){return this._languages},t.prototype.getMatchingProperties=function(){return this._matchingProperties},t.prototype.getInitialParseDelay=function(){return this._initialParseDelay},t.prototype.getParseRetryInfo=function(){return this._parseRetryInfo},t.prototype.getAjaxParseRetryInfo=function(){return this._ajaxParseRetryInfo},t.prototype.getSignonDestinations=function(){return this._signonDestinations},t.prototype.getStringPixelSize=function(){return this._stringPixelSize},t.prototype.getBrowsers=function(){return this._browsers},t.prototype.getRegexEnabledFields=function(){return this._regexEnabledFields},t.prototype.getGroupSeperatorWidth=function(){return this._groupSeperatorWidth},t.prototype.getCustomEventsAfterFill=function(){return this._customEventsAfterFill},t.prototype.serialize=function(){return{OverwriteRule:this.isOverwriteRuleAvailable(),MatchingProperties:this.getMatchingProperties(),ParseCriterias:this.getParseCriterias(),EventTypes:this.getEventTypes(),SignonDestinations:this.getSignonDestinations(),ParseCriteriasEx:this.getParseCriteriasEx(),InitialParseDelay:this.getInitialParseDelay(),ParseRetryInfo:this.getParseRetryInfo(),Languages:this.getLanguages(),MatchFullURLPath:this.isMatchFullURLPathPresent(),AjaxParseRetryInfo:this.getAjaxParseRetryInfo(),StringPixelSize:this.getStringPixelSize(),Browsers:this.getBrowsers(),RegexEnabledFields:this.getRegexEnabledFields(),GroupSeperatorWidth:this.getGroupSeperatorWidth(),MutationObserverTarget:this.getMutationObserverTargetElement(),CustomEventsAfterFill:this.getCustomEventsAfterFill(),ShadowDomTargets:this.getShadowDomTargetElements()}},t)}(window),function(e){"use strict";e.SymWax.formDataFactory=function(e,n){var t=e.utils.isNil;const r=e.utils.isEmptyObject;var a=e.utils.isntNil,s=e.utils.isArray;const i=n.constants;function o(){this._parsePreference={},this._rule={},this._global={},this._urlBasedData={},this._l10n={countries:[],attributes:[]}}var E={};return o.prototype.getParsePreference=function(){return this._parsePreference},o.prototype.getRule=function(){return this._rule},o.prototype.getGlobal=function(){return this._global},o.prototype.getUrlBasedData=function(){return this._urlBasedData},o.prototype.getL10nCountries=function(){return this._l10n.countries},o.prototype.getValidL10nCountries=function(){var e=this.getL10nCountries();return this._getValidFormData(e)},o.prototype.getL10nAttributes=function(){return this._l10n.attributes},o.prototype.getValidL10nAttributes=function(){var e=this.getL10nAttributes();return this._getValidFormData(e)},o.prototype._getValidFormData=function(e){return e.filter(e=>!r(e[i.DATA])&&!r(e[i.FIELD_TYPE]))},o.prototype.serialize=function(){return{parsePreference:this.getParsePreference().serialize(),rule:this.getRule(),global:this.getGlobal(),urlBasedData:this.getUrlBasedData(),l10n:{countries:this.getL10nCountries(),attributes:this.getL10nAttributes()}}},o.prototype.setParsePreference=function(e){if(t(e))throw new Error("parsePreference cannot be nil");this._parsePreference=new n.ParsePreference(e)},o.prototype.setRule=function(e){if(t(e))throw new Error("rule cannot be nil");this._rule=e},o.prototype.setGlobal=function(e){if(t(e))throw new Error("global cannot be nil");this._global=e},o.prototype.setUrlBasedData=function(e){if(t(e))throw new Error("urlBasedData cannot be nil");this._urlBasedData=e},o.prototype.setL10nCountries=function(e){if(!s(e))throw new Error("countries must be an array");this._l10n.countries=e},o.prototype.setL10nAttributes=function(e){if(!s(e))throw new Error("attributes must be an array");this._l10n.attributes=e},o.prototype.appendL10nCountries=function(e){if(!s(e))throw new Error("countries must be an array");this._l10n.countries=this._l10n.countries.concat(e)},o.prototype.appendL10nAttributes=function(e){if(!s(e))throw new Error("attributes must be an array");this._l10n.attributes=this._l10n.attributes.concat(e)},o.prototype.prependL10nCountries=function(e){if(!s(e))throw new Error("countries must be an array");this._l10n.countries=e.concat(this._l10n.countries)},o.prototype.prependL10nAttributes=function(e){if(!s(e))throw new Error("attributes must be an array");this._l10n.attributes=e.concat(this._l10n.attributes)},E.filterRegexInCountryData=function(e,t){const a=n.constants,s=t||[];return 0<s.length?s.includes(a.fieldType.ALL)?e:e.map(n=>{const t=n[a.FIELD_TYPE];let r=[],i=(s.forEach(e=>{e=t.indexOf(e);-1<e&&r.push(e)}),n[a.REGEX]);return 0<r.length?Object.keys(i).forEach(e=>{var t=i[e];r.includes(t)||delete n[a.REGEX][e]}):n[a.REGEX]={},n}):(e.map(e=>(e[a.REGEX]={},e)),e)},E.create=function(t){var n=new o;if(a(t)&&(a(t.parsePreference)&&n.setParsePreference(t.parsePreference),a(t.rule)&&n.setRule(t.rule),a(t.global)&&n.setGlobal(t.global),a(t.urlBasedData)&&n.setUrlBasedData(t.urlBasedData),a(t.l10n))){if(s(t.l10n.countries)){const i=n.getParsePreference();var r=i.getRegexEnabledFields()||[];let e=t.l10n.countries;0<r.length&&(e=E.filterRegexInCountryData(t.l10n.countries,r)),n.setL10nCountries(e)}s(t.l10n.attributes)&&n.setL10nAttributes(t.l10n.attributes)}return n},n.FormData=o,E}(e.SymBfw,e.SymWax)}(window),function(e){"use strict";e.SymWax.formDataLoader=function(d,s){var A=d.utils.isNil,i=d.utils.isArray,o=d.utils.isString,r=d.utils.isFunction,E=d.utils.appendToObject,R=d.utils.isntNil,_=d.logger,T=d.extensionAdapter,S=s.constants,a=(d.utils.isSuccessCode,d.utils.isSuccessCodeLocalFile),I={};const e=d.alarmHelper,l=s.storageUtils,t=s.storageContainer;return I._parsePreferencesData=null,I._domainsData=null,I._urlBasedData=null,I._globalData=null,I._countryMap=new Map,I._rulesJson=null,I._browserLanguage=null,I._overwriteParsePreference=null,I.initialize=function(e,t){return R(e)&&(I._browserLanguage=e),R(t)&&t instanceof Object&&(I._overwriteParsePreference=t),new Promise(function(e,t){I._downloadWaxJson().then(function(){return e()},function(e){return t(new Error("Failed to load one or more JSON files"))})})},I._downloadWaxJson=function(){return new Promise((e,t)=>{if(!I._canDownloadRules())return I.setJsonInMemory(),e();I._downloadJsonFiles().then(function(){return l.setRulesDownloadedTimeStamp(Date.now()),I._registerScheduler(),e()},function(e){I._registerRetryScheduler(),_.log("Failed to load json, registering retry scheduler"),t(new Error("Failed to load files with error "+e))})})},I.setJsonInMemory=function(){I._rulesJson=l.getRulesJson(),I._parsePreferencesData=l.getParsePreferenceJson(),I._domainsData=l.getDomainsData(),I._urlBasedData=l.getUrlBasedData(),I._globalData=l.getGlobalJson()},I._canDownloadRules=function(){var e=l.getRulesDownloadedTimeStamp();return!!A(e)||e+S.WAX_RULES_DOWNLOAD_INTERVAL<=Date.now()},I._downloadJsonFiles=function(){const e=[];return e.push(I._downloadRulesJson()),e.push(I._downloadParsePreferenceJson()),e.push(I._downloadUrlBasedDataJson()),e.push(I._downloadDomainsJson()),e.push(I._downloadGlobalJson()),Promise.all(e)},I._registerScheduler=async function(){await e.setAlarm(S.WAX_JSON_DOWNLOAD,{periodInMinutes:S.WAX_RULES_DOWNLOAD_INTERVAL/S.MILLISECONDS_MINUTES_CONVERSION})},I._registerRetryScheduler=async function(){await e.setAlarm(S.WAX_JSON_DOWNLOAD_RETRY,{delayInMinutes:S.WAX_RULES_RETRY_INTERVAL/S.MILLISECONDS_MINUTES_CONVERSION})},I.handleScheduler=async function(e){e.name!==S.WAX_JSON_DOWNLOAD&&e.name!==S.WAX_JSON_DOWNLOAD_RETRY||(await t.initialize(),I._downloadWaxJson())},I._getJSON=function(i,a,s){return new Promise(function(n,r){I._FetchJSON(i).then(function(e){n(e)},function(e){let t="Failed to load the file from cloud:"+i;R(e)&&(t+=" Error: "+e.message),_.error(t),I._FetchJSON(s).then(function(e){n(e)},function(e){a?n():r(e)})})})},I._FetchJSON=function(r){if(A(r))throw new Error("invalid arguments to _FetchJSON");return new Promise(function(t,n){d.utils.safeFetch(r).then(function(e){a(e.status)?e.json().then(function(e){I._validateJSON(e)?t(JSON.stringify(e.payload)):n(new Error("could not validate json file "+r))}):n(new Error("Fetch "+r+" returned status : "+e.status))},function(e){n(e)})})},I._mergeParsePreference=function(s){if(A(s))throw new Error("DefaultPreference cannot be nil");const o=I._overwriteParsePreference,e={[S.parsePreferences.PARSE_CRITERIAS]:()=>{const r=S.parseCriterias;var e=s[S.DEFAULT_PARSINGPREFERENCES][S.parsePreferences.PARSE_CRITERIAS]||[];const i=o[S.parsePreferences.PARSE_CRITERIAS];if(!(i instanceof Object))return{};let a=Array.from(e);return Object.keys(i).forEach(e=>{var t=Object.values(r).includes(e);let n=d.utils.isBoolean;return t&&n(i[e])?i[e]?a.includes(e)||a.push(e):-1<a.indexOf(e)&&a.splice(a.indexOf(e),1):_.debug(t?"Expected Boolean but got unsupported value type for "+e:"Unknown ParseCriteria: "+e),{}}),{[S.parsePreferences.PARSE_CRITERIAS]:a}},[S.parsePreferences.REGEX_ENABLED_FIELDS]:()=>{const t=Object.values(S.fieldType),e=o[S.parsePreferences.REGEX_ENABLED_FIELDS];if(!i(e))return{};let n=[];return e.includes(S.fieldType.ALL)?n.push(S.fieldType.ALL):e.forEach(e=>{Object.values(t).includes(e)&&n.push(e)}),{[S.parsePreferences.REGEX_ENABLED_FIELDS]:n}}},t=Object.keys(o),n=t.map(t=>{if(e[t])return e[t]();{let e=Object.keys(s[S.DEFAULT_PARSINGPREFERENCES]);var n=e.includes(t);_.debug(n?t+" can't be overwritten":"Unknown ParsePreference: "+t)}});var r=n.reduce((e,t)=>Object.assign({},e,t),s[S.DEFAULT_PARSINGPREFERENCES]);return Object.assign({},s,{DefaultParsingPreferences:r})},I._validateJSON=e=>!A(e.payload)&&!A(e.JWT)&&!!I._verifyJson(e.payload,e.JWT),I._verifyJson=function(t,n){try{let e=forge.md.sha256.create();e.update(JSON.stringify(t));var r,i=e.digest().toHex(),a=KEYUTIL.getKey(S.formDataPublicKey);return!0===KJUR.jws.JWS.verify(n,a,["RS256"])?(r=b64utoutf8(n.split(".")[1]),KJUR.jws.JWS.readSafeJSONString(r).hash===i):!1}catch(e){return _.error(e),!1}},I._getParsePreferencesRulesJSON=function(){return new Promise(function(e,t){return R(I._parsePreferencesData)?e():(n=l.getParsePreferenceJson(),R(n)?(I._parsePreferencesData=n,e()):void I._downloadParsePreferenceJson().then(()=>e()).catch(e=>t(e)));var n})},I._downloadParsePreferenceJson=function(){return new Promise((t,n)=>{I._getJSON(S.cloudFormData.CDN_FORMDATA_BASE_URL+"parsepreferences.json",!1,T.getExtensionURL("content/formdata/parsepreferences.json")).then(function(e){if(A(e))return _.error("could not load parsepreferences.json"),n(new Error("could not parse preference "));e=JSON.parse(e);return R(I._overwriteParsePreference)?I._parsePreferencesData=I._mergeParsePreference(e):I._parsePreferencesData=e,l.setParsePreferenceJson(I._parsePreferencesData),t(I._parsePreferencesData)},function(e){n(e)})})},I.getParsePreferenceForURL=function(e){return I._getParsePreferencesRulesForURL(e)},I._getParsePreferencesRulesForURL=function(i){if(o(i))return new Promise(function(n,r){I._getParsePreferencesRulesJSON().then(function(){if(A(I._parsePreferencesData))return r(new Error("could not parse preference "));I._parsePreferencesData.hasOwnProperty(S.DEFAULT_PARSINGPREFERENCES)&&(e=JSON.parse(JSON.stringify(I._parsePreferencesData[S.DEFAULT_PARSINGPREFERENCES])));var e,t=d.utils.getDomain(i),t=(R(t)&&I._parsePreferencesData.hasOwnProperty(S.DOMAIN_RULES)&&I._parsePreferencesData[S.DOMAIN_RULES].hasOwnProperty(t)&&E(e,I._parsePreferencesData[S.DOMAIN_RULES][t]),d.utils.urlWithoutQueryParameters(i,!1));return R(t)&&I._parsePreferencesData.hasOwnProperty(S.URL_RULES)&&I._parsePreferencesData[S.URL_RULES].hasOwnProperty(t)&&E(e,I._parsePreferencesData[S.URL_RULES][t]),n(e)},function(e){return r(new Error("could not parse preference "+e))})});throw new Error("invalid arguments to _getParsePreferencesRulesForURL")},I._getRules=function(r){if(o(r))return new Promise(function(t,n){I._getRulesJson().then(function(){return A(I._rulesJson)?(_.error("unable to load rules.json file"),n(new Error("Failed to parse rules json"))):(e=I._processRulesJson(r),A(e)?n(new Error("Failed to parse rules json")):void t(e));var e},function(e){n(new Error("Failed to parse rules json"))})});throw new Error("Invalid arguments passed to _getRules")},I._getRulesJson=function(){return new Promise(function(e,t){return R(I._rulesJson)?e(I._rulesJson):(n=l.getRulesJson(),R(n)?(I._rulesJson=n,e(I._rulesJson)):void I._downloadRulesJson().then(()=>{e()}).catch(e=>{t(e)}));var n})},I._downloadRulesJson=function(){return new Promise((t,n)=>{I._getJSON(S.cloudFormData.CDN_FORMDATA_BASE_URL+"rules.json",!1,T.getExtensionURL("content/formdata/rules.json")).then(function(e){if(A(e))return n(new Error("Failed to parse rules json"));I._rulesJson=JSON.parse(e),l.setRulesJson(I._rulesJson),t()},function(e){n(e)})})},I._processRulesJson=function(e){if(o(e)){if(!A(I._rulesJson)){var t={},n=d.utils.baseURL(e);if(!A(n)){var r=d.utils.pathName(e);if(I._rulesJson.hasOwnProperty(n)){if(I._rulesJson[n].hasOwnProperty(S.NORMALIZE_URL)){e=I._rulesJson[n][S.NORMALIZE_URL];if(e)for(var i of e){var a=i[S.ORIGINAL_URL].replace(/\//g,"\\/"),a=new RegExp(a);if(-1!==r.search(a)){r=r.replace(a,i[S.NORMALIZED_URL]);break}}}I._rulesJson[n].hasOwnProperty(r)&&E(t,I._rulesJson[n][r][S.RULES])}return t}}}else _.error("Invalid parameters passed to _processRulesJson")},I._getCountryJSONSForGivenCodes=function(E,_,l){if(i(E)&&i(_)&&o(l))return new Promise(function(e,r){for(var i=[],a=[],s=0;s<E.length;s++){let t=S.cloudFormData.CDN_L10N_JSON_URL+_[E[s]],n="/content/formdata/l10n/"+_[E[s]];if(l===S.COUNTRY_DATA)t+=".json",n+=".json";else{if(l!==S.COUNTRY_ATTRIBUTE)return r("Invalid type");t+=".att.json",n+=".att.json"}var o=I._countryMap.get(t);if(A(o)){let e=I._getJSON(t,!0,T.getExtensionURL(n));e.then(function(e){R(e)&&(I._countryMap.set(t,JSON.parse(e)),i.push(JSON.parse(e)))},function(e){r(e)}),a.push(e)}else i.push(o)}Promise.all(a).then(function(){return e(i)}).catch(function(){return r(new Error("Could not load all country json for given URL"))})});throw new Error("invalid arguments to _getCountryJSONSForGivenCodes")},I._getDomainsJSON=function(){return new Promise(function(e,t){return R(I._domainsData)?e():(n=l.getDomainsData(),R(n)?(I._domainsData=n,e()):void I._downloadDomainsJson().then(()=>e()).catch(e=>t(e)));var n})},I._downloadDomainsJson=function(){return new Promise((t,n)=>{I._getJSON(S.cloudFormData.CDN_FORMDATA_BASE_URL+"domains.json",!1,T.getExtensionURL("content/formdata/domains.json")).then(function(e){return A(e)?(_.error("could not load domains.json"),n(new Error("could not domains"))):(I._domainsData=JSON.parse(e),l.setDomainsData(I._domainsData),t())},function(e){n(e)})})},I._getGlobalJSON=function(){return new Promise(function(e,t){return R(I._globalData)?e(I._globalData):(n=l.getGlobalJson(),R(n)?(I._globalData=n,e(I._globalData)):void I._downloadGlobalJson().then(function(){return e(I._globalData)}).catch(e=>t(e)));var n})},I._downloadGlobalJson=function(){return new Promise((t,n)=>{I._getJSON(S.cloudFormData.CDN_FORMDATA_BASE_URL+"global.json",!1,T.getExtensionURL("content/formdata/global.json")).then(function(e){return A(e)?(_.error("could not load global.json"),n(new Error("could not get global data"))):(I._globalData=JSON.parse(e),l.setGlobalJson(I._globalData),t(I._globalData))},function(e){n(e)})})},I._getCountryData=function(T,n,u,r){if(!o(T))throw new Error("invalid arguments to _getCountryData");if(!(n instanceof Promise))throw new Error("Type Error: preferencePromise has to be of type Promise");if(A(u)||!i(u))throw new Error("Type Error: languagesFromHTML has to be of type Array<Languages>");if(A(r))throw new Error("invalid arguments to _getCountryData");return new Promise(function(_,l){var e=I._getDomainsJSON();let t=[n,e];e=d.extensionAdapter.detectLanguageByTabId(r.id);R(e)&&t.push(e),Promise.all(t).then(function(e){function t(e){if(R(e)&&0<e.length){let t=[];e.forEach(e=>{s[e]&&t.push(...s[e])}),o=Array.from(new Set(o.concat(t)))}}var n=[],r=[],i=d.utils.getUrlTLD(T),a=I._domainsData[S.COUNTRIES],s=I._domainsData[S.DOMAIN],o=s[i]||[],i=e[0],e=e[2],E=[],i=(R(i)&&R(i[S.LANGUAGES])&&t(i[S.LANGUAGES]),R(e)&&(u=u.concat((t=>{let n=t.split("-");if(1==n.length)return n;{let e=n.map(e=>e.trim()).map(e=>e.toLowerCase());return e.unshift(t),e}})(e))),t(u),a.indexOf(S.cloudFormData.L10N_US_CODE));-1===o.indexOf(i)&&o.push(i),R(o)&&0<o.length&&((e=I._getCountryJSONSForGivenCodes(o,a,S.COUNTRY_DATA)).then(function(e){0<e.length&&(n=n.concat(e))},function(e){return l(e)}),E.push(e),(i=I._getCountryJSONSForGivenCodes(o,a,S.COUNTRY_ATTRIBUTE)).then(function(e){0<e.length&&(r=r.concat(e))},function(e){return l(e)}),E.push(i)),R(I._browserLanguage)&&R(s[I._browserLanguage])&&((e=I._getCountryJSONSForGivenCodes(s[I._browserLanguage],a,S.COUNTRY_DATA)).then(function(e){0<e.length&&(n=n.concat(e))},function(e){return l(e)}),E.push(e),(i=I._getCountryJSONSForGivenCodes(s[I._browserLanguage],a,S.COUNTRY_ATTRIBUTE)).then(function(e){0<e.length&&(r=r.concat(e))},function(e){return l(e)}),E.push(i)),Promise.all(E).then(function(){return _({countries:n,attributes:r})})},function(e){return l(e)})})},I._getURLBasedDataJSON=function(){return new Promise(function(e,t){return R(I._urlBasedData)?e():(n=l.getUrlBasedData(),R(n)?(I._urlBasedData=n,e()):void I._downloadUrlBasedDataJson().then(function(){return e()}).catch(e=>t(e)));var n})},I._downloadUrlBasedDataJson=function(){return new Promise((t,n)=>{I._getJSON(S.cloudFormData.CDN_FORMDATA_BASE_URL+"urlbaseddata.json",!1,T.getExtensionURL("content/formdata/urlbaseddata.json")).then(function(e){return A(e)?(_.error("could not load parse urlbaseddata.json"),n(new Error("could not url based data"))):(I._urlBasedData=JSON.parse(e),l.setUrlBasedData(I._urlBasedData),t())},function(e){n(e)})})},I._getURLBasedDataForURL=function(a){if(o(a))return new Promise(function(r,i){I._getURLBasedDataJSON().then(function(){if(A(I._urlBasedData))return i(new Error("could not load urlbaseddata.json "));var e,t={},n=d.utils.baseURL(a);return R(n)&&I._urlBasedData[S.DATA].hasOwnProperty(n)&&((e={})[I._urlBasedData[S.DATA_TYPE][I._urlBasedData[S.DATA][n]]]=!0,E(t,e)),r(t)},function(e){return i(new Error("could not urlbaseddata "+e))})});throw new Error("invalid arguments to _getURLBasedDataForURL")},I._getDataForURL=function(e,n,a){if(o(e))return new Promise(function(r,t){var i={};i[S.RULES]=I._getRules(e),i[S.PREFERENCES]=I._getParsePreferencesRulesForURL(e),i[S.COUNTRY_DATA]=I._getCountryData(e,i[S.PREFERENCES],n,a),i[S.URL_BASED_DATA]=I._getURLBasedDataForURL(e),i[S.GLOBAL_DATA]=I._getGlobalJSON(),Promise.all(Object.values(i)).then(function(e){var t=Object.keys(i),n=s.formDataFactory.create();return n.setRule(e[t.indexOf(S.RULES)]),n.setParsePreference(e[t.indexOf(S.PREFERENCES)]),n.setL10nCountries(e[t.indexOf(S.COUNTRY_DATA)].countries),n.setL10nAttributes(e[t.indexOf(S.COUNTRY_DATA)].attributes),n.setUrlBasedData(e[t.indexOf(S.URL_BASED_DATA)]),n.setGlobal(e[t.indexOf(S.GLOBAL_DATA)]),r(n.serialize())},function(e){return t(new Error("unable to fetch all the JSON contents for the URL. "+e))})});throw new Error("Invalid parameter passed to _getDataForURL")},I.handleMessage=function(e,t,n){if(!A(e)&&r(t)&&(!A(e.payload)&&!A(e.payload.url)))return e.id===S.messages.GET_URL_DATA?(I._getDataForURL(e.payload.url,e.payload.lang,n).then(function(e){t(e)},function(e){_.info("Invalid promise return for _getDataForURL, with error:"+e),t(null)}),!0):void 0},I}(e.SymBfw,e.SymWax),SymBfw.extensionAdapter.addMessageListener(SymWax.formDataLoader.handleMessage),SymBfw.alarmHelper.registerAlarmListener(SymWax.formDataLoader.handleScheduler)}(window),function(e){"use strict";var t,n,r,i,a;e.SymWax.messageHandler=(t=e.SymBfw,e=e.SymWax,n={},r=t.utils.isNil,i=t.extensionAdapter,a=e.constants.messages,n._handleMessage=function(e,t,n){r(e)||e.id===a.TRIGGER_AJAX_PARSE_RETRY&&i.sendMessageToTab(n,{id:a.TRIGGER_AJAX_PARSE_RETRY_RESPONSE})},i.addMessageListener(n._handleMessage),i.addTabUpdatedEventListener(function(e,t,n){i.sendMessageToTab(n,{id:a.TRIGGER_FORCED_WAX_ANALYSIS})}),n)}(window),function(e){"use strict";e.SymWax.waxFormSubmissionConstants=function(){let e={status:{SUCCESS:"SUCCESS",FAILURE:"FAILURE",SUCCESS_TIMEOUT:"SUCCESS_TIMEOUT",FAILURE_TIMEOUT:"FAILURE_TIMEOUT"},message:{SUCCESS_MESSAGE:"Form submission succeed",FAILURE_MESSAGE:"Form submission failed",SUCCESS_TIMEOUT_MESSAGE:"Form submission succeed due to timeout",FAILURE_TIMEOUT_MESSAGE:"Form submission failed due to timeout"},timerStatus:{TIMER_EXPIRED:"timerExpired",TIMER_PENDING:"timerPending"},pageStatus:{INITIAL:"Initial",LOADING_COMPLETED:"LoadingCompleted",LOADING_IN_PROGRESS:"LoadingInProgress",FORM_REMOVED:"FormRemoved"}};return e}(e.SymWax)}(window),function(e){"use strict";e.SymWax.IFormSubmissionClient=(e.SymBfw,e.SymWax,class{onLoginFormSubmission(e,t){throw new Error("Should be implemented by derived object")}async processSubmissionPayload(e){throw new Error("Should be implemented by derived object")}getConfig(){throw new Error("Should be implemented by derived object")}})}(window),(({SymBfw:e,SymWax:t})=>{!function(i,a){"use strict";const{extensionAdapter:o,utils:e,logger:s}=i,{isNil:E,isntNil:_,isNumber:l,isObject:T,isInteger:n,isString:r,isArray:u}=e,{IFormSubmissionClient:d,constants:A,waxFormSubmissionConstants:R,formDataLoader:S}=a,{messages:I,groupType:t,formEvents:{FORMS_FOUND:N,FORM_SUBMIT:f,ALL_FORM_ELEMENTS_REMOVED:c}}=A,{LOGIN:O,PARTIAL_LOGIN:D,INTERACTION_PAGE:g}=t,p=[R.pageStatus.LOADING_COMPLETED,R.pageStatus.FORM_REMOVED];a.waxFormSubmissionHandler=new class{constructor(){this._formSubmissionClient=null,this.initialize=this.initialize.bind(this),this._loginInfoMap=new Map,this._onTabRemoved=this._onTabRemoved.bind(this),this._onTabLoading=this._onTabLoading.bind(this),this._onTabLoadingComplete=this._onTabLoadingComplete.bind(this),this._onTabReplaced=this._onTabReplaced.bind(this),this._handleMessage=this._handleMessage.bind(this),this._loginSubmissionInfo=new Map}initialize(e){if(s.debug("WaxSLD:: WaxFormSubmissionHandler - initialize"),!(e instanceof d))throw new Error("formSubmissionClient has to be of type IFormSubmissionClient");var t=e.getConfig();if(E(t)||!n(t.TIMEOUT))throw new Error("SubmissionClient configuration is null");this._formSubmissionClient=e,this._initListeners()}_addLoginInfo(e,t){if(!l(e))throw new Error("TypeError: tabId has to be of type Number");if(!T(t))throw new Error("TypeError: loginInfo has to be of type Object");const n=new a.LoginInfo;n.set(t),this._loginInfoMap.set(e,n)}_getLoginInfo(e){if(l(e))return this._loginInfoMap.get(e);throw new Error("TypeError: tabId has to be of type Number")}_deleteLoginInfo(e){if(!l(e))throw new Error("TypeError: tabId has to be of type Number");this._loginInfoMap.delete(e)}_onTabRemoved(e){this._deleteLoginInfo(e),this._deleteLoginSubmissionInfo(e)}_onTabReplaced(e,t){var n,r;l(e)&&l(t)?(n=this._getLoginInfo(t),r=this._getLoginSubmissionInfo(t),E(n)||(this._deleteLoginInfo(t),this._deleteLoginSubmissionInfo(t),this._addLoginInfo(e,n),this._addLoginSubmissionInfo(e,r))):s.error("TypeError: addedTabId and removedTabId has to be of type Number")}_onTabLoading({tabId:e,url:t}){var n=this._getLoginSubmissionInfo(e);E(n)||(n.pageStatus===R.pageStatus.LOADING_IN_PROGRESS?s.debug("WaxSLD:: Already set Loading in Progress: "+e+JSON.stringify(n)):n.pageStatus===R.pageStatus.LOADING_COMPLETED?s.debug("WaxSLD:: Loading for top frame completed: "+e+JSON.stringify(n)):t&&t.startsWith("chrome-extension://")||(clearTimeout(n.timerId),t=Object.assign({},n,{pageStatus:R.pageStatus.LOADING_IN_PROGRESS}),this._addLoginSubmissionInfo(e,t),s.debug("WaxSLD:: Loading in Progress: "+e+JSON.stringify(n))))}async _onTabLoadingComplete({tabId:e,changeInfo:t,frameId:n}){var r,i;0===n&&(r=e,n=await new Promise((e,t)=>{try{o.getTab(r,e)}catch(e){t(e)}}),i=this._getLoginSubmissionInfo(e),E(i)||(n=this._createNewLoginSubmissionTimer(n,i.senderURL,1e3),i=Object.assign({},n,{pageStatus:R.pageStatus.LOADING_COMPLETED}),this._addLoginSubmissionInfo(e,i),s.debug("WaxSLD:: Loading Completed: "+e+JSON.stringify(i)+JSON.stringify(t))))}_initListeners(){o.addTabRemovedEventListener(this._onTabRemoved),o.addBeforeNavigateEventListener(this._onTabLoading),o.addNavigationCommittedEventListener(this._onTabLoading),o.addNavigationCompletedEventListener(this._onTabLoadingComplete),o.addTabReplacedEventListener(this._onTabReplaced),o.addMessageListener(this._handleMessage)}_addLoginSubmissionInfo(e,t){this._loginSubmissionInfo.set(e,t)}_getLoginSubmissionInfo(e){return this._loginSubmissionInfo.get(e)}_deleteLoginSubmissionInfo(e){var t=this._getLoginSubmissionInfo(e);E(t)||(clearTimeout(t.timerId),this._loginSubmissionInfo.delete(e))}_sendLoginSubmission(e,t,n){var r=o.getTabID(e),i=this._getLoginInfo(r).get(),a=this._getLoginSubmissionInfo(r);const s=t===R.status.SUCCESS?{message:R.message.SUCCESS_MESSAGE}:{message:R.message.FAILURE_MESSAGE};s.status=t;i={data:{loginInfo:i,tabId:r,submissionInfo:a,timerExpired:n},result:s};this._formSubmissionClient.onLoginFormSubmission(i,e),t===R.status.SUCCESS&&this._deleteLoginInfo(r),this._deleteLoginSubmissionInfo(r)}async _loginSubmissionTimerHandler(t){var e,n,r=o.getTabID(t),r=this._getLoginSubmissionInfo(r);try{const i=await S.getParsePreferenceForURL(t.url);if(i.ParseCriterias.includes(A.parseCriterias.ENABLE_FORM_EXIST_VALIDATION))return e={id:I.DOES_FORM_EXIST,payload:{formType:O}},n={frameId:r.frameId},s.debug("WaxSLD:: DOES_FORM_EXIST request sent"),void o.sendMessageToTab(t,e,e=>{s.debug("WaxSLD:: DOES_FORM_EXIST response: "+e);e=e?R.status.FAILURE:R.status.SUCCESS;this._sendLoginSubmission(t,e,R.timerStatus.TIMER_EXPIRED)},n);if(p.includes(r.pageStatus))return void this._sendLoginSubmission(t,R.status.SUCCESS,R.timerStatus.TIMER_EXPIRED);this._sendLoginSubmission(t,R.status.FAILURE,R.timerStatus.TIMER_EXPIRED)}catch(e){this._sendLoginSubmission(t,R.status.FAILURE,R.timerStatus.TIMER_EXPIRED)}}_deleteNilKeys(e){for(const t in e)E(e[t])&&delete e[t];return e}_mergeAndAddLoginInfo(e,t){const n=this._getLoginInfo(e);let r;_(n)&&E(t.password)&&n.setPassword(null),r=n instanceof a.LoginInfo?Object.assign({},n.get(),this._deleteNilKeys(t)):t,this._addLoginInfo(e,r)}_isLoginInfoComplete(e){const t=this._getLoginInfo(e);var e=_(t.getUsername()),n=_(t.getPassword());return e&&n}_createNewLoginSubmissionTimer(e,t,n){var r=o.getTabID(e),i=this._getLoginSubmissionInfo(r),e=setTimeout(this._loginSubmissionTimerHandler.bind(this,e),n),n=Object.assign({},i||{pageStatus:R.pageStatus.INITIAL,skipDomainValidation:!1,interactionFormFound:!1},{timerId:e,senderURL:t});return _(i)&&this._deleteLoginSubmissionInfo(r),s.debug("WaxSLD:: Created New Submission: "+JSON.stringify(n)),n}async _loginFormSubmitEventHandler(e,t,n){var e=e.payload,r=o.getTabID(t);if(this._mergeAndAddLoginInfo(r,e.loginInfo),this._isLoginInfoComplete(r)){var i=this._formSubmissionClient.getConfig();const a=this._createNewLoginSubmissionTimer(t,e.senderURL,1e3*i.TIMEOUT);a.skipDomainValidation=!!e.skipDomainValidation,a.frameId=n,this._addLoginSubmissionInfo(r,a)}}_loginFormFoundEventHandler({payload:e},t){i.utils.getDomain(e.senderURL)===i.utils.getDomain(t.url)&&(e=o.getTabID(t),e=this._getLoginSubmissionInfo(e),i.utils.isNil(e)||e.pageStatus!==R.pageStatus.INITIAL&&(this._deleteLoginSubmissionInfo(t),this._sendLoginSubmission(t,R.status.FAILURE,R.timerStatus.TIMER_PENDING)))}_loginFormRemovedEventHandler({payload:e},t){var n,r;i.utils.getDomain(e.senderURL)===i.utils.getDomain(t.url)&&(e=o.getTabID(t),n=this._getLoginSubmissionInfo(e),E(n)||n.pageStatus===R.pageStatus.INITIAL&&(r=this._formSubmissionClient.getConfig(),clearTimeout(n.timerId),t=setTimeout(this._loginSubmissionTimerHandler.bind(this,t),1e3*r.TIMEOUT),r=Object.assign({},n,{timerId:t,pageStatus:R.pageStatus.FORM_REMOVED}),this._addLoginSubmissionInfo(e,r)))}_interactionFormFoundEventHandler({payload:e},t){i.utils.getDomain(e.senderURL)===i.utils.getDomain(t.url)&&(e=o.getTabID(t),t=this._getLoginSubmissionInfo(e),E(t)||(t=Object.assign({},t,{interactionFormFound:!0}),this._addLoginSubmissionInfo(e,t)))}_handleFormSubmitEvent(e,t,n){r(e.payload.formType)&&e.payload.formType.includes(O)&&this._loginFormSubmitEventHandler(e,t,n)}_handleFormFoundEvent(e,t){u(e.payload.formTypes)&&((e.payload.formTypes.includes(O)||e.payload.formTypes.includes(D))&&this._loginFormFoundEventHandler(e,t),e.payload.formTypes.includes(g)&&this._interactionFormFoundEventHandler(e,t))}_handleFormRemovedEvent(e,t){r(e.payload.formType)&&e.payload.formType.includes(O)&&this._loginFormRemovedEventHandler(e,t)}_handleMessage(e,t,n,r){if(!E(e)&&!E(e.id)&&!E(n)&&T(e.payload))switch(e.id){case N:s.debug("WaxSLD:: FORMS_FOUND event received"),this._handleFormFoundEvent(e,n);break;case f:s.debug("WaxSLD:: FORM_SUBMIT event received"),this._handleFormSubmitEvent(e,n,r);break;case c:this._handleFormRemovedEvent(e,n),s.debug("WaxSLD:: ALL_FORM_ELEMENTS_REMOVED event received")}}}}(e,t)})(window),function(e){"use strict";e.SymWax.init=function(a){var e={};const{logger:s,utils:{isntNil:t}}=SymBfw;return e.initializeWaxFormDataLoaderSettings=function(e,r=null,i=null){return new Promise(function(t,n){a.formDataLoader.initialize(e,i).then(function(e){t("Form data loader settings initialized"),a.manager.initialize(r)},function(e){s.error("Failed to completely initialize Form data loader settings, with error: "+e),n("Failed to initialize Form data loader settings")})})},e.initializeWaxFormSubmission=function(e){t(a.waxFormSubmissionHandler)&&a.waxFormSubmissionHandler.initialize(e)},e}(e.SymWax)}(window),function(e){"use strict";e.SymWax.telemetryWrapperBG=function(i,e){const{extensionAdapter:t,telemetryConstants:a,logger:n,utils:s}=i,o=e["constants"],E=o["messages"],{isNil:_,isString:l,isObject:T,urlWithoutQueryParameters:u}=s;let d={_defaultParameters:null,_ignoreTelemetryEnableSettings:"false",_waxTelemetryInitailzed:!1,_waxTelemetry:null,setDefaultParameter:function(e){_(e)&&n.error("telemetry param is null"),d._defaultParameters=e},_handleMessage:function(e,t,n){if(!_(e)&&!_(e.payload)){var r=e.id;if(r===E.SEND_WAX_TELEMETRY_TO_BG){r=n.url;if(n.status===o.tabStatus.LOADING){n=e.payload.customDimensions;if(!T(n))return;n=e.payload.customDimensions.cd13;if(!l(n))return;if(s.getDomain(r)!==s.getDomain(n))return}d.sendDetectionTelemetry(r,e.payload)}}},sendDetectionTelemetry:function(n,r){if(_(d._defaultParameters))return!1;if(_(r.eventType))return!1;let e=d._defaultParameters;if(e[a.TRACKING_ID]=o.telemetry.TRACKING_ID,"true"===d._ignoreTelemetryEnableSettings){e[a.CLIENT_ID]=s.createNewGuid();let t=new i.Telemetry(E.SEND_WAX_TELEMETRY_TO_BFW,d._ignoreTelemetryEnableSettings);t.init(e,function(e){return!0===e&&(d._constructParamAndSend(t,n,r),!0)})}else{if(!_(d._waxTelemetry))return!!d._waxTelemetryInitailzed&&(d._constructParamAndSend(d._waxTelemetry,n,r),!0);d._waxTelemetry=new i.Telemetry(E.SEND_WAX_TELEMETRY_TO_BFW,d._ignoreTelemetryEnableSettings),d._waxTelemetry.init(e,function(e){return!0===e&&(d._waxTelemetryInitailzed=!0,d._constructParamAndSend(d._waxTelemetry,n,r),!0)})}},_constructParamAndSend:function(e,t,n){let r={};r[a.parameters.HIT_TYPE]=a.HIT_TYPE.EVENT,r[a.parameters.CATEGORY]=o.telemetry.CATEGORY,r[a.parameters.ACTION]=n.eventType,r[a.parameters.LABEL]=u(t),r=Object.assign({},r,n.customDimensions),e.send(r)}};return t.addMessageListener(d._handleMessage),d}(e.SymBfw,e.SymWax)}(window),function(e){"use strict";e.SymWax.manager=function(e,t){const a=t.extensionAdapter,s=e.constants.messages,o=t.utils.isNil,n=t.utils.isntNil,r=t.utils.isInteger,i=t.utils.isEmptyObject,E=e.constants;let _={};return _._maxThreshold=E.NO_THRESHOLD_CHECK_VALUE,_._processedTabInfos=new Map,_.initialize=function(e){a.addMessageListener(_._handleMessage),n(e)&&r(e)&&(_._maxThreshold=e)},_._getThresholdInfo=function(e){let t=_._processedTabInfos.get(e);return i(t)&&(t={processedFramesCount:0,maxThreshold:_._maxThreshold},_._processedTabInfos.set(e,t)),t},_._handleMessage=function(t,n,e){if(!o(t)&&!o(t.id)){var r=a.getTabID(e);switch(t.id){case s.CHECK_ANALYSIS_REQUIRED:let e=_._getThresholdInfo(r);var i=_._isAnalysisNeeded(e,r);!0===i&&(e.processedFramesCount+=1,_._processedTabInfos.set(r,e)),n(i);break;case s.TOP_FRAME_UNLOAD_EVENT:_._processedTabInfos.delete(r)}}},_._isAnalysisNeeded=function(e,t){let n=e.processedFramesCount;var r=e.maxThreshold;return r===E.NO_THRESHOLD_CHECK_VALUE||!((n=o(n)?0:n)>=r)&&(_._processedTabInfos.set(t,e),!0)},_}(e.SymWax,e.SymBfw)}(window),function(e){const{utils:{isString:n,isNil:r,isObject:t},logger:i,utils:a}=SymBfw;e.SymWax.LoginInfo=class{constructor(){this._username=null,this._password=null,this.set=this.set.bind(this),this.get=this.get.bind(this),this.clear=this.clear.bind(this),this.getUsername=this.getUsername.bind(this),this.getPassword=this.getPassword.bind(this),this.serialize=this.serialize.bind(this)}set(e){if(!t(e))throw"loginInfo is empty or invalid object";this.setUsername(e.username),this.setPassword(e.password)}setPassword(e){var t=SymWax.obfuscationKeyManager.getObfuscationKey();if(!n(t)||""===t)throw"Invalid obfuscationKey";n(e)&&""===e||r(e)?(i.debug("empty password can not be obfuscated, storing as it is"),this._password=e):this._password=a.obfuscatePassword(e,t)}setUsername(e){this._username=e}getUsername(){return this._username}getPassword(){var e=SymWax.obfuscationKeyManager.getObfuscationKey();if(n(e)&&""!==e)return n(this._password)&&""===this._password||r(this._password)?(i.debug("empty password can not be deobfuscated"),this._password):a.obfuscatePassword(this._password,e);throw"Invalid obfuscationKey"}get(){return this.serialize()}serialize(){return{username:this.getUsername(),password:this.getPassword()}}clear(){this._username=null,this._password=null}}}(window),function(e){"use strict";e.SymWax.obfuscationKeyManager=(e.SymWax,new SymBfw.ObfuscationKeyManager)}(window),function(e){"use strict";e.SymWax.telemetryWrapperBG=function(i,e){const{extensionAdapter:t,telemetryConstants:a,logger:n,utils:s}=i,o=e["constants"],E=o["messages"],{isNil:_,isString:l,isObject:T,urlWithoutQueryParameters:u}=s;let d={_defaultParameters:null,_ignoreTelemetryEnableSettings:"false",_waxTelemetryInitailzed:!1,_waxTelemetry:null,setDefaultParameter:function(e){_(e)&&n.error("telemetry param is null"),d._defaultParameters=e},_handleMessage:function(e,t,n){if(!_(e)&&!_(e.payload)){var r=e.id;if(r===E.SEND_WAX_TELEMETRY_TO_BG){r=n.url;if(n.status===o.tabStatus.LOADING){n=e.payload.customDimensions;if(!T(n))return;n=e.payload.customDimensions.cd13;if(!l(n))return;if(s.getDomain(r)!==s.getDomain(n))return}d.sendDetectionTelemetry(r,e.payload)}}},sendDetectionTelemetry:function(n,r){if(_(d._defaultParameters))return!1;if(_(r.eventType))return!1;let e=d._defaultParameters;if(e[a.TRACKING_ID]=o.telemetry.TRACKING_ID,"true"===d._ignoreTelemetryEnableSettings){e[a.CLIENT_ID]=s.createNewGuid();let t=new i.Telemetry(E.SEND_WAX_TELEMETRY_TO_BFW,d._ignoreTelemetryEnableSettings);t.init(e,function(e){return!0===e&&(d._constructParamAndSend(t,n,r),!0)})}else{if(!_(d._waxTelemetry))return!!d._waxTelemetryInitailzed&&(d._constructParamAndSend(d._waxTelemetry,n,r),!0);d._waxTelemetry=new i.Telemetry(E.SEND_WAX_TELEMETRY_TO_BFW,d._ignoreTelemetryEnableSettings),d._waxTelemetry.init(e,function(e){return!0===e&&(d._waxTelemetryInitailzed=!0,d._constructParamAndSend(d._waxTelemetry,n,r),!0)})}},_constructParamAndSend:function(e,t,n){let r={};r[a.parameters.HIT_TYPE]=a.HIT_TYPE.EVENT,r[a.parameters.CATEGORY]=o.telemetry.CATEGORY,r[a.parameters.ACTION]=n.eventType,r[a.parameters.LABEL]=u(t),r=Object.assign({},r,n.customDimensions),e.send(r)}};return t.addMessageListener(d._handleMessage),d}(e.SymBfw,e.SymWax)}(window);